var Kw=Object.defineProperty;var Gw=(e,t,r)=>t in e?Kw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var eu=(e,t,r)=>Gw(e,typeof t!="symbol"?t+"":t,r);function Qw(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var b0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sv={exports:{}},mh={},av={exports:{}},er={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pf=Symbol.for("react.element"),Jw=Symbol.for("react.portal"),Yw=Symbol.for("react.fragment"),Xw=Symbol.for("react.strict_mode"),Zw=Symbol.for("react.profiler"),e3=Symbol.for("react.provider"),t3=Symbol.for("react.context"),r3=Symbol.for("react.forward_ref"),n3=Symbol.for("react.suspense"),i3=Symbol.for("react.memo"),s3=Symbol.for("react.lazy"),R2=Symbol.iterator;function a3(e){return e===null||typeof e!="object"?null:(e=R2&&e[R2]||e["@@iterator"],typeof e=="function"?e:null)}var ov={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lv=Object.assign,uv={};function Qu(e,t,r){this.props=e,this.context=t,this.refs=uv,this.updater=r||ov}Qu.prototype.isReactComponent={};Qu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function cv(){}cv.prototype=Qu.prototype;function q1(e,t,r){this.props=e,this.context=t,this.refs=uv,this.updater=r||ov}var V1=q1.prototype=new cv;V1.constructor=q1;lv(V1,Qu.prototype);V1.isPureReactComponent=!0;var T2=Array.isArray,fv=Object.prototype.hasOwnProperty,$1={current:null},dv={key:!0,ref:!0,__self:!0,__source:!0};function hv(e,t,r){var n,i={},s=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)fv.call(t,n)&&!dv.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),d=0;d<o;d++)l[d]=arguments[d+2];i.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:pf,type:e,key:s,ref:a,props:i,_owner:$1.current}}function o3(e,t){return{$$typeof:pf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function H1(e){return typeof e=="object"&&e!==null&&e.$$typeof===pf}function l3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var D2=/\/+/g;function yp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?l3(""+e.key):t.toString(36)}function dd(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case pf:case Jw:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+yp(a,0):n,T2(i)?(r="",e!=null&&(r=e.replace(D2,"$&/")+"/"),dd(i,t,r,"",function(d){return d})):i!=null&&(H1(i)&&(i=o3(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(D2,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",T2(e))for(var o=0;o<e.length;o++){s=e[o];var l=n+yp(s,o);a+=dd(s,t,r,l,i)}else if(l=a3(e),typeof l=="function")for(e=l.call(e),o=0;!(s=e.next()).done;)s=s.value,l=n+yp(s,o++),a+=dd(s,t,r,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function qf(e,t,r){if(e==null)return e;var n=[],i=0;return dd(e,n,"","",function(s){return t.call(r,s,i++)}),n}function u3(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var di={current:null},hd={transition:null},c3={ReactCurrentDispatcher:di,ReactCurrentBatchConfig:hd,ReactCurrentOwner:$1};function pv(){throw Error("act(...) is not supported in production builds of React.")}er.Children={map:qf,forEach:function(e,t,r){qf(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return qf(e,function(){t++}),t},toArray:function(e){return qf(e,function(t){return t})||[]},only:function(e){if(!H1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};er.Component=Qu;er.Fragment=Yw;er.Profiler=Zw;er.PureComponent=q1;er.StrictMode=Xw;er.Suspense=n3;er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c3;er.act=pv;er.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=lv({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=$1.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)fv.call(t,l)&&!dv.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var d=0;d<l;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:pf,type:e.type,key:i,ref:s,props:n,_owner:a}};er.createContext=function(e){return e={$$typeof:t3,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:e3,_context:e},e.Consumer=e};er.createElement=hv;er.createFactory=function(e){var t=hv.bind(null,e);return t.type=e,t};er.createRef=function(){return{current:null}};er.forwardRef=function(e){return{$$typeof:r3,render:e}};er.isValidElement=H1;er.lazy=function(e){return{$$typeof:s3,_payload:{_status:-1,_result:e},_init:u3}};er.memo=function(e,t){return{$$typeof:i3,type:e,compare:t===void 0?null:t}};er.startTransition=function(e){var t=hd.transition;hd.transition={};try{e()}finally{hd.transition=t}};er.unstable_act=pv;er.useCallback=function(e,t){return di.current.useCallback(e,t)};er.useContext=function(e){return di.current.useContext(e)};er.useDebugValue=function(){};er.useDeferredValue=function(e){return di.current.useDeferredValue(e)};er.useEffect=function(e,t){return di.current.useEffect(e,t)};er.useId=function(){return di.current.useId()};er.useImperativeHandle=function(e,t,r){return di.current.useImperativeHandle(e,t,r)};er.useInsertionEffect=function(e,t){return di.current.useInsertionEffect(e,t)};er.useLayoutEffect=function(e,t){return di.current.useLayoutEffect(e,t)};er.useMemo=function(e,t){return di.current.useMemo(e,t)};er.useReducer=function(e,t,r){return di.current.useReducer(e,t,r)};er.useRef=function(e){return di.current.useRef(e)};er.useState=function(e){return di.current.useState(e)};er.useSyncExternalStore=function(e,t,r){return di.current.useSyncExternalStore(e,t,r)};er.useTransition=function(){return di.current.useTransition()};er.version="18.3.1";av.exports=er;var _e=av.exports;const Zt=hf(_e),f3=Qw({__proto__:null,default:Zt},[_e]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d3=_e,h3=Symbol.for("react.element"),p3=Symbol.for("react.fragment"),m3=Object.prototype.hasOwnProperty,g3=d3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,v3={key:!0,ref:!0,__self:!0,__source:!0};function mv(e,t,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)m3.call(t,n)&&!v3.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:h3,type:e,key:s,ref:a,props:i,_owner:g3.current}}mh.Fragment=p3;mh.jsx=mv;mh.jsxs=mv;sv.exports=mh;var u=sv.exports,w0={},gv={exports:{}},Gi={},vv={exports:{}},yv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Q,J){var ae=Q.length;Q.push(J);e:for(;0<ae;){var be=ae-1>>>1,R=Q[be];if(0<i(R,J))Q[be]=J,Q[ae]=R,ae=be;else break e}}function r(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var J=Q[0],ae=Q.pop();if(ae!==J){Q[0]=ae;e:for(var be=0,R=Q.length,K=R>>>1;be<K;){var Z=2*(be+1)-1,ee=Q[Z],fe=Z+1,we=Q[fe];if(0>i(ee,ae))fe<R&&0>i(we,ee)?(Q[be]=we,Q[fe]=ae,be=fe):(Q[be]=ee,Q[Z]=ae,be=Z);else if(fe<R&&0>i(we,ae))Q[be]=we,Q[fe]=ae,be=fe;else break e}}return J}function i(Q,J){var ae=Q.sortIndex-J.sortIndex;return ae!==0?ae:Q.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],d=[],f=1,h=null,m=3,g=!1,w=!1,_=!1,L=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(Q){for(var J=r(d);J!==null;){if(J.callback===null)n(d);else if(J.startTime<=Q)n(d),J.sortIndex=J.expirationTime,t(l,J);else break;J=r(d)}}function T(Q){if(_=!1,F(Q),!w)if(r(l)!==null)w=!0,q(V);else{var J=r(d);J!==null&&z(T,J.startTime-Q)}}function V(Q,J){w=!1,_&&(_=!1,x(N),N=-1),g=!0;var ae=m;try{for(F(J),h=r(l);h!==null&&(!(h.expirationTime>J)||Q&&!P());){var be=h.callback;if(typeof be=="function"){h.callback=null,m=h.priorityLevel;var R=be(h.expirationTime<=J);J=e.unstable_now(),typeof R=="function"?h.callback=R:h===r(l)&&n(l),F(J)}else n(l);h=r(l)}if(h!==null)var K=!0;else{var Z=r(d);Z!==null&&z(T,Z.startTime-J),K=!1}return K}finally{h=null,m=ae,g=!1}}var U=!1,$=null,N=-1,k=5,M=-1;function P(){return!(e.unstable_now()-M<k)}function E(){if($!==null){var Q=e.unstable_now();M=Q;var J=!0;try{J=$(!0,Q)}finally{J?C():(U=!1,$=null)}}else U=!1}var C;if(typeof S=="function")C=function(){S(E)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,re=D.port2;D.port1.onmessage=E,C=function(){re.postMessage(null)}}else C=function(){L(E,0)};function q(Q){$=Q,U||(U=!0,C())}function z(Q,J){N=L(function(){Q(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Q){Q.callback=null},e.unstable_continueExecution=function(){w||g||(w=!0,q(V))},e.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<Q?Math.floor(1e3/Q):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(Q){switch(m){case 1:case 2:case 3:var J=3;break;default:J=m}var ae=m;m=J;try{return Q()}finally{m=ae}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Q,J){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ae=m;m=Q;try{return J()}finally{m=ae}},e.unstable_scheduleCallback=function(Q,J,ae){var be=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?be+ae:be):ae=be,Q){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=ae+R,Q={id:f++,callback:J,priorityLevel:Q,startTime:ae,expirationTime:R,sortIndex:-1},ae>be?(Q.sortIndex=ae,t(d,Q),r(l)===null&&Q===r(d)&&(_?(x(N),N=-1):_=!0,z(T,ae-be))):(Q.sortIndex=R,t(l,Q),w||g||(w=!0,q(V))),Q},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(Q){var J=m;return function(){var ae=m;m=J;try{return Q.apply(this,arguments)}finally{m=ae}}}})(yv);vv.exports=yv;var y3=vv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x3=_e,Ki=y3;function ht(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xv=new Set,Uc={};function zl(e,t){Du(e,t),Du(e+"Capture",t)}function Du(e,t){for(Uc[e]=t,e=0;e<t.length;e++)xv.add(t[e])}var Ba=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),N0=Object.prototype.hasOwnProperty,b3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,M2={},z2={};function w3(e){return N0.call(z2,e)?!0:N0.call(M2,e)?!1:b3.test(e)?z2[e]=!0:(M2[e]=!0,!1)}function N3(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function S3(e,t,r,n){if(t===null||typeof t>"u"||N3(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function hi(e,t,r,n,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Tn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Tn[e]=new hi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Tn[t]=new hi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Tn[e]=new hi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Tn[e]=new hi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Tn[e]=new hi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Tn[e]=new hi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Tn[e]=new hi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Tn[e]=new hi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Tn[e]=new hi(e,5,!1,e.toLowerCase(),null,!1,!1)});var W1=/[\-:]([a-z])/g;function K1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(W1,K1);Tn[t]=new hi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(W1,K1);Tn[t]=new hi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(W1,K1);Tn[t]=new hi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Tn[e]=new hi(e,1,!1,e.toLowerCase(),null,!1,!1)});Tn.xlinkHref=new hi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Tn[e]=new hi(e,1,!1,e.toLowerCase(),null,!0,!0)});function G1(e,t,r,n){var i=Tn.hasOwnProperty(t)?Tn[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(S3(t,r,i,n)&&(r=null),n||i===null?w3(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var $a=x3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vf=Symbol.for("react.element"),uu=Symbol.for("react.portal"),cu=Symbol.for("react.fragment"),Q1=Symbol.for("react.strict_mode"),S0=Symbol.for("react.profiler"),bv=Symbol.for("react.provider"),wv=Symbol.for("react.context"),J1=Symbol.for("react.forward_ref"),j0=Symbol.for("react.suspense"),_0=Symbol.for("react.suspense_list"),Y1=Symbol.for("react.memo"),jo=Symbol.for("react.lazy"),Nv=Symbol.for("react.offscreen"),B2=Symbol.iterator;function dc(e){return e===null||typeof e!="object"?null:(e=B2&&e[B2]||e["@@iterator"],typeof e=="function"?e:null)}var zr=Object.assign,xp;function Ac(e){if(xp===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);xp=t&&t[1]||""}return`
`+xp+e}var bp=!1;function wp(e,t){if(!e||bp)return"";bp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{bp=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ac(e):""}function j3(e){switch(e.tag){case 5:return Ac(e.type);case 16:return Ac("Lazy");case 13:return Ac("Suspense");case 19:return Ac("SuspenseList");case 0:case 2:case 15:return e=wp(e.type,!1),e;case 11:return e=wp(e.type.render,!1),e;case 1:return e=wp(e.type,!0),e;default:return""}}function A0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case cu:return"Fragment";case uu:return"Portal";case S0:return"Profiler";case Q1:return"StrictMode";case j0:return"Suspense";case _0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case wv:return(e.displayName||"Context")+".Consumer";case bv:return(e._context.displayName||"Context")+".Provider";case J1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y1:return t=e.displayName||null,t!==null?t:A0(e.type)||"Memo";case jo:t=e._payload,e=e._init;try{return A0(e(t))}catch{}}return null}function _3(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return A0(t);case 8:return t===Q1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function $o(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function A3(e){var t=Sv(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $f(e){e._valueTracker||(e._valueTracker=A3(e))}function jv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Sv(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Id(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function k0(e,t){var r=t.checked;return zr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function U2(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=$o(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function _v(e,t){t=t.checked,t!=null&&G1(e,"checked",t,!1)}function L0(e,t){_v(e,t);var r=$o(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?E0(e,t.type,r):t.hasOwnProperty("defaultValue")&&E0(e,t.type,$o(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function q2(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function E0(e,t,r){(t!=="number"||Id(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var kc=Array.isArray;function _u(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+$o(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function C0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ht(91));return zr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function V2(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ht(92));if(kc(r)){if(1<r.length)throw Error(ht(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:$o(r)}}function Av(e,t){var r=$o(t.value),n=$o(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function $2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function kv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function P0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hf,Lv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hf=Hf||document.createElement("div"),Hf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Cc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},k3=["Webkit","ms","Moz","O"];Object.keys(Cc).forEach(function(e){k3.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Cc[t]=Cc[e]})});function Ev(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Cc.hasOwnProperty(e)&&Cc[e]?(""+t).trim():t+"px"}function Cv(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Ev(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var L3=zr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function F0(e,t){if(t){if(L3[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ht(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ht(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ht(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ht(62))}}function I0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var O0=null;function X1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var R0=null,Au=null,ku=null;function H2(e){if(e=vf(e)){if(typeof R0!="function")throw Error(ht(280));var t=e.stateNode;t&&(t=bh(t),R0(e.stateNode,e.type,t))}}function Pv(e){Au?ku?ku.push(e):ku=[e]:Au=e}function Fv(){if(Au){var e=Au,t=ku;if(ku=Au=null,H2(e),t)for(e=0;e<t.length;e++)H2(t[e])}}function Iv(e,t){return e(t)}function Ov(){}var Np=!1;function Rv(e,t,r){if(Np)return e(t,r);Np=!0;try{return Iv(e,t,r)}finally{Np=!1,(Au!==null||ku!==null)&&(Ov(),Fv())}}function Vc(e,t){var r=e.stateNode;if(r===null)return null;var n=bh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ht(231,t,typeof r));return r}var T0=!1;if(Ba)try{var hc={};Object.defineProperty(hc,"passive",{get:function(){T0=!0}}),window.addEventListener("test",hc,hc),window.removeEventListener("test",hc,hc)}catch{T0=!1}function E3(e,t,r,n,i,s,a,o,l){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(f){this.onError(f)}}var Pc=!1,Od=null,Rd=!1,D0=null,C3={onError:function(e){Pc=!0,Od=e}};function P3(e,t,r,n,i,s,a,o,l){Pc=!1,Od=null,E3.apply(C3,arguments)}function F3(e,t,r,n,i,s,a,o,l){if(P3.apply(this,arguments),Pc){if(Pc){var d=Od;Pc=!1,Od=null}else throw Error(ht(198));Rd||(Rd=!0,D0=d)}}function Bl(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Tv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function W2(e){if(Bl(e)!==e)throw Error(ht(188))}function I3(e){var t=e.alternate;if(!t){if(t=Bl(e),t===null)throw Error(ht(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return W2(i),e;if(s===n)return W2(i),t;s=s.sibling}throw Error(ht(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(ht(189))}}if(r.alternate!==n)throw Error(ht(190))}if(r.tag!==3)throw Error(ht(188));return r.stateNode.current===r?e:t}function Dv(e){return e=I3(e),e!==null?Mv(e):null}function Mv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Mv(e);if(t!==null)return t;e=e.sibling}return null}var zv=Ki.unstable_scheduleCallback,K2=Ki.unstable_cancelCallback,O3=Ki.unstable_shouldYield,R3=Ki.unstable_requestPaint,en=Ki.unstable_now,T3=Ki.unstable_getCurrentPriorityLevel,Z1=Ki.unstable_ImmediatePriority,Bv=Ki.unstable_UserBlockingPriority,Td=Ki.unstable_NormalPriority,D3=Ki.unstable_LowPriority,Uv=Ki.unstable_IdlePriority,gh=null,ca=null;function M3(e){if(ca&&typeof ca.onCommitFiberRoot=="function")try{ca.onCommitFiberRoot(gh,e,void 0,(e.current.flags&128)===128)}catch{}}var Us=Math.clz32?Math.clz32:U3,z3=Math.log,B3=Math.LN2;function U3(e){return e>>>=0,e===0?32:31-(z3(e)/B3|0)|0}var Wf=64,Kf=4194304;function Lc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Dd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=Lc(o):(s&=a,s!==0&&(n=Lc(s)))}else a=r&~i,a!==0?n=Lc(a):s!==0&&(n=Lc(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Us(t),i=1<<r,n|=e[r],t&=~i;return n}function q3(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V3(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-Us(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=q3(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}function M0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function qv(){var e=Wf;return Wf<<=1,!(Wf&4194240)&&(Wf=64),e}function Sp(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function mf(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Us(t),e[t]=r}function $3(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Us(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function em(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Us(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var vr=0;function Vv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var $v,tm,Hv,Wv,Kv,z0=!1,Gf=[],Oo=null,Ro=null,To=null,$c=new Map,Hc=new Map,Ao=[],H3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function G2(e,t){switch(e){case"focusin":case"focusout":Oo=null;break;case"dragenter":case"dragleave":Ro=null;break;case"mouseover":case"mouseout":To=null;break;case"pointerover":case"pointerout":$c.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hc.delete(t.pointerId)}}function pc(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=vf(t),t!==null&&tm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function W3(e,t,r,n,i){switch(t){case"focusin":return Oo=pc(Oo,e,t,r,n,i),!0;case"dragenter":return Ro=pc(Ro,e,t,r,n,i),!0;case"mouseover":return To=pc(To,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return $c.set(s,pc($c.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Hc.set(s,pc(Hc.get(s)||null,e,t,r,n,i)),!0}return!1}function Gv(e){var t=xl(e.target);if(t!==null){var r=Bl(t);if(r!==null){if(t=r.tag,t===13){if(t=Tv(r),t!==null){e.blockedOn=t,Kv(e.priority,function(){Hv(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=B0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);O0=n,r.target.dispatchEvent(n),O0=null}else return t=vf(r),t!==null&&tm(t),e.blockedOn=r,!1;t.shift()}return!0}function Q2(e,t,r){pd(e)&&r.delete(t)}function K3(){z0=!1,Oo!==null&&pd(Oo)&&(Oo=null),Ro!==null&&pd(Ro)&&(Ro=null),To!==null&&pd(To)&&(To=null),$c.forEach(Q2),Hc.forEach(Q2)}function mc(e,t){e.blockedOn===t&&(e.blockedOn=null,z0||(z0=!0,Ki.unstable_scheduleCallback(Ki.unstable_NormalPriority,K3)))}function Wc(e){function t(i){return mc(i,e)}if(0<Gf.length){mc(Gf[0],e);for(var r=1;r<Gf.length;r++){var n=Gf[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Oo!==null&&mc(Oo,e),Ro!==null&&mc(Ro,e),To!==null&&mc(To,e),$c.forEach(t),Hc.forEach(t),r=0;r<Ao.length;r++)n=Ao[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ao.length&&(r=Ao[0],r.blockedOn===null);)Gv(r),r.blockedOn===null&&Ao.shift()}var Lu=$a.ReactCurrentBatchConfig,Md=!0;function G3(e,t,r,n){var i=vr,s=Lu.transition;Lu.transition=null;try{vr=1,rm(e,t,r,n)}finally{vr=i,Lu.transition=s}}function Q3(e,t,r,n){var i=vr,s=Lu.transition;Lu.transition=null;try{vr=4,rm(e,t,r,n)}finally{vr=i,Lu.transition=s}}function rm(e,t,r,n){if(Md){var i=B0(e,t,r,n);if(i===null)Ip(e,t,n,zd,r),G2(e,n);else if(W3(i,e,t,r,n))n.stopPropagation();else if(G2(e,n),t&4&&-1<H3.indexOf(e)){for(;i!==null;){var s=vf(i);if(s!==null&&$v(s),s=B0(e,t,r,n),s===null&&Ip(e,t,n,zd,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Ip(e,t,n,null,r)}}var zd=null;function B0(e,t,r,n){if(zd=null,e=X1(n),e=xl(e),e!==null)if(t=Bl(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Tv(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zd=e,null}function Qv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(T3()){case Z1:return 1;case Bv:return 4;case Td:case D3:return 16;case Uv:return 536870912;default:return 16}default:return 16}}var Eo=null,nm=null,md=null;function Jv(){if(md)return md;var e,t=nm,r=t.length,n,i="value"in Eo?Eo.value:Eo.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[s-n];n++);return md=i.slice(e,1<n?1-n:void 0)}function gd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qf(){return!0}function J2(){return!1}function Qi(e){function t(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Qf:J2,this.isPropagationStopped=J2,this}return zr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qf)},persist:function(){},isPersistent:Qf}),t}var Ju={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},im=Qi(Ju),gf=zr({},Ju,{view:0,detail:0}),J3=Qi(gf),jp,_p,gc,vh=zr({},gf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gc&&(gc&&e.type==="mousemove"?(jp=e.screenX-gc.screenX,_p=e.screenY-gc.screenY):_p=jp=0,gc=e),jp)},movementY:function(e){return"movementY"in e?e.movementY:_p}}),Y2=Qi(vh),Y3=zr({},vh,{dataTransfer:0}),X3=Qi(Y3),Z3=zr({},gf,{relatedTarget:0}),Ap=Qi(Z3),e4=zr({},Ju,{animationName:0,elapsedTime:0,pseudoElement:0}),t4=Qi(e4),r4=zr({},Ju,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),n4=Qi(r4),i4=zr({},Ju,{data:0}),X2=Qi(i4),s4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},o4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l4(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=o4[e])?!!t[e]:!1}function sm(){return l4}var u4=zr({},gf,{key:function(e){if(e.key){var t=s4[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?a4[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sm,charCode:function(e){return e.type==="keypress"?gd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),c4=Qi(u4),f4=zr({},vh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Z2=Qi(f4),d4=zr({},gf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sm}),h4=Qi(d4),p4=zr({},Ju,{propertyName:0,elapsedTime:0,pseudoElement:0}),m4=Qi(p4),g4=zr({},vh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),v4=Qi(g4),y4=[9,13,27,32],am=Ba&&"CompositionEvent"in window,Fc=null;Ba&&"documentMode"in document&&(Fc=document.documentMode);var x4=Ba&&"TextEvent"in window&&!Fc,Yv=Ba&&(!am||Fc&&8<Fc&&11>=Fc),eg=" ",tg=!1;function Xv(e,t){switch(e){case"keyup":return y4.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fu=!1;function b4(e,t){switch(e){case"compositionend":return Zv(t);case"keypress":return t.which!==32?null:(tg=!0,eg);case"textInput":return e=t.data,e===eg&&tg?null:e;default:return null}}function w4(e,t){if(fu)return e==="compositionend"||!am&&Xv(e,t)?(e=Jv(),md=nm=Eo=null,fu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yv&&t.locale!=="ko"?null:t.data;default:return null}}var N4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!N4[e.type]:t==="textarea"}function ey(e,t,r,n){Pv(n),t=Bd(t,"onChange"),0<t.length&&(r=new im("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ic=null,Kc=null;function S4(e){fy(e,0)}function yh(e){var t=pu(e);if(jv(t))return e}function j4(e,t){if(e==="change")return t}var ty=!1;if(Ba){var kp;if(Ba){var Lp="oninput"in document;if(!Lp){var ng=document.createElement("div");ng.setAttribute("oninput","return;"),Lp=typeof ng.oninput=="function"}kp=Lp}else kp=!1;ty=kp&&(!document.documentMode||9<document.documentMode)}function ig(){Ic&&(Ic.detachEvent("onpropertychange",ry),Kc=Ic=null)}function ry(e){if(e.propertyName==="value"&&yh(Kc)){var t=[];ey(t,Kc,e,X1(e)),Rv(S4,t)}}function _4(e,t,r){e==="focusin"?(ig(),Ic=t,Kc=r,Ic.attachEvent("onpropertychange",ry)):e==="focusout"&&ig()}function A4(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yh(Kc)}function k4(e,t){if(e==="click")return yh(t)}function L4(e,t){if(e==="input"||e==="change")return yh(t)}function E4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $s=typeof Object.is=="function"?Object.is:E4;function Gc(e,t){if($s(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!N0.call(t,i)||!$s(e[i],t[i]))return!1}return!0}function sg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ag(e,t){var r=sg(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sg(r)}}function ny(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ny(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function iy(){for(var e=window,t=Id();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Id(e.document)}return t}function om(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function C4(e){var t=iy(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ny(r.ownerDocument.documentElement,r)){if(n!==null&&om(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=ag(r,s);var a=ag(r,n);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var P4=Ba&&"documentMode"in document&&11>=document.documentMode,du=null,U0=null,Oc=null,q0=!1;function og(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;q0||du==null||du!==Id(n)||(n=du,"selectionStart"in n&&om(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Oc&&Gc(Oc,n)||(Oc=n,n=Bd(U0,"onSelect"),0<n.length&&(t=new im("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=du)))}function Jf(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var hu={animationend:Jf("Animation","AnimationEnd"),animationiteration:Jf("Animation","AnimationIteration"),animationstart:Jf("Animation","AnimationStart"),transitionend:Jf("Transition","TransitionEnd")},Ep={},sy={};Ba&&(sy=document.createElement("div").style,"AnimationEvent"in window||(delete hu.animationend.animation,delete hu.animationiteration.animation,delete hu.animationstart.animation),"TransitionEvent"in window||delete hu.transitionend.transition);function xh(e){if(Ep[e])return Ep[e];if(!hu[e])return e;var t=hu[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in sy)return Ep[e]=t[r];return e}var ay=xh("animationend"),oy=xh("animationiteration"),ly=xh("animationstart"),uy=xh("transitionend"),cy=new Map,lg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jo(e,t){cy.set(e,t),zl(t,[e])}for(var Cp=0;Cp<lg.length;Cp++){var Pp=lg[Cp],F4=Pp.toLowerCase(),I4=Pp[0].toUpperCase()+Pp.slice(1);Jo(F4,"on"+I4)}Jo(ay,"onAnimationEnd");Jo(oy,"onAnimationIteration");Jo(ly,"onAnimationStart");Jo("dblclick","onDoubleClick");Jo("focusin","onFocus");Jo("focusout","onBlur");Jo(uy,"onTransitionEnd");Du("onMouseEnter",["mouseout","mouseover"]);Du("onMouseLeave",["mouseout","mouseover"]);Du("onPointerEnter",["pointerout","pointerover"]);Du("onPointerLeave",["pointerout","pointerover"]);zl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zl("onBeforeInput",["compositionend","keypress","textInput","paste"]);zl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ec="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ec));function ug(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,F3(n,t,void 0,e),e.currentTarget=null}function fy(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,d=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;ug(i,o,d),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,d=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;ug(i,o,d),s=l}}}if(Rd)throw e=D0,Rd=!1,D0=null,e}function Cr(e,t){var r=t[K0];r===void 0&&(r=t[K0]=new Set);var n=e+"__bubble";r.has(n)||(dy(t,e,2,!1),r.add(n))}function Fp(e,t,r){var n=0;t&&(n|=4),dy(r,e,n,t)}var Yf="_reactListening"+Math.random().toString(36).slice(2);function Qc(e){if(!e[Yf]){e[Yf]=!0,xv.forEach(function(r){r!=="selectionchange"&&(O4.has(r)||Fp(r,!1,e),Fp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yf]||(t[Yf]=!0,Fp("selectionchange",!1,t))}}function dy(e,t,r,n){switch(Qv(t)){case 1:var i=G3;break;case 4:i=Q3;break;default:i=rm}r=i.bind(null,t,r,e),i=void 0,!T0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Ip(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=xl(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}Rv(function(){var d=s,f=X1(r),h=[];e:{var m=cy.get(e);if(m!==void 0){var g=im,w=e;switch(e){case"keypress":if(gd(r)===0)break e;case"keydown":case"keyup":g=c4;break;case"focusin":w="focus",g=Ap;break;case"focusout":w="blur",g=Ap;break;case"beforeblur":case"afterblur":g=Ap;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Y2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=X3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=h4;break;case ay:case oy:case ly:g=t4;break;case uy:g=m4;break;case"scroll":g=J3;break;case"wheel":g=v4;break;case"copy":case"cut":case"paste":g=n4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Z2}var _=(t&4)!==0,L=!_&&e==="scroll",x=_?m!==null?m+"Capture":null:m;_=[];for(var S=d,F;S!==null;){F=S;var T=F.stateNode;if(F.tag===5&&T!==null&&(F=T,x!==null&&(T=Vc(S,x),T!=null&&_.push(Jc(S,T,F)))),L)break;S=S.return}0<_.length&&(m=new g(m,w,null,r,f),h.push({event:m,listeners:_}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&r!==O0&&(w=r.relatedTarget||r.fromElement)&&(xl(w)||w[Ua]))break e;if((g||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,g?(w=r.relatedTarget||r.toElement,g=d,w=w?xl(w):null,w!==null&&(L=Bl(w),w!==L||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=d),g!==w)){if(_=Y2,T="onMouseLeave",x="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(_=Z2,T="onPointerLeave",x="onPointerEnter",S="pointer"),L=g==null?m:pu(g),F=w==null?m:pu(w),m=new _(T,S+"leave",g,r,f),m.target=L,m.relatedTarget=F,T=null,xl(f)===d&&(_=new _(x,S+"enter",w,r,f),_.target=F,_.relatedTarget=L,T=_),L=T,g&&w)t:{for(_=g,x=w,S=0,F=_;F;F=tu(F))S++;for(F=0,T=x;T;T=tu(T))F++;for(;0<S-F;)_=tu(_),S--;for(;0<F-S;)x=tu(x),F--;for(;S--;){if(_===x||x!==null&&_===x.alternate)break t;_=tu(_),x=tu(x)}_=null}else _=null;g!==null&&cg(h,m,g,_,!1),w!==null&&L!==null&&cg(h,L,w,_,!0)}}e:{if(m=d?pu(d):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var V=j4;else if(rg(m))if(ty)V=L4;else{V=A4;var U=_4}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(V=k4);if(V&&(V=V(e,d))){ey(h,V,r,f);break e}U&&U(e,m,d),e==="focusout"&&(U=m._wrapperState)&&U.controlled&&m.type==="number"&&E0(m,"number",m.value)}switch(U=d?pu(d):window,e){case"focusin":(rg(U)||U.contentEditable==="true")&&(du=U,U0=d,Oc=null);break;case"focusout":Oc=U0=du=null;break;case"mousedown":q0=!0;break;case"contextmenu":case"mouseup":case"dragend":q0=!1,og(h,r,f);break;case"selectionchange":if(P4)break;case"keydown":case"keyup":og(h,r,f)}var $;if(am)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else fu?Xv(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(Yv&&r.locale!=="ko"&&(fu||N!=="onCompositionStart"?N==="onCompositionEnd"&&fu&&($=Jv()):(Eo=f,nm="value"in Eo?Eo.value:Eo.textContent,fu=!0)),U=Bd(d,N),0<U.length&&(N=new X2(N,e,null,r,f),h.push({event:N,listeners:U}),$?N.data=$:($=Zv(r),$!==null&&(N.data=$)))),($=x4?b4(e,r):w4(e,r))&&(d=Bd(d,"onBeforeInput"),0<d.length&&(f=new X2("onBeforeInput","beforeinput",null,r,f),h.push({event:f,listeners:d}),f.data=$))}fy(h,t)})}function Jc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Bd(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Vc(e,r),s!=null&&n.unshift(Jc(e,s,i)),s=Vc(e,t),s!=null&&n.push(Jc(e,s,i))),e=e.return}return n}function tu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cg(e,t,r,n,i){for(var s=t._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,d=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&d!==null&&(o=d,i?(l=Vc(r,s),l!=null&&a.unshift(Jc(r,l,o))):i||(l=Vc(r,s),l!=null&&a.push(Jc(r,l,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var R4=/\r\n?/g,T4=/\u0000|\uFFFD/g;function fg(e){return(typeof e=="string"?e:""+e).replace(R4,`
`).replace(T4,"")}function Xf(e,t,r){if(t=fg(t),fg(e)!==t&&r)throw Error(ht(425))}function Ud(){}var V0=null,$0=null;function H0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var W0=typeof setTimeout=="function"?setTimeout:void 0,D4=typeof clearTimeout=="function"?clearTimeout:void 0,dg=typeof Promise=="function"?Promise:void 0,M4=typeof queueMicrotask=="function"?queueMicrotask:typeof dg<"u"?function(e){return dg.resolve(null).then(e).catch(z4)}:W0;function z4(e){setTimeout(function(){throw e})}function Op(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Wc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Wc(t)}function Do(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function hg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Yu=Math.random().toString(36).slice(2),la="__reactFiber$"+Yu,Yc="__reactProps$"+Yu,Ua="__reactContainer$"+Yu,K0="__reactEvents$"+Yu,B4="__reactListeners$"+Yu,U4="__reactHandles$"+Yu;function xl(e){var t=e[la];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ua]||r[la]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=hg(e);e!==null;){if(r=e[la])return r;e=hg(e)}return t}e=r,r=e.parentNode}return null}function vf(e){return e=e[la]||e[Ua],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function pu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ht(33))}function bh(e){return e[Yc]||null}var G0=[],mu=-1;function Yo(e){return{current:e}}function Ir(e){0>mu||(e.current=G0[mu],G0[mu]=null,mu--)}function kr(e,t){mu++,G0[mu]=e.current,e.current=t}var Ho={},ii=Yo(Ho),Ei=Yo(!1),Fl=Ho;function Mu(e,t){var r=e.type.contextTypes;if(!r)return Ho;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ci(e){return e=e.childContextTypes,e!=null}function qd(){Ir(Ei),Ir(ii)}function pg(e,t,r){if(ii.current!==Ho)throw Error(ht(168));kr(ii,t),kr(Ei,r)}function hy(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(ht(108,_3(e)||"Unknown",i));return zr({},r,n)}function Vd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ho,Fl=ii.current,kr(ii,e),kr(Ei,Ei.current),!0}function mg(e,t,r){var n=e.stateNode;if(!n)throw Error(ht(169));r?(e=hy(e,t,Fl),n.__reactInternalMemoizedMergedChildContext=e,Ir(Ei),Ir(ii),kr(ii,e)):Ir(Ei),kr(Ei,r)}var Ra=null,wh=!1,Rp=!1;function py(e){Ra===null?Ra=[e]:Ra.push(e)}function q4(e){wh=!0,py(e)}function Xo(){if(!Rp&&Ra!==null){Rp=!0;var e=0,t=vr;try{var r=Ra;for(vr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ra=null,wh=!1}catch(i){throw Ra!==null&&(Ra=Ra.slice(e+1)),zv(Z1,Xo),i}finally{vr=t,Rp=!1}}return null}var gu=[],vu=0,$d=null,Hd=0,us=[],cs=0,Il=null,Ta=1,Da="";function ml(e,t){gu[vu++]=Hd,gu[vu++]=$d,$d=e,Hd=t}function my(e,t,r){us[cs++]=Ta,us[cs++]=Da,us[cs++]=Il,Il=e;var n=Ta;e=Da;var i=32-Us(n)-1;n&=~(1<<i),r+=1;var s=32-Us(t)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Ta=1<<32-Us(t)+i|r<<i|n,Da=s+e}else Ta=1<<s|r<<i|n,Da=e}function lm(e){e.return!==null&&(ml(e,1),my(e,1,0))}function um(e){for(;e===$d;)$d=gu[--vu],gu[vu]=null,Hd=gu[--vu],gu[vu]=null;for(;e===Il;)Il=us[--cs],us[cs]=null,Da=us[--cs],us[cs]=null,Ta=us[--cs],us[cs]=null}var Wi=null,$i=null,Tr=!1,zs=null;function gy(e,t){var r=ds(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function gg(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Wi=e,$i=Do(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Wi=e,$i=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Il!==null?{id:Ta,overflow:Da}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ds(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Wi=e,$i=null,!0):!1;default:return!1}}function Q0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function J0(e){if(Tr){var t=$i;if(t){var r=t;if(!gg(e,t)){if(Q0(e))throw Error(ht(418));t=Do(r.nextSibling);var n=Wi;t&&gg(e,t)?gy(n,r):(e.flags=e.flags&-4097|2,Tr=!1,Wi=e)}}else{if(Q0(e))throw Error(ht(418));e.flags=e.flags&-4097|2,Tr=!1,Wi=e}}}function vg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Wi=e}function Zf(e){if(e!==Wi)return!1;if(!Tr)return vg(e),Tr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!H0(e.type,e.memoizedProps)),t&&(t=$i)){if(Q0(e))throw vy(),Error(ht(418));for(;t;)gy(e,t),t=Do(t.nextSibling)}if(vg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ht(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){$i=Do(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}$i=null}}else $i=Wi?Do(e.stateNode.nextSibling):null;return!0}function vy(){for(var e=$i;e;)e=Do(e.nextSibling)}function zu(){$i=Wi=null,Tr=!1}function cm(e){zs===null?zs=[e]:zs.push(e)}var V4=$a.ReactCurrentBatchConfig;function vc(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ht(309));var n=r.stateNode}if(!n)throw Error(ht(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(ht(284));if(!r._owner)throw Error(ht(290,e))}return e}function ed(e,t){throw e=Object.prototype.toString.call(t),Error(ht(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yg(e){var t=e._init;return t(e._payload)}function yy(e){function t(x,S){if(e){var F=x.deletions;F===null?(x.deletions=[S],x.flags|=16):F.push(S)}}function r(x,S){if(!e)return null;for(;S!==null;)t(x,S),S=S.sibling;return null}function n(x,S){for(x=new Map;S!==null;)S.key!==null?x.set(S.key,S):x.set(S.index,S),S=S.sibling;return x}function i(x,S){return x=Uo(x,S),x.index=0,x.sibling=null,x}function s(x,S,F){return x.index=F,e?(F=x.alternate,F!==null?(F=F.index,F<S?(x.flags|=2,S):F):(x.flags|=2,S)):(x.flags|=1048576,S)}function a(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,S,F,T){return S===null||S.tag!==6?(S=qp(F,x.mode,T),S.return=x,S):(S=i(S,F),S.return=x,S)}function l(x,S,F,T){var V=F.type;return V===cu?f(x,S,F.props.children,T,F.key):S!==null&&(S.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===jo&&yg(V)===S.type)?(T=i(S,F.props),T.ref=vc(x,S,F),T.return=x,T):(T=Sd(F.type,F.key,F.props,null,x.mode,T),T.ref=vc(x,S,F),T.return=x,T)}function d(x,S,F,T){return S===null||S.tag!==4||S.stateNode.containerInfo!==F.containerInfo||S.stateNode.implementation!==F.implementation?(S=Vp(F,x.mode,T),S.return=x,S):(S=i(S,F.children||[]),S.return=x,S)}function f(x,S,F,T,V){return S===null||S.tag!==7?(S=Al(F,x.mode,T,V),S.return=x,S):(S=i(S,F),S.return=x,S)}function h(x,S,F){if(typeof S=="string"&&S!==""||typeof S=="number")return S=qp(""+S,x.mode,F),S.return=x,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Vf:return F=Sd(S.type,S.key,S.props,null,x.mode,F),F.ref=vc(x,null,S),F.return=x,F;case uu:return S=Vp(S,x.mode,F),S.return=x,S;case jo:var T=S._init;return h(x,T(S._payload),F)}if(kc(S)||dc(S))return S=Al(S,x.mode,F,null),S.return=x,S;ed(x,S)}return null}function m(x,S,F,T){var V=S!==null?S.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return V!==null?null:o(x,S,""+F,T);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Vf:return F.key===V?l(x,S,F,T):null;case uu:return F.key===V?d(x,S,F,T):null;case jo:return V=F._init,m(x,S,V(F._payload),T)}if(kc(F)||dc(F))return V!==null?null:f(x,S,F,T,null);ed(x,F)}return null}function g(x,S,F,T,V){if(typeof T=="string"&&T!==""||typeof T=="number")return x=x.get(F)||null,o(S,x,""+T,V);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Vf:return x=x.get(T.key===null?F:T.key)||null,l(S,x,T,V);case uu:return x=x.get(T.key===null?F:T.key)||null,d(S,x,T,V);case jo:var U=T._init;return g(x,S,F,U(T._payload),V)}if(kc(T)||dc(T))return x=x.get(F)||null,f(S,x,T,V,null);ed(S,T)}return null}function w(x,S,F,T){for(var V=null,U=null,$=S,N=S=0,k=null;$!==null&&N<F.length;N++){$.index>N?(k=$,$=null):k=$.sibling;var M=m(x,$,F[N],T);if(M===null){$===null&&($=k);break}e&&$&&M.alternate===null&&t(x,$),S=s(M,S,N),U===null?V=M:U.sibling=M,U=M,$=k}if(N===F.length)return r(x,$),Tr&&ml(x,N),V;if($===null){for(;N<F.length;N++)$=h(x,F[N],T),$!==null&&(S=s($,S,N),U===null?V=$:U.sibling=$,U=$);return Tr&&ml(x,N),V}for($=n(x,$);N<F.length;N++)k=g($,x,N,F[N],T),k!==null&&(e&&k.alternate!==null&&$.delete(k.key===null?N:k.key),S=s(k,S,N),U===null?V=k:U.sibling=k,U=k);return e&&$.forEach(function(P){return t(x,P)}),Tr&&ml(x,N),V}function _(x,S,F,T){var V=dc(F);if(typeof V!="function")throw Error(ht(150));if(F=V.call(F),F==null)throw Error(ht(151));for(var U=V=null,$=S,N=S=0,k=null,M=F.next();$!==null&&!M.done;N++,M=F.next()){$.index>N?(k=$,$=null):k=$.sibling;var P=m(x,$,M.value,T);if(P===null){$===null&&($=k);break}e&&$&&P.alternate===null&&t(x,$),S=s(P,S,N),U===null?V=P:U.sibling=P,U=P,$=k}if(M.done)return r(x,$),Tr&&ml(x,N),V;if($===null){for(;!M.done;N++,M=F.next())M=h(x,M.value,T),M!==null&&(S=s(M,S,N),U===null?V=M:U.sibling=M,U=M);return Tr&&ml(x,N),V}for($=n(x,$);!M.done;N++,M=F.next())M=g($,x,N,M.value,T),M!==null&&(e&&M.alternate!==null&&$.delete(M.key===null?N:M.key),S=s(M,S,N),U===null?V=M:U.sibling=M,U=M);return e&&$.forEach(function(E){return t(x,E)}),Tr&&ml(x,N),V}function L(x,S,F,T){if(typeof F=="object"&&F!==null&&F.type===cu&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case Vf:e:{for(var V=F.key,U=S;U!==null;){if(U.key===V){if(V=F.type,V===cu){if(U.tag===7){r(x,U.sibling),S=i(U,F.props.children),S.return=x,x=S;break e}}else if(U.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===jo&&yg(V)===U.type){r(x,U.sibling),S=i(U,F.props),S.ref=vc(x,U,F),S.return=x,x=S;break e}r(x,U);break}else t(x,U);U=U.sibling}F.type===cu?(S=Al(F.props.children,x.mode,T,F.key),S.return=x,x=S):(T=Sd(F.type,F.key,F.props,null,x.mode,T),T.ref=vc(x,S,F),T.return=x,x=T)}return a(x);case uu:e:{for(U=F.key;S!==null;){if(S.key===U)if(S.tag===4&&S.stateNode.containerInfo===F.containerInfo&&S.stateNode.implementation===F.implementation){r(x,S.sibling),S=i(S,F.children||[]),S.return=x,x=S;break e}else{r(x,S);break}else t(x,S);S=S.sibling}S=Vp(F,x.mode,T),S.return=x,x=S}return a(x);case jo:return U=F._init,L(x,S,U(F._payload),T)}if(kc(F))return w(x,S,F,T);if(dc(F))return _(x,S,F,T);ed(x,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,S!==null&&S.tag===6?(r(x,S.sibling),S=i(S,F),S.return=x,x=S):(r(x,S),S=qp(F,x.mode,T),S.return=x,x=S),a(x)):r(x,S)}return L}var Bu=yy(!0),xy=yy(!1),Wd=Yo(null),Kd=null,yu=null,fm=null;function dm(){fm=yu=Kd=null}function hm(e){var t=Wd.current;Ir(Wd),e._currentValue=t}function Y0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Eu(e,t){Kd=e,fm=yu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ki=!0),e.firstContext=null)}function gs(e){var t=e._currentValue;if(fm!==e)if(e={context:e,memoizedValue:t,next:null},yu===null){if(Kd===null)throw Error(ht(308));yu=e,Kd.dependencies={lanes:0,firstContext:e}}else yu=yu.next=e;return t}var bl=null;function pm(e){bl===null?bl=[e]:bl.push(e)}function by(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,pm(t)):(r.next=i.next,i.next=r),t.interleaved=r,qa(e,n)}function qa(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var _o=!1;function mm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function za(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,cr&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,qa(e,r)}return i=n.interleaved,i===null?(t.next=t,pm(n)):(t.next=i.next,i.next=t),n.interleaved=t,qa(e,r)}function vd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,em(e,r)}}function xg(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Gd(e,t,r,n){var i=e.updateQueue;_o=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,d=l.next;l.next=null,a===null?s=d:a.next=d,a=l;var f=e.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==a&&(o===null?f.firstBaseUpdate=d:o.next=d,f.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;a=0,f=d=l=null,o=s;do{var m=o.lane,g=o.eventTime;if((n&m)===m){f!==null&&(f=f.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var w=e,_=o;switch(m=t,g=r,_.tag){case 1:if(w=_.payload,typeof w=="function"){h=w.call(g,h,m);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=_.payload,m=typeof w=="function"?w.call(g,h,m):w,m==null)break e;h=zr({},h,m);break e;case 2:_o=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[o]:m.push(o))}else g={eventTime:g,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(d=f=g,l=h):f=f.next=g,a|=m;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;m=o,o=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(f===null&&(l=h),i.baseState=l,i.firstBaseUpdate=d,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Rl|=a,e.lanes=a,e.memoizedState=h}}function bg(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ht(191,i));i.call(n)}}}var yf={},fa=Yo(yf),Xc=Yo(yf),Zc=Yo(yf);function wl(e){if(e===yf)throw Error(ht(174));return e}function gm(e,t){switch(kr(Zc,t),kr(Xc,e),kr(fa,yf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:P0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=P0(t,e)}Ir(fa),kr(fa,t)}function Uu(){Ir(fa),Ir(Xc),Ir(Zc)}function Ny(e){wl(Zc.current);var t=wl(fa.current),r=P0(t,e.type);t!==r&&(kr(Xc,e),kr(fa,r))}function vm(e){Xc.current===e&&(Ir(fa),Ir(Xc))}var Dr=Yo(0);function Qd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Tp=[];function ym(){for(var e=0;e<Tp.length;e++)Tp[e]._workInProgressVersionPrimary=null;Tp.length=0}var yd=$a.ReactCurrentDispatcher,Dp=$a.ReactCurrentBatchConfig,Ol=0,Mr=null,wn=null,Ln=null,Jd=!1,Rc=!1,ef=0,$4=0;function Vn(){throw Error(ht(321))}function xm(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!$s(e[r],t[r]))return!1;return!0}function bm(e,t,r,n,i,s){if(Ol=s,Mr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yd.current=e===null||e.memoizedState===null?G4:Q4,e=r(n,i),Rc){s=0;do{if(Rc=!1,ef=0,25<=s)throw Error(ht(301));s+=1,Ln=wn=null,t.updateQueue=null,yd.current=J4,e=r(n,i)}while(Rc)}if(yd.current=Yd,t=wn!==null&&wn.next!==null,Ol=0,Ln=wn=Mr=null,Jd=!1,t)throw Error(ht(300));return e}function wm(){var e=ef!==0;return ef=0,e}function sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ln===null?Mr.memoizedState=Ln=e:Ln=Ln.next=e,Ln}function vs(){if(wn===null){var e=Mr.alternate;e=e!==null?e.memoizedState:null}else e=wn.next;var t=Ln===null?Mr.memoizedState:Ln.next;if(t!==null)Ln=t,wn=e;else{if(e===null)throw Error(ht(310));wn=e,e={memoizedState:wn.memoizedState,baseState:wn.baseState,baseQueue:wn.baseQueue,queue:wn.queue,next:null},Ln===null?Mr.memoizedState=Ln=e:Ln=Ln.next=e}return Ln}function tf(e,t){return typeof t=="function"?t(e):t}function Mp(e){var t=vs(),r=t.queue;if(r===null)throw Error(ht(311));r.lastRenderedReducer=e;var n=wn,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,d=s;do{var f=d.lane;if((Ol&f)===f)l!==null&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};l===null?(o=l=h,a=n):l=l.next=h,Mr.lanes|=f,Rl|=f}d=d.next}while(d!==null&&d!==s);l===null?a=n:l.next=o,$s(n,t.memoizedState)||(ki=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,Mr.lanes|=s,Rl|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function zp(e){var t=vs(),r=t.queue;if(r===null)throw Error(ht(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);$s(s,t.memoizedState)||(ki=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function Sy(){}function jy(e,t){var r=Mr,n=vs(),i=t(),s=!$s(n.memoizedState,i);if(s&&(n.memoizedState=i,ki=!0),n=n.queue,Nm(ky.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Ln!==null&&Ln.memoizedState.tag&1){if(r.flags|=2048,rf(9,Ay.bind(null,r,n,i,t),void 0,null),Cn===null)throw Error(ht(349));Ol&30||_y(r,t,i)}return i}function _y(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Mr.updateQueue,t===null?(t={lastEffect:null,stores:null},Mr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Ay(e,t,r,n){t.value=r,t.getSnapshot=n,Ly(t)&&Ey(e)}function ky(e,t,r){return r(function(){Ly(t)&&Ey(e)})}function Ly(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!$s(e,r)}catch{return!0}}function Ey(e){var t=qa(e,1);t!==null&&qs(t,e,1,-1)}function wg(e){var t=sa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tf,lastRenderedState:e},t.queue=e,e=e.dispatch=K4.bind(null,Mr,e),[t.memoizedState,e]}function rf(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Mr.updateQueue,t===null?(t={lastEffect:null,stores:null},Mr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Cy(){return vs().memoizedState}function xd(e,t,r,n){var i=sa();Mr.flags|=e,i.memoizedState=rf(1|t,r,void 0,n===void 0?null:n)}function Nh(e,t,r,n){var i=vs();n=n===void 0?null:n;var s=void 0;if(wn!==null){var a=wn.memoizedState;if(s=a.destroy,n!==null&&xm(n,a.deps)){i.memoizedState=rf(t,r,s,n);return}}Mr.flags|=e,i.memoizedState=rf(1|t,r,s,n)}function Ng(e,t){return xd(8390656,8,e,t)}function Nm(e,t){return Nh(2048,8,e,t)}function Py(e,t){return Nh(4,2,e,t)}function Fy(e,t){return Nh(4,4,e,t)}function Iy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Oy(e,t,r){return r=r!=null?r.concat([e]):null,Nh(4,4,Iy.bind(null,t,e),r)}function Sm(){}function Ry(e,t){var r=vs();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&xm(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ty(e,t){var r=vs();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&xm(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Dy(e,t,r){return Ol&21?($s(r,t)||(r=qv(),Mr.lanes|=r,Rl|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ki=!0),e.memoizedState=r)}function H4(e,t){var r=vr;vr=r!==0&&4>r?r:4,e(!0);var n=Dp.transition;Dp.transition={};try{e(!1),t()}finally{vr=r,Dp.transition=n}}function My(){return vs().memoizedState}function W4(e,t,r){var n=Bo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},zy(e))By(t,r);else if(r=by(e,t,r,n),r!==null){var i=fi();qs(r,e,n,i),Uy(r,t,n)}}function K4(e,t,r){var n=Bo(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(zy(e))By(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,$s(o,a)){var l=t.interleaved;l===null?(i.next=i,pm(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=by(e,t,i,n),r!==null&&(i=fi(),qs(r,e,n,i),Uy(r,t,n))}}function zy(e){var t=e.alternate;return e===Mr||t!==null&&t===Mr}function By(e,t){Rc=Jd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Uy(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,em(e,r)}}var Yd={readContext:gs,useCallback:Vn,useContext:Vn,useEffect:Vn,useImperativeHandle:Vn,useInsertionEffect:Vn,useLayoutEffect:Vn,useMemo:Vn,useReducer:Vn,useRef:Vn,useState:Vn,useDebugValue:Vn,useDeferredValue:Vn,useTransition:Vn,useMutableSource:Vn,useSyncExternalStore:Vn,useId:Vn,unstable_isNewReconciler:!1},G4={readContext:gs,useCallback:function(e,t){return sa().memoizedState=[e,t===void 0?null:t],e},useContext:gs,useEffect:Ng,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,xd(4194308,4,Iy.bind(null,t,e),r)},useLayoutEffect:function(e,t){return xd(4194308,4,e,t)},useInsertionEffect:function(e,t){return xd(4,2,e,t)},useMemo:function(e,t){var r=sa();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=sa();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=W4.bind(null,Mr,e),[n.memoizedState,e]},useRef:function(e){var t=sa();return e={current:e},t.memoizedState=e},useState:wg,useDebugValue:Sm,useDeferredValue:function(e){return sa().memoizedState=e},useTransition:function(){var e=wg(!1),t=e[0];return e=H4.bind(null,e[1]),sa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Mr,i=sa();if(Tr){if(r===void 0)throw Error(ht(407));r=r()}else{if(r=t(),Cn===null)throw Error(ht(349));Ol&30||_y(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,Ng(ky.bind(null,n,s,e),[e]),n.flags|=2048,rf(9,Ay.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=sa(),t=Cn.identifierPrefix;if(Tr){var r=Da,n=Ta;r=(n&~(1<<32-Us(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ef++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=$4++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Q4={readContext:gs,useCallback:Ry,useContext:gs,useEffect:Nm,useImperativeHandle:Oy,useInsertionEffect:Py,useLayoutEffect:Fy,useMemo:Ty,useReducer:Mp,useRef:Cy,useState:function(){return Mp(tf)},useDebugValue:Sm,useDeferredValue:function(e){var t=vs();return Dy(t,wn.memoizedState,e)},useTransition:function(){var e=Mp(tf)[0],t=vs().memoizedState;return[e,t]},useMutableSource:Sy,useSyncExternalStore:jy,useId:My,unstable_isNewReconciler:!1},J4={readContext:gs,useCallback:Ry,useContext:gs,useEffect:Nm,useImperativeHandle:Oy,useInsertionEffect:Py,useLayoutEffect:Fy,useMemo:Ty,useReducer:zp,useRef:Cy,useState:function(){return zp(tf)},useDebugValue:Sm,useDeferredValue:function(e){var t=vs();return wn===null?t.memoizedState=e:Dy(t,wn.memoizedState,e)},useTransition:function(){var e=zp(tf)[0],t=vs().memoizedState;return[e,t]},useMutableSource:Sy,useSyncExternalStore:jy,useId:My,unstable_isNewReconciler:!1};function Ts(e,t){if(e&&e.defaultProps){t=zr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function X0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:zr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Sh={isMounted:function(e){return(e=e._reactInternals)?Bl(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=fi(),i=Bo(e),s=za(n,i);s.payload=t,r!=null&&(s.callback=r),t=Mo(e,s,i),t!==null&&(qs(t,e,i,n),vd(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=fi(),i=Bo(e),s=za(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Mo(e,s,i),t!==null&&(qs(t,e,i,n),vd(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=fi(),n=Bo(e),i=za(r,n);i.tag=2,t!=null&&(i.callback=t),t=Mo(e,i,n),t!==null&&(qs(t,e,n,r),vd(t,e,n))}};function Sg(e,t,r,n,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,a):t.prototype&&t.prototype.isPureReactComponent?!Gc(r,n)||!Gc(i,s):!0}function qy(e,t,r){var n=!1,i=Ho,s=t.contextType;return typeof s=="object"&&s!==null?s=gs(s):(i=Ci(t)?Fl:ii.current,n=t.contextTypes,s=(n=n!=null)?Mu(e,i):Ho),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Sh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function jg(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Sh.enqueueReplaceState(t,t.state,null)}function Z0(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},mm(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=gs(s):(s=Ci(t)?Fl:ii.current,i.context=Mu(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(X0(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Sh.enqueueReplaceState(i,i.state,null),Gd(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function qu(e,t){try{var r="",n=t;do r+=j3(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Bp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function e1(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Y4=typeof WeakMap=="function"?WeakMap:Map;function Vy(e,t,r){r=za(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Zd||(Zd=!0,c1=n),e1(e,t)},r}function $y(e,t,r){r=za(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){e1(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){e1(e,t),typeof n!="function"&&(zo===null?zo=new Set([this]):zo.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function _g(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Y4;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=f6.bind(null,e,t,r),t.then(e,e))}function Ag(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function kg(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=za(-1,1),t.tag=2,Mo(r,t,1))),r.lanes|=1),e)}var X4=$a.ReactCurrentOwner,ki=!1;function ci(e,t,r,n){t.child=e===null?xy(t,null,r,n):Bu(t,e.child,r,n)}function Lg(e,t,r,n,i){r=r.render;var s=t.ref;return Eu(t,i),n=bm(e,t,r,n,s,i),r=wm(),e!==null&&!ki?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Va(e,t,i)):(Tr&&r&&lm(t),t.flags|=1,ci(e,t,n,i),t.child)}function Eg(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!Pm(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,Hy(e,t,s,n,i)):(e=Sd(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Gc,r(a,n)&&e.ref===t.ref)return Va(e,t,i)}return t.flags|=1,e=Uo(s,n),e.ref=t.ref,e.return=t,t.child=e}function Hy(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(Gc(s,n)&&e.ref===t.ref)if(ki=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(ki=!0);else return t.lanes=e.lanes,Va(e,t,i)}return t1(e,t,r,n,i)}function Wy(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},kr(bu,qi),qi|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,kr(bu,qi),qi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,kr(bu,qi),qi|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,kr(bu,qi),qi|=n;return ci(e,t,i,r),t.child}function Ky(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function t1(e,t,r,n,i){var s=Ci(r)?Fl:ii.current;return s=Mu(t,s),Eu(t,i),r=bm(e,t,r,n,s,i),n=wm(),e!==null&&!ki?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Va(e,t,i)):(Tr&&n&&lm(t),t.flags|=1,ci(e,t,r,i),t.child)}function Cg(e,t,r,n,i){if(Ci(r)){var s=!0;Vd(t)}else s=!1;if(Eu(t,i),t.stateNode===null)bd(e,t),qy(t,r,n),Z0(t,r,n,i),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,d=r.contextType;typeof d=="object"&&d!==null?d=gs(d):(d=Ci(r)?Fl:ii.current,d=Mu(t,d));var f=r.getDerivedStateFromProps,h=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==d)&&jg(t,a,n,d),_o=!1;var m=t.memoizedState;a.state=m,Gd(t,n,a,i),l=t.memoizedState,o!==n||m!==l||Ei.current||_o?(typeof f=="function"&&(X0(t,r,f,n),l=t.memoizedState),(o=_o||Sg(t,r,o,n,m,l,d))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=d,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,wy(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:Ts(t.type,o),a.props=d,h=t.pendingProps,m=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=gs(l):(l=Ci(r)?Fl:ii.current,l=Mu(t,l));var g=r.getDerivedStateFromProps;(f=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||m!==l)&&jg(t,a,n,l),_o=!1,m=t.memoizedState,a.state=m,Gd(t,n,a,i);var w=t.memoizedState;o!==h||m!==w||Ei.current||_o?(typeof g=="function"&&(X0(t,r,g,n),w=t.memoizedState),(d=_o||Sg(t,r,d,n,m,w,l)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,w,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,w,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),a.props=n,a.state=w,a.context=l,n=d):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return r1(e,t,r,n,s,i)}function r1(e,t,r,n,i,s){Ky(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return i&&mg(t,r,!1),Va(e,t,s);n=t.stateNode,X4.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Bu(t,e.child,null,s),t.child=Bu(t,null,o,s)):ci(e,t,o,s),t.memoizedState=n.state,i&&mg(t,r,!0),t.child}function Gy(e){var t=e.stateNode;t.pendingContext?pg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&pg(e,t.context,!1),gm(e,t.containerInfo)}function Pg(e,t,r,n,i){return zu(),cm(i),t.flags|=256,ci(e,t,r,n),t.child}var n1={dehydrated:null,treeContext:null,retryLane:0};function i1(e){return{baseLanes:e,cachePool:null,transitions:null}}function Qy(e,t,r){var n=t.pendingProps,i=Dr.current,s=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),kr(Dr,i&1),e===null)return J0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,s?(n=t.mode,s=t.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Ah(a,n,0,null),e=Al(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=i1(r),t.memoizedState=n1,e):jm(t,a));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Z4(e,t,a,n,o,i,r);if(s){s=n.fallback,a=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Uo(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Uo(o,s):(s=Al(s,a,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,a=e.child.memoizedState,a=a===null?i1(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~r,t.memoizedState=n1,n}return s=e.child,e=s.sibling,n=Uo(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function jm(e,t){return t=Ah({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function td(e,t,r,n){return n!==null&&cm(n),Bu(t,e.child,null,r),e=jm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Z4(e,t,r,n,i,s,a){if(r)return t.flags&256?(t.flags&=-257,n=Bp(Error(ht(422))),td(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=Ah({mode:"visible",children:n.children},i,0,null),s=Al(s,i,a,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Bu(t,e.child,null,a),t.child.memoizedState=i1(a),t.memoizedState=n1,s);if(!(t.mode&1))return td(e,t,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(ht(419)),n=Bp(s,n,void 0),td(e,t,a,n)}if(o=(a&e.childLanes)!==0,ki||o){if(n=Cn,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,qa(e,i),qs(n,e,i,-1))}return Cm(),n=Bp(Error(ht(421))),td(e,t,a,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=d6.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,$i=Do(i.nextSibling),Wi=t,Tr=!0,zs=null,e!==null&&(us[cs++]=Ta,us[cs++]=Da,us[cs++]=Il,Ta=e.id,Da=e.overflow,Il=t),t=jm(t,n.children),t.flags|=4096,t)}function Fg(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Y0(e.return,t,r)}function Up(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function Jy(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(ci(e,t,n.children,r),n=Dr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fg(e,r,t);else if(e.tag===19)Fg(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(kr(Dr,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Qd(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Up(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Qd(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Up(t,!0,r,null,s);break;case"together":Up(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function bd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Va(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Rl|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ht(153));if(t.child!==null){for(e=t.child,r=Uo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Uo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function e6(e,t,r){switch(t.tag){case 3:Gy(t),zu();break;case 5:Ny(t);break;case 1:Ci(t.type)&&Vd(t);break;case 4:gm(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;kr(Wd,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(kr(Dr,Dr.current&1),t.flags|=128,null):r&t.child.childLanes?Qy(e,t,r):(kr(Dr,Dr.current&1),e=Va(e,t,r),e!==null?e.sibling:null);kr(Dr,Dr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Jy(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),kr(Dr,Dr.current),n)break;return null;case 22:case 23:return t.lanes=0,Wy(e,t,r)}return Va(e,t,r)}var Yy,s1,Xy,Zy;Yy=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};s1=function(){};Xy=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,wl(fa.current);var s=null;switch(r){case"input":i=k0(e,i),n=k0(e,n),s=[];break;case"select":i=zr({},i,{value:void 0}),n=zr({},n,{value:void 0}),s=[];break;case"textarea":i=C0(e,i),n=C0(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ud)}F0(r,n);var a;r=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var o=i[d];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Uc.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in n){var l=n[d];if(o=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&l!==o&&(l!=null||o!=null))if(d==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(d,r)),r=l;else d==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(d,l)):d==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(d,""+l):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Uc.hasOwnProperty(d)?(l!=null&&d==="onScroll"&&Cr("scroll",e),s||o===l||(s=[])):(s=s||[]).push(d,l))}r&&(s=s||[]).push("style",r);var d=s;(t.updateQueue=d)&&(t.flags|=4)}};Zy=function(e,t,r,n){r!==n&&(t.flags|=4)};function yc(e,t){if(!Tr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function $n(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function t6(e,t,r){var n=t.pendingProps;switch(um(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $n(t),null;case 1:return Ci(t.type)&&qd(),$n(t),null;case 3:return n=t.stateNode,Uu(),Ir(Ei),Ir(ii),ym(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Zf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zs!==null&&(h1(zs),zs=null))),s1(e,t),$n(t),null;case 5:vm(t);var i=wl(Zc.current);if(r=t.type,e!==null&&t.stateNode!=null)Xy(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ht(166));return $n(t),null}if(e=wl(fa.current),Zf(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[la]=t,n[Yc]=s,e=(t.mode&1)!==0,r){case"dialog":Cr("cancel",n),Cr("close",n);break;case"iframe":case"object":case"embed":Cr("load",n);break;case"video":case"audio":for(i=0;i<Ec.length;i++)Cr(Ec[i],n);break;case"source":Cr("error",n);break;case"img":case"image":case"link":Cr("error",n),Cr("load",n);break;case"details":Cr("toggle",n);break;case"input":U2(n,s),Cr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Cr("invalid",n);break;case"textarea":V2(n,s),Cr("invalid",n)}F0(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Xf(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Xf(n.textContent,o,e),i=["children",""+o]):Uc.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Cr("scroll",n)}switch(r){case"input":$f(n),q2(n,s,!0);break;case"textarea":$f(n),$2(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Ud)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kv(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[la]=t,e[Yc]=n,Yy(e,t,!1,!1),t.stateNode=e;e:{switch(a=I0(r,n),r){case"dialog":Cr("cancel",e),Cr("close",e),i=n;break;case"iframe":case"object":case"embed":Cr("load",e),i=n;break;case"video":case"audio":for(i=0;i<Ec.length;i++)Cr(Ec[i],e);i=n;break;case"source":Cr("error",e),i=n;break;case"img":case"image":case"link":Cr("error",e),Cr("load",e),i=n;break;case"details":Cr("toggle",e),i=n;break;case"input":U2(e,n),i=k0(e,n),Cr("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=zr({},n,{value:void 0}),Cr("invalid",e);break;case"textarea":V2(e,n),i=C0(e,n),Cr("invalid",e);break;default:i=n}F0(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?Cv(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Lv(e,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&qc(e,l):typeof l=="number"&&qc(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Uc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Cr("scroll",e):l!=null&&G1(e,s,l,a))}switch(r){case"input":$f(e),q2(e,n,!1);break;case"textarea":$f(e),$2(e);break;case"option":n.value!=null&&e.setAttribute("value",""+$o(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?_u(e,!!n.multiple,s,!1):n.defaultValue!=null&&_u(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ud)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $n(t),null;case 6:if(e&&t.stateNode!=null)Zy(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ht(166));if(r=wl(Zc.current),wl(fa.current),Zf(t)){if(n=t.stateNode,r=t.memoizedProps,n[la]=t,(s=n.nodeValue!==r)&&(e=Wi,e!==null))switch(e.tag){case 3:Xf(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xf(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[la]=t,t.stateNode=n}return $n(t),null;case 13:if(Ir(Dr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Tr&&$i!==null&&t.mode&1&&!(t.flags&128))vy(),zu(),t.flags|=98560,s=!1;else if(s=Zf(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(ht(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ht(317));s[la]=t}else zu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$n(t),s=!1}else zs!==null&&(h1(zs),zs=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Dr.current&1?Nn===0&&(Nn=3):Cm())),t.updateQueue!==null&&(t.flags|=4),$n(t),null);case 4:return Uu(),s1(e,t),e===null&&Qc(t.stateNode.containerInfo),$n(t),null;case 10:return hm(t.type._context),$n(t),null;case 17:return Ci(t.type)&&qd(),$n(t),null;case 19:if(Ir(Dr),s=t.memoizedState,s===null)return $n(t),null;if(n=(t.flags&128)!==0,a=s.rendering,a===null)if(n)yc(s,!1);else{if(Nn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Qd(e),a!==null){for(t.flags|=128,yc(s,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return kr(Dr,Dr.current&1|2),t.child}e=e.sibling}s.tail!==null&&en()>Vu&&(t.flags|=128,n=!0,yc(s,!1),t.lanes=4194304)}else{if(!n)if(e=Qd(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),yc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Tr)return $n(t),null}else 2*en()-s.renderingStartTime>Vu&&r!==1073741824&&(t.flags|=128,n=!0,yc(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(r=s.last,r!==null?r.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=en(),t.sibling=null,r=Dr.current,kr(Dr,n?r&1|2:r&1),t):($n(t),null);case 22:case 23:return Em(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?qi&1073741824&&($n(t),t.subtreeFlags&6&&(t.flags|=8192)):$n(t),null;case 24:return null;case 25:return null}throw Error(ht(156,t.tag))}function r6(e,t){switch(um(t),t.tag){case 1:return Ci(t.type)&&qd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Uu(),Ir(Ei),Ir(ii),ym(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return vm(t),null;case 13:if(Ir(Dr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ht(340));zu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ir(Dr),null;case 4:return Uu(),null;case 10:return hm(t.type._context),null;case 22:case 23:return Em(),null;case 24:return null;default:return null}}var rd=!1,ti=!1,n6=typeof WeakSet=="function"?WeakSet:Set,At=null;function xu(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Hr(e,t,n)}else r.current=null}function a1(e,t,r){try{r()}catch(n){Hr(e,t,n)}}var Ig=!1;function i6(e,t){if(V0=Md,e=iy(),om(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,d=0,f=0,h=e,m=null;t:for(;;){for(var g;h!==r||i!==0&&h.nodeType!==3||(o=a+i),h!==s||n!==0&&h.nodeType!==3||(l=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(g=h.firstChild)!==null;)m=h,h=g;for(;;){if(h===e)break t;if(m===r&&++d===i&&(o=a),m===s&&++f===n&&(l=a),(g=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=g}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for($0={focusedElem:e,selectionRange:r},Md=!1,At=t;At!==null;)if(t=At,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,At=e;else for(;At!==null;){t=At;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var _=w.memoizedProps,L=w.memoizedState,x=t.stateNode,S=x.getSnapshotBeforeUpdate(t.elementType===t.type?_:Ts(t.type,_),L);x.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var F=t.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ht(163))}}catch(T){Hr(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,At=e;break}At=t.return}return w=Ig,Ig=!1,w}function Tc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&a1(t,r,s)}i=i.next}while(i!==n)}}function jh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function o1(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function ex(e){var t=e.alternate;t!==null&&(e.alternate=null,ex(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[la],delete t[Yc],delete t[K0],delete t[B4],delete t[U4])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function tx(e){return e.tag===5||e.tag===3||e.tag===4}function Og(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function l1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ud));else if(n!==4&&(e=e.child,e!==null))for(l1(e,t,r),e=e.sibling;e!==null;)l1(e,t,r),e=e.sibling}function u1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(u1(e,t,r),e=e.sibling;e!==null;)u1(e,t,r),e=e.sibling}var On=null,Ms=!1;function bo(e,t,r){for(r=r.child;r!==null;)rx(e,t,r),r=r.sibling}function rx(e,t,r){if(ca&&typeof ca.onCommitFiberUnmount=="function")try{ca.onCommitFiberUnmount(gh,r)}catch{}switch(r.tag){case 5:ti||xu(r,t);case 6:var n=On,i=Ms;On=null,bo(e,t,r),On=n,Ms=i,On!==null&&(Ms?(e=On,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):On.removeChild(r.stateNode));break;case 18:On!==null&&(Ms?(e=On,r=r.stateNode,e.nodeType===8?Op(e.parentNode,r):e.nodeType===1&&Op(e,r),Wc(e)):Op(On,r.stateNode));break;case 4:n=On,i=Ms,On=r.stateNode.containerInfo,Ms=!0,bo(e,t,r),On=n,Ms=i;break;case 0:case 11:case 14:case 15:if(!ti&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&a1(r,t,a),i=i.next}while(i!==n)}bo(e,t,r);break;case 1:if(!ti&&(xu(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Hr(r,t,o)}bo(e,t,r);break;case 21:bo(e,t,r);break;case 22:r.mode&1?(ti=(n=ti)||r.memoizedState!==null,bo(e,t,r),ti=n):bo(e,t,r);break;default:bo(e,t,r)}}function Rg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new n6),t.forEach(function(n){var i=h6.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Fs(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:On=o.stateNode,Ms=!1;break e;case 3:On=o.stateNode.containerInfo,Ms=!0;break e;case 4:On=o.stateNode.containerInfo,Ms=!0;break e}o=o.return}if(On===null)throw Error(ht(160));rx(s,a,i),On=null,Ms=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(d){Hr(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)nx(t,e),t=t.sibling}function nx(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Fs(t,e),ra(e),n&4){try{Tc(3,e,e.return),jh(3,e)}catch(_){Hr(e,e.return,_)}try{Tc(5,e,e.return)}catch(_){Hr(e,e.return,_)}}break;case 1:Fs(t,e),ra(e),n&512&&r!==null&&xu(r,r.return);break;case 5:if(Fs(t,e),ra(e),n&512&&r!==null&&xu(r,r.return),e.flags&32){var i=e.stateNode;try{qc(i,"")}catch(_){Hr(e,e.return,_)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=r!==null?r.memoizedProps:s,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&_v(i,s),I0(o,a);var d=I0(o,s);for(a=0;a<l.length;a+=2){var f=l[a],h=l[a+1];f==="style"?Cv(i,h):f==="dangerouslySetInnerHTML"?Lv(i,h):f==="children"?qc(i,h):G1(i,f,h,d)}switch(o){case"input":L0(i,s);break;case"textarea":Av(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?_u(i,!!s.multiple,g,!1):m!==!!s.multiple&&(s.defaultValue!=null?_u(i,!!s.multiple,s.defaultValue,!0):_u(i,!!s.multiple,s.multiple?[]:"",!1))}i[Yc]=s}catch(_){Hr(e,e.return,_)}}break;case 6:if(Fs(t,e),ra(e),n&4){if(e.stateNode===null)throw Error(ht(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(_){Hr(e,e.return,_)}}break;case 3:if(Fs(t,e),ra(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Wc(t.containerInfo)}catch(_){Hr(e,e.return,_)}break;case 4:Fs(t,e),ra(e);break;case 13:Fs(t,e),ra(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(km=en())),n&4&&Rg(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(ti=(d=ti)||f,Fs(t,e),ti=d):Fs(t,e),ra(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(At=e,f=e.child;f!==null;){for(h=At=f;At!==null;){switch(m=At,g=m.child,m.tag){case 0:case 11:case 14:case 15:Tc(4,m,m.return);break;case 1:xu(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(_){Hr(n,r,_)}}break;case 5:xu(m,m.return);break;case 22:if(m.memoizedState!==null){Dg(h);continue}}g!==null?(g.return=m,At=g):Dg(h)}f=f.sibling}e:for(f=null,h=e;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Ev("display",a))}catch(_){Hr(e,e.return,_)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(_){Hr(e,e.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Fs(t,e),ra(e),n&4&&Rg(e);break;case 21:break;default:Fs(t,e),ra(e)}}function ra(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(tx(r)){var n=r;break e}r=r.return}throw Error(ht(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(qc(i,""),n.flags&=-33);var s=Og(e);u1(e,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=Og(e);l1(e,o,a);break;default:throw Error(ht(161))}}catch(l){Hr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function s6(e,t,r){At=e,ix(e)}function ix(e,t,r){for(var n=(e.mode&1)!==0;At!==null;){var i=At,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||rd;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||ti;o=rd;var d=ti;if(rd=a,(ti=l)&&!d)for(At=i;At!==null;)a=At,l=a.child,a.tag===22&&a.memoizedState!==null?Mg(i):l!==null?(l.return=a,At=l):Mg(i);for(;s!==null;)At=s,ix(s),s=s.sibling;At=i,rd=o,ti=d}Tg(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,At=s):Tg(e)}}function Tg(e){for(;At!==null;){var t=At;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ti||jh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ti)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Ts(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&bg(t,s,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}bg(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Wc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ht(163))}ti||t.flags&512&&o1(t)}catch(m){Hr(t,t.return,m)}}if(t===e){At=null;break}if(r=t.sibling,r!==null){r.return=t.return,At=r;break}At=t.return}}function Dg(e){for(;At!==null;){var t=At;if(t===e){At=null;break}var r=t.sibling;if(r!==null){r.return=t.return,At=r;break}At=t.return}}function Mg(e){for(;At!==null;){var t=At;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{jh(4,t)}catch(l){Hr(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){Hr(t,i,l)}}var s=t.return;try{o1(t)}catch(l){Hr(t,s,l)}break;case 5:var a=t.return;try{o1(t)}catch(l){Hr(t,a,l)}}}catch(l){Hr(t,t.return,l)}if(t===e){At=null;break}var o=t.sibling;if(o!==null){o.return=t.return,At=o;break}At=t.return}}var a6=Math.ceil,Xd=$a.ReactCurrentDispatcher,_m=$a.ReactCurrentOwner,ms=$a.ReactCurrentBatchConfig,cr=0,Cn=null,gn=null,Rn=0,qi=0,bu=Yo(0),Nn=0,nf=null,Rl=0,_h=0,Am=0,Dc=null,_i=null,km=0,Vu=1/0,Oa=null,Zd=!1,c1=null,zo=null,nd=!1,Co=null,eh=0,Mc=0,f1=null,wd=-1,Nd=0;function fi(){return cr&6?en():wd!==-1?wd:wd=en()}function Bo(e){return e.mode&1?cr&2&&Rn!==0?Rn&-Rn:V4.transition!==null?(Nd===0&&(Nd=qv()),Nd):(e=vr,e!==0||(e=window.event,e=e===void 0?16:Qv(e.type)),e):1}function qs(e,t,r,n){if(50<Mc)throw Mc=0,f1=null,Error(ht(185));mf(e,r,n),(!(cr&2)||e!==Cn)&&(e===Cn&&(!(cr&2)&&(_h|=r),Nn===4&&ko(e,Rn)),Pi(e,n),r===1&&cr===0&&!(t.mode&1)&&(Vu=en()+500,wh&&Xo()))}function Pi(e,t){var r=e.callbackNode;V3(e,t);var n=Dd(e,e===Cn?Rn:0);if(n===0)r!==null&&K2(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&K2(r),t===1)e.tag===0?q4(zg.bind(null,e)):py(zg.bind(null,e)),M4(function(){!(cr&6)&&Xo()}),r=null;else{switch(Vv(n)){case 1:r=Z1;break;case 4:r=Bv;break;case 16:r=Td;break;case 536870912:r=Uv;break;default:r=Td}r=dx(r,sx.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function sx(e,t){if(wd=-1,Nd=0,cr&6)throw Error(ht(327));var r=e.callbackNode;if(Cu()&&e.callbackNode!==r)return null;var n=Dd(e,e===Cn?Rn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=th(e,n);else{t=n;var i=cr;cr|=2;var s=ox();(Cn!==e||Rn!==t)&&(Oa=null,Vu=en()+500,_l(e,t));do try{u6();break}catch(o){ax(e,o)}while(!0);dm(),Xd.current=s,cr=i,gn!==null?t=0:(Cn=null,Rn=0,t=Nn)}if(t!==0){if(t===2&&(i=M0(e),i!==0&&(n=i,t=d1(e,i))),t===1)throw r=nf,_l(e,0),ko(e,n),Pi(e,en()),r;if(t===6)ko(e,n);else{if(i=e.current.alternate,!(n&30)&&!o6(i)&&(t=th(e,n),t===2&&(s=M0(e),s!==0&&(n=s,t=d1(e,s))),t===1))throw r=nf,_l(e,0),ko(e,n),Pi(e,en()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(ht(345));case 2:gl(e,_i,Oa);break;case 3:if(ko(e,n),(n&130023424)===n&&(t=km+500-en(),10<t)){if(Dd(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){fi(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=W0(gl.bind(null,e,_i,Oa),t);break}gl(e,_i,Oa);break;case 4:if(ko(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var a=31-Us(n);s=1<<a,a=t[a],a>i&&(i=a),n&=~s}if(n=i,n=en()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*a6(n/1960))-n,10<n){e.timeoutHandle=W0(gl.bind(null,e,_i,Oa),n);break}gl(e,_i,Oa);break;case 5:gl(e,_i,Oa);break;default:throw Error(ht(329))}}}return Pi(e,en()),e.callbackNode===r?sx.bind(null,e):null}function d1(e,t){var r=Dc;return e.current.memoizedState.isDehydrated&&(_l(e,t).flags|=256),e=th(e,t),e!==2&&(t=_i,_i=r,t!==null&&h1(t)),e}function h1(e){_i===null?_i=e:_i.push.apply(_i,e)}function o6(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!$s(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ko(e,t){for(t&=~Am,t&=~_h,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Us(t),n=1<<r;e[r]=-1,t&=~n}}function zg(e){if(cr&6)throw Error(ht(327));Cu();var t=Dd(e,0);if(!(t&1))return Pi(e,en()),null;var r=th(e,t);if(e.tag!==0&&r===2){var n=M0(e);n!==0&&(t=n,r=d1(e,n))}if(r===1)throw r=nf,_l(e,0),ko(e,t),Pi(e,en()),r;if(r===6)throw Error(ht(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gl(e,_i,Oa),Pi(e,en()),null}function Lm(e,t){var r=cr;cr|=1;try{return e(t)}finally{cr=r,cr===0&&(Vu=en()+500,wh&&Xo())}}function Tl(e){Co!==null&&Co.tag===0&&!(cr&6)&&Cu();var t=cr;cr|=1;var r=ms.transition,n=vr;try{if(ms.transition=null,vr=1,e)return e()}finally{vr=n,ms.transition=r,cr=t,!(cr&6)&&Xo()}}function Em(){qi=bu.current,Ir(bu)}function _l(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,D4(r)),gn!==null)for(r=gn.return;r!==null;){var n=r;switch(um(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&qd();break;case 3:Uu(),Ir(Ei),Ir(ii),ym();break;case 5:vm(n);break;case 4:Uu();break;case 13:Ir(Dr);break;case 19:Ir(Dr);break;case 10:hm(n.type._context);break;case 22:case 23:Em()}r=r.return}if(Cn=e,gn=e=Uo(e.current,null),Rn=qi=t,Nn=0,nf=null,Am=_h=Rl=0,_i=Dc=null,bl!==null){for(t=0;t<bl.length;t++)if(r=bl[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}bl=null}return e}function ax(e,t){do{var r=gn;try{if(dm(),yd.current=Yd,Jd){for(var n=Mr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Jd=!1}if(Ol=0,Ln=wn=Mr=null,Rc=!1,ef=0,_m.current=null,r===null||r.return===null){Nn=1,nf=t,gn=null;break}e:{var s=e,a=r.return,o=r,l=t;if(t=Rn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l,f=o,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=Ag(a);if(g!==null){g.flags&=-257,kg(g,a,o,s,t),g.mode&1&&_g(s,d,t),t=g,l=d;var w=t.updateQueue;if(w===null){var _=new Set;_.add(l),t.updateQueue=_}else w.add(l);break e}else{if(!(t&1)){_g(s,d,t),Cm();break e}l=Error(ht(426))}}else if(Tr&&o.mode&1){var L=Ag(a);if(L!==null){!(L.flags&65536)&&(L.flags|=256),kg(L,a,o,s,t),cm(qu(l,o));break e}}s=l=qu(l,o),Nn!==4&&(Nn=2),Dc===null?Dc=[s]:Dc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var x=Vy(s,l,t);xg(s,x);break e;case 1:o=l;var S=s.type,F=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(zo===null||!zo.has(F)))){s.flags|=65536,t&=-t,s.lanes|=t;var T=$y(s,o,t);xg(s,T);break e}}s=s.return}while(s!==null)}ux(r)}catch(V){t=V,gn===r&&r!==null&&(gn=r=r.return);continue}break}while(!0)}function ox(){var e=Xd.current;return Xd.current=Yd,e===null?Yd:e}function Cm(){(Nn===0||Nn===3||Nn===2)&&(Nn=4),Cn===null||!(Rl&268435455)&&!(_h&268435455)||ko(Cn,Rn)}function th(e,t){var r=cr;cr|=2;var n=ox();(Cn!==e||Rn!==t)&&(Oa=null,_l(e,t));do try{l6();break}catch(i){ax(e,i)}while(!0);if(dm(),cr=r,Xd.current=n,gn!==null)throw Error(ht(261));return Cn=null,Rn=0,Nn}function l6(){for(;gn!==null;)lx(gn)}function u6(){for(;gn!==null&&!O3();)lx(gn)}function lx(e){var t=fx(e.alternate,e,qi);e.memoizedProps=e.pendingProps,t===null?ux(e):gn=t,_m.current=null}function ux(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=r6(r,t),r!==null){r.flags&=32767,gn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Nn=6,gn=null;return}}else if(r=t6(r,t,qi),r!==null){gn=r;return}if(t=t.sibling,t!==null){gn=t;return}gn=t=e}while(t!==null);Nn===0&&(Nn=5)}function gl(e,t,r){var n=vr,i=ms.transition;try{ms.transition=null,vr=1,c6(e,t,r,n)}finally{ms.transition=i,vr=n}return null}function c6(e,t,r,n){do Cu();while(Co!==null);if(cr&6)throw Error(ht(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ht(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if($3(e,s),e===Cn&&(gn=Cn=null,Rn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||nd||(nd=!0,dx(Td,function(){return Cu(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=ms.transition,ms.transition=null;var a=vr;vr=1;var o=cr;cr|=4,_m.current=null,i6(e,r),nx(r,e),C4($0),Md=!!V0,$0=V0=null,e.current=r,s6(r),R3(),cr=o,vr=a,ms.transition=s}else e.current=r;if(nd&&(nd=!1,Co=e,eh=i),s=e.pendingLanes,s===0&&(zo=null),M3(r.stateNode),Pi(e,en()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Zd)throw Zd=!1,e=c1,c1=null,e;return eh&1&&e.tag!==0&&Cu(),s=e.pendingLanes,s&1?e===f1?Mc++:(Mc=0,f1=e):Mc=0,Xo(),null}function Cu(){if(Co!==null){var e=Vv(eh),t=ms.transition,r=vr;try{if(ms.transition=null,vr=16>e?16:e,Co===null)var n=!1;else{if(e=Co,Co=null,eh=0,cr&6)throw Error(ht(331));var i=cr;for(cr|=4,At=e.current;At!==null;){var s=At,a=s.child;if(At.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var d=o[l];for(At=d;At!==null;){var f=At;switch(f.tag){case 0:case 11:case 15:Tc(8,f,s)}var h=f.child;if(h!==null)h.return=f,At=h;else for(;At!==null;){f=At;var m=f.sibling,g=f.return;if(ex(f),f===d){At=null;break}if(m!==null){m.return=g,At=m;break}At=g}}}var w=s.alternate;if(w!==null){var _=w.child;if(_!==null){w.child=null;do{var L=_.sibling;_.sibling=null,_=L}while(_!==null)}}At=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,At=a;else e:for(;At!==null;){if(s=At,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Tc(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,At=x;break e}At=s.return}}var S=e.current;for(At=S;At!==null;){a=At;var F=a.child;if(a.subtreeFlags&2064&&F!==null)F.return=a,At=F;else e:for(a=S;At!==null;){if(o=At,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:jh(9,o)}}catch(V){Hr(o,o.return,V)}if(o===a){At=null;break e}var T=o.sibling;if(T!==null){T.return=o.return,At=T;break e}At=o.return}}if(cr=i,Xo(),ca&&typeof ca.onPostCommitFiberRoot=="function")try{ca.onPostCommitFiberRoot(gh,e)}catch{}n=!0}return n}finally{vr=r,ms.transition=t}}return!1}function Bg(e,t,r){t=qu(r,t),t=Vy(e,t,1),e=Mo(e,t,1),t=fi(),e!==null&&(mf(e,1,t),Pi(e,t))}function Hr(e,t,r){if(e.tag===3)Bg(e,e,r);else for(;t!==null;){if(t.tag===3){Bg(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(zo===null||!zo.has(n))){e=qu(r,e),e=$y(t,e,1),t=Mo(t,e,1),e=fi(),t!==null&&(mf(t,1,e),Pi(t,e));break}}t=t.return}}function f6(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=fi(),e.pingedLanes|=e.suspendedLanes&r,Cn===e&&(Rn&r)===r&&(Nn===4||Nn===3&&(Rn&130023424)===Rn&&500>en()-km?_l(e,0):Am|=r),Pi(e,t)}function cx(e,t){t===0&&(e.mode&1?(t=Kf,Kf<<=1,!(Kf&130023424)&&(Kf=4194304)):t=1);var r=fi();e=qa(e,t),e!==null&&(mf(e,t,r),Pi(e,r))}function d6(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),cx(e,r)}function h6(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ht(314))}n!==null&&n.delete(t),cx(e,r)}var fx;fx=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ei.current)ki=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ki=!1,e6(e,t,r);ki=!!(e.flags&131072)}else ki=!1,Tr&&t.flags&1048576&&my(t,Hd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;bd(e,t),e=t.pendingProps;var i=Mu(t,ii.current);Eu(t,r),i=bm(null,t,n,e,i,r);var s=wm();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ci(n)?(s=!0,Vd(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mm(t),i.updater=Sh,t.stateNode=i,i._reactInternals=t,Z0(t,n,e,r),t=r1(null,t,n,!0,s,r)):(t.tag=0,Tr&&s&&lm(t),ci(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(bd(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=m6(n),e=Ts(n,e),i){case 0:t=t1(null,t,n,e,r);break e;case 1:t=Cg(null,t,n,e,r);break e;case 11:t=Lg(null,t,n,e,r);break e;case 14:t=Eg(null,t,n,Ts(n.type,e),r);break e}throw Error(ht(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ts(n,i),t1(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ts(n,i),Cg(e,t,n,i,r);case 3:e:{if(Gy(t),e===null)throw Error(ht(387));n=t.pendingProps,s=t.memoizedState,i=s.element,wy(e,t),Gd(t,n,null,r);var a=t.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=qu(Error(ht(423)),t),t=Pg(e,t,n,r,i);break e}else if(n!==i){i=qu(Error(ht(424)),t),t=Pg(e,t,n,r,i);break e}else for($i=Do(t.stateNode.containerInfo.firstChild),Wi=t,Tr=!0,zs=null,r=xy(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(zu(),n===i){t=Va(e,t,r);break e}ci(e,t,n,r)}t=t.child}return t;case 5:return Ny(t),e===null&&J0(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,H0(n,i)?a=null:s!==null&&H0(n,s)&&(t.flags|=32),Ky(e,t),ci(e,t,a,r),t.child;case 6:return e===null&&J0(t),null;case 13:return Qy(e,t,r);case 4:return gm(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Bu(t,null,n,r):ci(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ts(n,i),Lg(e,t,n,i,r);case 7:return ci(e,t,t.pendingProps,r),t.child;case 8:return ci(e,t,t.pendingProps.children,r),t.child;case 12:return ci(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,kr(Wd,n._currentValue),n._currentValue=a,s!==null)if($s(s.value,a)){if(s.children===i.children&&!Ei.current){t=Va(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=za(-1,r&-r),l.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?l.next=l:(l.next=f.next,f.next=l),d.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),Y0(s.return,r,t),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(ht(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),Y0(a,r,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}ci(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Eu(t,r),i=gs(i),n=n(i),t.flags|=1,ci(e,t,n,r),t.child;case 14:return n=t.type,i=Ts(n,t.pendingProps),i=Ts(n.type,i),Eg(e,t,n,i,r);case 15:return Hy(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ts(n,i),bd(e,t),t.tag=1,Ci(n)?(e=!0,Vd(t)):e=!1,Eu(t,r),qy(t,n,i),Z0(t,n,i,r),r1(null,t,n,!0,e,r);case 19:return Jy(e,t,r);case 22:return Wy(e,t,r)}throw Error(ht(156,t.tag))};function dx(e,t){return zv(e,t)}function p6(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ds(e,t,r,n){return new p6(e,t,r,n)}function Pm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function m6(e){if(typeof e=="function")return Pm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===J1)return 11;if(e===Y1)return 14}return 2}function Uo(e,t){var r=e.alternate;return r===null?(r=ds(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Sd(e,t,r,n,i,s){var a=2;if(n=e,typeof e=="function")Pm(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case cu:return Al(r.children,i,s,t);case Q1:a=8,i|=8;break;case S0:return e=ds(12,r,t,i|2),e.elementType=S0,e.lanes=s,e;case j0:return e=ds(13,r,t,i),e.elementType=j0,e.lanes=s,e;case _0:return e=ds(19,r,t,i),e.elementType=_0,e.lanes=s,e;case Nv:return Ah(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bv:a=10;break e;case wv:a=9;break e;case J1:a=11;break e;case Y1:a=14;break e;case jo:a=16,n=null;break e}throw Error(ht(130,e==null?e:typeof e,""))}return t=ds(a,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function Al(e,t,r,n){return e=ds(7,e,n,t),e.lanes=r,e}function Ah(e,t,r,n){return e=ds(22,e,n,t),e.elementType=Nv,e.lanes=r,e.stateNode={isHidden:!1},e}function qp(e,t,r){return e=ds(6,e,null,t),e.lanes=r,e}function Vp(e,t,r){return t=ds(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function g6(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sp(0),this.expirationTimes=Sp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sp(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fm(e,t,r,n,i,s,a,o,l){return e=new g6(e,t,r,o,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ds(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},mm(s),e}function v6(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:uu,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function hx(e){if(!e)return Ho;e=e._reactInternals;e:{if(Bl(e)!==e||e.tag!==1)throw Error(ht(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ci(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ht(171))}if(e.tag===1){var r=e.type;if(Ci(r))return hy(e,r,t)}return t}function px(e,t,r,n,i,s,a,o,l){return e=Fm(r,n,!0,e,i,s,a,o,l),e.context=hx(null),r=e.current,n=fi(),i=Bo(r),s=za(n,i),s.callback=t??null,Mo(r,s,i),e.current.lanes=i,mf(e,i,n),Pi(e,n),e}function kh(e,t,r,n){var i=t.current,s=fi(),a=Bo(i);return r=hx(r),t.context===null?t.context=r:t.pendingContext=r,t=za(s,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Mo(i,t,a),e!==null&&(qs(e,i,a,s),vd(e,i,a)),a}function rh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ug(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Im(e,t){Ug(e,t),(e=e.alternate)&&Ug(e,t)}function y6(){return null}var mx=typeof reportError=="function"?reportError:function(e){console.error(e)};function Om(e){this._internalRoot=e}Lh.prototype.render=Om.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ht(409));kh(e,t,null,null)};Lh.prototype.unmount=Om.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Tl(function(){kh(null,e,null,null)}),t[Ua]=null}};function Lh(e){this._internalRoot=e}Lh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Wv();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ao.length&&t!==0&&t<Ao[r].priority;r++);Ao.splice(r,0,e),r===0&&Gv(e)}};function Rm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Eh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qg(){}function x6(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var d=rh(a);s.call(d)}}var a=px(t,n,e,0,null,!1,!1,"",qg);return e._reactRootContainer=a,e[Ua]=a.current,Qc(e.nodeType===8?e.parentNode:e),Tl(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var d=rh(l);o.call(d)}}var l=Fm(e,0,!1,null,null,!1,!1,"",qg);return e._reactRootContainer=l,e[Ua]=l.current,Qc(e.nodeType===8?e.parentNode:e),Tl(function(){kh(t,l,r,n)}),l}function Ch(e,t,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=rh(a);o.call(l)}}kh(t,a,e,i)}else a=x6(r,t,e,i,n);return rh(a)}$v=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Lc(t.pendingLanes);r!==0&&(em(t,r|1),Pi(t,en()),!(cr&6)&&(Vu=en()+500,Xo()))}break;case 13:Tl(function(){var n=qa(e,1);if(n!==null){var i=fi();qs(n,e,1,i)}}),Im(e,1)}};tm=function(e){if(e.tag===13){var t=qa(e,134217728);if(t!==null){var r=fi();qs(t,e,134217728,r)}Im(e,134217728)}};Hv=function(e){if(e.tag===13){var t=Bo(e),r=qa(e,t);if(r!==null){var n=fi();qs(r,e,t,n)}Im(e,t)}};Wv=function(){return vr};Kv=function(e,t){var r=vr;try{return vr=e,t()}finally{vr=r}};R0=function(e,t,r){switch(t){case"input":if(L0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=bh(n);if(!i)throw Error(ht(90));jv(n),L0(n,i)}}}break;case"textarea":Av(e,r);break;case"select":t=r.value,t!=null&&_u(e,!!r.multiple,t,!1)}};Iv=Lm;Ov=Tl;var b6={usingClientEntryPoint:!1,Events:[vf,pu,bh,Pv,Fv,Lm]},xc={findFiberByHostInstance:xl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},w6={bundleType:xc.bundleType,version:xc.version,rendererPackageName:xc.rendererPackageName,rendererConfig:xc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$a.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Dv(e),e===null?null:e.stateNode},findFiberByHostInstance:xc.findFiberByHostInstance||y6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var id=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!id.isDisabled&&id.supportsFiber)try{gh=id.inject(w6),ca=id}catch{}}Gi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b6;Gi.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rm(t))throw Error(ht(200));return v6(e,t,null,r)};Gi.createRoot=function(e,t){if(!Rm(e))throw Error(ht(299));var r=!1,n="",i=mx;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Fm(e,1,!1,null,null,r,!1,n,i),e[Ua]=t.current,Qc(e.nodeType===8?e.parentNode:e),new Om(t)};Gi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ht(188)):(e=Object.keys(e).join(","),Error(ht(268,e)));return e=Dv(t),e=e===null?null:e.stateNode,e};Gi.flushSync=function(e){return Tl(e)};Gi.hydrate=function(e,t,r){if(!Eh(t))throw Error(ht(200));return Ch(null,e,t,!0,r)};Gi.hydrateRoot=function(e,t,r){if(!Rm(e))throw Error(ht(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=mx;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=px(t,null,e,1,r??null,i,!1,s,a),e[Ua]=t.current,Qc(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Lh(t)};Gi.render=function(e,t,r){if(!Eh(t))throw Error(ht(200));return Ch(null,e,t,!1,r)};Gi.unmountComponentAtNode=function(e){if(!Eh(e))throw Error(ht(40));return e._reactRootContainer?(Tl(function(){Ch(null,null,e,!1,function(){e._reactRootContainer=null,e[Ua]=null})}),!0):!1};Gi.unstable_batchedUpdates=Lm;Gi.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Eh(r))throw Error(ht(200));if(e==null||e._reactInternals===void 0)throw Error(ht(38));return Ch(e,t,r,!1,n)};Gi.version="18.3.1-next-f1338f8080-20240426";function gx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gx)}catch(e){console.error(e)}}gx(),gv.exports=Gi;var N6=gv.exports,Vg=N6;w0.createRoot=Vg.createRoot,w0.hydrateRoot=Vg.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sf(){return sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sf.apply(this,arguments)}var Po;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Po||(Po={}));const $g="popstate";function S6(e){e===void 0&&(e={});function t(n,i){let{pathname:s,search:a,hash:o}=n.location;return p1("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:nh(i)}return _6(t,r,null,e)}function sn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Tm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function j6(){return Math.random().toString(36).substr(2,8)}function Hg(e,t){return{usr:e.state,key:e.key,idx:t}}function p1(e,t,r,n){return r===void 0&&(r=null),sf({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Xu(t):t,{state:r,key:t&&t.key||n||j6()})}function nh(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Xu(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function _6(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=Po.Pop,l=null,d=f();d==null&&(d=0,a.replaceState(sf({},a.state,{idx:d}),""));function f(){return(a.state||{idx:null}).idx}function h(){o=Po.Pop;let L=f(),x=L==null?null:L-d;d=L,l&&l({action:o,location:_.location,delta:x})}function m(L,x){o=Po.Push;let S=p1(_.location,L,x);d=f()+1;let F=Hg(S,d),T=_.createHref(S);try{a.pushState(F,"",T)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(T)}s&&l&&l({action:o,location:_.location,delta:1})}function g(L,x){o=Po.Replace;let S=p1(_.location,L,x);d=f();let F=Hg(S,d),T=_.createHref(S);a.replaceState(F,"",T),s&&l&&l({action:o,location:_.location,delta:0})}function w(L){let x=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof L=="string"?L:nh(L);return S=S.replace(/ $/,"%20"),sn(x,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,x)}let _={get action(){return o},get location(){return e(i,a)},listen(L){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener($g,h),l=L,()=>{i.removeEventListener($g,h),l=null}},createHref(L){return t(i,L)},createURL:w,encodeLocation(L){let x=w(L);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:g,go(L){return a.go(L)}};return _}var Wg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Wg||(Wg={}));function A6(e,t,r){return r===void 0&&(r="/"),k6(e,t,r)}function k6(e,t,r,n){let i=typeof t=="string"?Xu(t):t,s=Dm(i.pathname||"/",r);if(s==null)return null;let a=vx(e);L6(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let d=B6(s);o=D6(a[l],d)}return o}function vx(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(sn(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let d=qo([n,l.relativePath]),f=r.concat(l);s.children&&s.children.length>0&&(sn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),vx(s.children,t,f,d)),!(s.path==null&&!s.index)&&t.push({path:d,score:R6(d,s.index),routesMeta:f})};return e.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of yx(s.path))i(s,a,l)}),t}function yx(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=yx(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function L6(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:T6(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const E6=/^:[\w-]+$/,C6=3,P6=2,F6=1,I6=10,O6=-2,Kg=e=>e==="*";function R6(e,t){let r=e.split("/"),n=r.length;return r.some(Kg)&&(n+=O6),t&&(n+=P6),r.filter(i=>!Kg(i)).reduce((i,s)=>i+(E6.test(s)?C6:s===""?F6:I6),n)}function T6(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function D6(e,t,r){let{routesMeta:n}=e,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],d=o===n.length-1,f=s==="/"?t:t.slice(s.length)||"/",h=M6({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},f),m=l.route;if(!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:qo([s,h.pathname]),pathnameBase:H6(qo([s,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(s=qo([s,h.pathnameBase]))}return a}function M6(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=z6(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((d,f,h)=>{let{paramName:m,isOptional:g}=f;if(m==="*"){let _=o[h]||"";a=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const w=o[h];return g&&!w?d[m]=void 0:d[m]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:e}}function z6(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Tm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function B6(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Tm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Dm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const U6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,q6=e=>U6.test(e);function V6(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Xu(e):e,s;if(r)if(q6(r))s=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),Tm(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?s=Gg(r.substring(1),"/"):s=Gg(r,t)}else s=t;return{pathname:s,search:W6(n),hash:K6(i)}}function Gg(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function $p(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $6(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Mm(e,t){let r=$6(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function zm(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Xu(e):(i=sf({},e),sn(!i.pathname||!i.pathname.includes("?"),$p("?","pathname","search",i)),sn(!i.pathname||!i.pathname.includes("#"),$p("#","pathname","hash",i)),sn(!i.search||!i.search.includes("#"),$p("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let h=t.length-1;if(!n&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}o=h>=0?t[h]:"/"}let l=V6(i,o),d=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(d||f)&&(l.pathname+="/"),l}const qo=e=>e.join("/").replace(/\/\/+/g,"/"),H6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),W6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,K6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function G6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const xx=["post","put","patch","delete"];new Set(xx);const Q6=["get",...xx];new Set(Q6);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function af(){return af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},af.apply(this,arguments)}const Bm=_e.createContext(null),J6=_e.createContext(null),Zo=_e.createContext(null),Ph=_e.createContext(null),Ha=_e.createContext({outlet:null,matches:[],isDataRoute:!1}),bx=_e.createContext(null);function Y6(e,t){let{relative:r}=t===void 0?{}:t;Zu()||sn(!1);let{basename:n,navigator:i}=_e.useContext(Zo),{hash:s,pathname:a,search:o}=Nx(e,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:qo([n,a])),i.createHref({pathname:l,search:o,hash:s})}function Zu(){return _e.useContext(Ph)!=null}function Wa(){return Zu()||sn(!1),_e.useContext(Ph).location}function wx(e){_e.useContext(Zo).static||_e.useLayoutEffect(e)}function ec(){let{isDataRoute:e}=_e.useContext(Ha);return e?dN():X6()}function X6(){Zu()||sn(!1);let e=_e.useContext(Bm),{basename:t,future:r,navigator:n}=_e.useContext(Zo),{matches:i}=_e.useContext(Ha),{pathname:s}=Wa(),a=JSON.stringify(Mm(i,r.v7_relativeSplatPath)),o=_e.useRef(!1);return wx(()=>{o.current=!0}),_e.useCallback(function(d,f){if(f===void 0&&(f={}),!o.current)return;if(typeof d=="number"){n.go(d);return}let h=zm(d,JSON.parse(a),s,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:qo([t,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[t,n,a,s,e])}const Z6=_e.createContext(null);function eN(e){let t=_e.useContext(Ha).outlet;return t&&_e.createElement(Z6.Provider,{value:e},t)}function Nx(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=_e.useContext(Zo),{matches:i}=_e.useContext(Ha),{pathname:s}=Wa(),a=JSON.stringify(Mm(i,n.v7_relativeSplatPath));return _e.useMemo(()=>zm(e,JSON.parse(a),s,r==="path"),[e,a,s,r])}function tN(e,t){return rN(e,t)}function rN(e,t,r,n){Zu()||sn(!1);let{navigator:i}=_e.useContext(Zo),{matches:s}=_e.useContext(Ha),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let d=Wa(),f;if(t){var h;let L=typeof t=="string"?Xu(t):t;l==="/"||(h=L.pathname)!=null&&h.startsWith(l)||sn(!1),f=L}else f=d;let m=f.pathname||"/",g=m;if(l!=="/"){let L=l.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(L.length).join("/")}let w=A6(e,{pathname:g}),_=oN(w&&w.map(L=>Object.assign({},L,{params:Object.assign({},o,L.params),pathname:qo([l,i.encodeLocation?i.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?l:qo([l,i.encodeLocation?i.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),s,r,n);return t&&_?_e.createElement(Ph.Provider,{value:{location:af({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Po.Pop}},_):_}function nN(){let e=fN(),t=G6(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _e.createElement(_e.Fragment,null,_e.createElement("h2",null,"Unexpected Application Error!"),_e.createElement("h3",{style:{fontStyle:"italic"}},t),r?_e.createElement("pre",{style:i},r):null,null)}const iN=_e.createElement(nN,null);class sN extends _e.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?_e.createElement(Ha.Provider,{value:this.props.routeContext},_e.createElement(bx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function aN(e){let{routeContext:t,match:r,children:n}=e,i=_e.useContext(Bm);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),_e.createElement(Ha.Provider,{value:t},n)}function oN(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=(i=r)==null?void 0:i.errors;if(o!=null){let f=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);f>=0||sn(!1),a=a.slice(0,Math.min(a.length,f+1))}let l=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<a.length;f++){let h=a[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=f),h.route.id){let{loaderData:m,errors:g}=r,w=h.route.loader&&m[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||w){l=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((f,h,m)=>{let g,w=!1,_=null,L=null;r&&(g=o&&h.route.id?o[h.route.id]:void 0,_=h.route.errorElement||iN,l&&(d<0&&m===0?(hN("route-fallback"),w=!0,L=null):d===m&&(w=!0,L=h.route.hydrateFallbackElement||null)));let x=t.concat(a.slice(0,m+1)),S=()=>{let F;return g?F=_:w?F=L:h.route.Component?F=_e.createElement(h.route.Component,null):h.route.element?F=h.route.element:F=f,_e.createElement(aN,{match:h,routeContext:{outlet:f,matches:x,isDataRoute:r!=null},children:F})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?_e.createElement(sN,{location:r.location,revalidation:r.revalidation,component:_,error:g,children:S(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):S()},null)}var Sx=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Sx||{}),jx=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(jx||{});function lN(e){let t=_e.useContext(Bm);return t||sn(!1),t}function uN(e){let t=_e.useContext(J6);return t||sn(!1),t}function cN(e){let t=_e.useContext(Ha);return t||sn(!1),t}function _x(e){let t=cN(),r=t.matches[t.matches.length-1];return r.route.id||sn(!1),r.route.id}function fN(){var e;let t=_e.useContext(bx),r=uN(),n=_x();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function dN(){let{router:e}=lN(Sx.UseNavigateStable),t=_x(jx.UseNavigateStable),r=_e.useRef(!1);return wx(()=>{r.current=!0}),_e.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,af({fromRouteId:t},s)))},[e,t])}const Qg={};function hN(e,t,r){Qg[e]||(Qg[e]=!0)}function pN(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function wu(e){let{to:t,replace:r,state:n,relative:i}=e;Zu()||sn(!1);let{future:s,static:a}=_e.useContext(Zo),{matches:o}=_e.useContext(Ha),{pathname:l}=Wa(),d=ec(),f=zm(t,Mm(o,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(f);return _e.useEffect(()=>d(JSON.parse(h),{replace:r,state:n,relative:i}),[d,h,i,r,n]),null}function mN(e){return eN(e.context)}function Ni(e){sn(!1)}function gN(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Po.Pop,navigator:s,static:a=!1,future:o}=e;Zu()&&sn(!1);let l=t.replace(/^\/*/,"/"),d=_e.useMemo(()=>({basename:l,navigator:s,static:a,future:af({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=Xu(n));let{pathname:f="/",search:h="",hash:m="",state:g=null,key:w="default"}=n,_=_e.useMemo(()=>{let L=Dm(f,l);return L==null?null:{location:{pathname:L,search:h,hash:m,state:g,key:w},navigationType:i}},[l,f,h,m,g,w,i]);return _==null?null:_e.createElement(Zo.Provider,{value:d},_e.createElement(Ph.Provider,{children:r,value:_}))}function vN(e){let{children:t,location:r}=e;return tN(m1(t),r)}new Promise(()=>{});function m1(e,t){t===void 0&&(t=[]);let r=[];return _e.Children.forEach(e,(n,i)=>{if(!_e.isValidElement(n))return;let s=[...t,i];if(n.type===_e.Fragment){r.push.apply(r,m1(n.props.children,s));return}n.type!==Ni&&sn(!1),!n.props.index||!n.props.children||sn(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=m1(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function g1(){return g1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g1.apply(this,arguments)}function yN(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function xN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function bN(e,t){return e.button===0&&(!t||t==="_self")&&!xN(e)}function v1(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function wN(e,t){let r=v1(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(s=>{r.append(i,s)})}),r}const NN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],SN="6";try{window.__reactRouterVersion=SN}catch{}const jN="startTransition",Jg=f3[jN];function _N(e){let{basename:t,children:r,future:n,window:i}=e,s=_e.useRef();s.current==null&&(s.current=S6({window:i,v5Compat:!0}));let a=s.current,[o,l]=_e.useState({action:a.action,location:a.location}),{v7_startTransition:d}=n||{},f=_e.useCallback(h=>{d&&Jg?Jg(()=>l(h)):l(h)},[l,d]);return _e.useLayoutEffect(()=>a.listen(f),[a,f]),_e.useEffect(()=>pN(n),[n]),_e.createElement(gN,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const AN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dl=_e.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:d,preventScrollReset:f,viewTransition:h}=t,m=yN(t,NN),{basename:g}=_e.useContext(Zo),w,_=!1;if(typeof d=="string"&&kN.test(d)&&(w=d,AN))try{let F=new URL(window.location.href),T=d.startsWith("//")?new URL(F.protocol+d):new URL(d),V=Dm(T.pathname,g);T.origin===F.origin&&V!=null?d=V+T.search+T.hash:_=!0}catch{}let L=Y6(d,{relative:i}),x=LN(d,{replace:a,state:o,target:l,preventScrollReset:f,relative:i,viewTransition:h});function S(F){n&&n(F),F.defaultPrevented||x(F)}return _e.createElement("a",g1({},m,{href:w||L,onClick:_||s?n:S,ref:r,target:l}))});var Yg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Yg||(Yg={}));var Xg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Xg||(Xg={}));function LN(e,t){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=t===void 0?{}:t,l=ec(),d=Wa(),f=Nx(e,{relative:a});return _e.useCallback(h=>{if(bN(h,r)){h.preventDefault();let m=n!==void 0?n:nh(d)===nh(f);l(e,{replace:m,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[d,l,f,n,i,r,e,s,a,o])}function EN(e){let t=_e.useRef(v1(e)),r=_e.useRef(!1),n=Wa(),i=_e.useMemo(()=>wN(n.search,r.current?null:t.current),[n.search]),s=ec(),a=_e.useCallback((o,l)=>{const d=v1(typeof o=="function"?o(i):o);r.current=!0,s("?"+d,l)},[s,i]);return[i,a]}const CN={},Zg=e=>{let t;const r=new Set,n=(f,h)=>{const m=typeof f=="function"?f(t):f;if(!Object.is(m,t)){const g=t;t=h??(typeof m!="object"||m===null)?m:Object.assign({},t,m),r.forEach(w=>w(t,g))}},i=()=>t,l={setState:n,getState:i,getInitialState:()=>d,subscribe:f=>(r.add(f),()=>r.delete(f)),destroy:()=>{(CN?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},d=t=e(n,i,l);return l},PN=e=>e?Zg(e):Zg;var Ax={exports:{}},kx={},Lx={exports:{}},Ex={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $u=_e;function FN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var IN=typeof Object.is=="function"?Object.is:FN,ON=$u.useState,RN=$u.useEffect,TN=$u.useLayoutEffect,DN=$u.useDebugValue;function MN(e,t){var r=t(),n=ON({inst:{value:r,getSnapshot:t}}),i=n[0].inst,s=n[1];return TN(function(){i.value=r,i.getSnapshot=t,Hp(i)&&s({inst:i})},[e,r,t]),RN(function(){return Hp(i)&&s({inst:i}),e(function(){Hp(i)&&s({inst:i})})},[e]),DN(r),r}function Hp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!IN(e,r)}catch{return!0}}function zN(e,t){return t()}var BN=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?zN:MN;Ex.useSyncExternalStore=$u.useSyncExternalStore!==void 0?$u.useSyncExternalStore:BN;Lx.exports=Ex;var UN=Lx.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fh=_e,qN=UN;function VN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $N=typeof Object.is=="function"?Object.is:VN,HN=qN.useSyncExternalStore,WN=Fh.useRef,KN=Fh.useEffect,GN=Fh.useMemo,QN=Fh.useDebugValue;kx.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var s=WN(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=GN(function(){function l(g){if(!d){if(d=!0,f=g,g=n(g),i!==void 0&&a.hasValue){var w=a.value;if(i(w,g))return h=w}return h=g}if(w=h,$N(f,g))return w;var _=n(g);return i!==void 0&&i(w,_)?(f=g,w):(f=g,h=_)}var d=!1,f,h,m=r===void 0?null:r;return[function(){return l(t())},m===null?void 0:function(){return l(m())}]},[t,r,n,i]);var o=HN(e,s[0],s[1]);return KN(function(){a.hasValue=!0,a.value=o},[o]),QN(o),o};Ax.exports=kx;var JN=Ax.exports;const YN=hf(JN),Cx={},{useDebugValue:XN}=Zt,{useSyncExternalStoreWithSelector:ZN}=YN;let e5=!1;const eS=e=>e;function tS(e,t=eS,r){(Cx?"production":void 0)!=="production"&&r&&!e5&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),e5=!0);const n=ZN(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return XN(n),n}const rS=e=>{(Cx?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?PN(e):e,r=(n,i)=>tS(t,n,i);return Object.assign(r,t),r},nS=e=>rS,iS={};function sS(e,t){let r;try{r=e()}catch{return}return{getItem:i=>{var s;const a=l=>l===null?null:JSON.parse(l,void 0),o=(s=r.getItem(i))!=null?s:null;return o instanceof Promise?o.then(a):a(o)},setItem:(i,s)=>r.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>r.removeItem(i)}}const of=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return of(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return of(n)(r)}}}},aS=(e,t)=>(r,n,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:L=>L,version:0,merge:(L,x)=>({...x,...L}),...t},a=!1;const o=new Set,l=new Set;let d;try{d=s.getStorage()}catch{}if(!d)return e((...L)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...L)},n,i);const f=of(s.serialize),h=()=>{const L=s.partialize({...n()});let x;const S=f({state:L,version:s.version}).then(F=>d.setItem(s.name,F)).catch(F=>{x=F});if(x)throw x;return S},m=i.setState;i.setState=(L,x)=>{m(L,x),h()};const g=e((...L)=>{r(...L),h()},n,i);let w;const _=()=>{var L;if(!d)return;a=!1,o.forEach(S=>S(n()));const x=((L=s.onRehydrateStorage)==null?void 0:L.call(s,n()))||void 0;return of(d.getItem.bind(d))(s.name).then(S=>{if(S)return s.deserialize(S)}).then(S=>{if(S)if(typeof S.version=="number"&&S.version!==s.version){if(s.migrate)return s.migrate(S.state,S.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return S.state}).then(S=>{var F;return w=s.merge(S,(F=n())!=null?F:g),r(w,!0),h()}).then(()=>{x==null||x(w,void 0),a=!0,l.forEach(S=>S(w))}).catch(S=>{x==null||x(void 0,S)})};return i.persist={setOptions:L=>{s={...s,...L},L.getStorage&&(d=L.getStorage())},clearStorage:()=>{d==null||d.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>_(),hasHydrated:()=>a,onHydrate:L=>(o.add(L),()=>{o.delete(L)}),onFinishHydration:L=>(l.add(L),()=>{l.delete(L)})},_(),w||g},oS=(e,t)=>(r,n,i)=>{let s={storage:sS(()=>localStorage),partialize:_=>_,version:0,merge:(_,L)=>({...L,..._}),...t},a=!1;const o=new Set,l=new Set;let d=s.storage;if(!d)return e((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(..._)},n,i);const f=()=>{const _=s.partialize({...n()});return d.setItem(s.name,{state:_,version:s.version})},h=i.setState;i.setState=(_,L)=>{h(_,L),f()};const m=e((..._)=>{r(..._),f()},n,i);i.getInitialState=()=>m;let g;const w=()=>{var _,L;if(!d)return;a=!1,o.forEach(S=>{var F;return S((F=n())!=null?F:m)});const x=((L=s.onRehydrateStorage)==null?void 0:L.call(s,(_=n())!=null?_:m))||void 0;return of(d.getItem.bind(d))(s.name).then(S=>{if(S)if(typeof S.version=="number"&&S.version!==s.version){if(s.migrate)return[!0,s.migrate(S.state,S.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,S.state];return[!1,void 0]}).then(S=>{var F;const[T,V]=S;if(g=s.merge(V,(F=n())!=null?F:m),r(g,!0),T)return f()}).then(()=>{x==null||x(g,void 0),g=n(),a=!0,l.forEach(S=>S(g))}).catch(S=>{x==null||x(void 0,S)})};return i.persist={setOptions:_=>{s={...s,..._},_.storage&&(d=_.storage)},clearStorage:()=>{d==null||d.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>w(),hasHydrated:()=>a,onHydrate:_=>(o.add(_),()=>{o.delete(_)}),onFinishHydration:_=>(l.add(_),()=>{l.delete(_)})},s.skipHydration||w(),g||m},lS=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((iS?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),aS(e,t)):oS(e,t),uS=lS;function Px(e,t){return function(){return e.apply(t,arguments)}}const{toString:cS}=Object.prototype,{getPrototypeOf:Um}=Object,{iterator:Ih,toStringTag:Fx}=Symbol,Oh=(e=>t=>{const r=cS.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Hs=e=>(e=e.toLowerCase(),t=>Oh(t)===e),Rh=e=>t=>typeof t===e,{isArray:tc}=Array,Hu=Rh("undefined");function xf(e){return e!==null&&!Hu(e)&&e.constructor!==null&&!Hu(e.constructor)&&Fi(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ix=Hs("ArrayBuffer");function fS(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Ix(e.buffer),t}const dS=Rh("string"),Fi=Rh("function"),Ox=Rh("number"),bf=e=>e!==null&&typeof e=="object",hS=e=>e===!0||e===!1,jd=e=>{if(Oh(e)!=="object")return!1;const t=Um(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Fx in e)&&!(Ih in e)},pS=e=>{if(!bf(e)||xf(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},mS=Hs("Date"),gS=Hs("File"),vS=Hs("Blob"),yS=Hs("FileList"),xS=e=>bf(e)&&Fi(e.pipe),bS=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Fi(e.append)&&((t=Oh(e))==="formdata"||t==="object"&&Fi(e.toString)&&e.toString()==="[object FormData]"))},wS=Hs("URLSearchParams"),[NS,SS,jS,_S]=["ReadableStream","Request","Response","Headers"].map(Hs),AS=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wf(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),tc(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{if(xf(e))return;const s=r?Object.getOwnPropertyNames(e):Object.keys(e),a=s.length;let o;for(n=0;n<a;n++)o=s[n],t.call(null,e[o],o,e)}}function Rx(e,t){if(xf(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const Nl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Tx=e=>!Hu(e)&&e!==Nl;function y1(){const{caseless:e,skipUndefined:t}=Tx(this)&&this||{},r={},n=(i,s)=>{const a=e&&Rx(r,s)||s;jd(r[a])&&jd(i)?r[a]=y1(r[a],i):jd(i)?r[a]=y1({},i):tc(i)?r[a]=i.slice():(!t||!Hu(i))&&(r[a]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&wf(arguments[i],n);return r}const kS=(e,t,r,{allOwnKeys:n}={})=>(wf(t,(i,s)=>{r&&Fi(i)?e[s]=Px(i,r):e[s]=i},{allOwnKeys:n}),e),LS=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ES=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},CS=(e,t,r,n)=>{let i,s,a;const o={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)a=i[s],(!n||n(a,e,t))&&!o[a]&&(t[a]=e[a],o[a]=!0);e=r!==!1&&Um(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},PS=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},FS=e=>{if(!e)return null;if(tc(e))return e;let t=e.length;if(!Ox(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},IS=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Um(Uint8Array)),OS=(e,t)=>{const n=(e&&e[Ih]).call(e);let i;for(;(i=n.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},RS=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},TS=Hs("HTMLFormElement"),DS=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),t5=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),MS=Hs("RegExp"),Dx=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};wf(r,(i,s)=>{let a;(a=t(i,s,e))!==!1&&(n[s]=a||i)}),Object.defineProperties(e,n)},zS=e=>{Dx(e,(t,r)=>{if(Fi(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Fi(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},BS=(e,t)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return tc(e)?n(e):n(String(e).split(t)),r},US=()=>{},qS=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function VS(e){return!!(e&&Fi(e.append)&&e[Fx]==="FormData"&&e[Ih])}const $S=e=>{const t=new Array(10),r=(n,i)=>{if(bf(n)){if(t.indexOf(n)>=0)return;if(xf(n))return n;if(!("toJSON"in n)){t[i]=n;const s=tc(n)?[]:{};return wf(n,(a,o)=>{const l=r(a,i+1);!Hu(l)&&(s[o]=l)}),t[i]=void 0,s}}return n};return r(e,0)},HS=Hs("AsyncFunction"),WS=e=>e&&(bf(e)||Fi(e))&&Fi(e.then)&&Fi(e.catch),Mx=((e,t)=>e?setImmediate:t?((r,n)=>(Nl.addEventListener("message",({source:i,data:s})=>{i===Nl&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Nl.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Fi(Nl.postMessage)),KS=typeof queueMicrotask<"u"?queueMicrotask.bind(Nl):typeof process<"u"&&process.nextTick||Mx,GS=e=>e!=null&&Fi(e[Ih]),He={isArray:tc,isArrayBuffer:Ix,isBuffer:xf,isFormData:bS,isArrayBufferView:fS,isString:dS,isNumber:Ox,isBoolean:hS,isObject:bf,isPlainObject:jd,isEmptyObject:pS,isReadableStream:NS,isRequest:SS,isResponse:jS,isHeaders:_S,isUndefined:Hu,isDate:mS,isFile:gS,isBlob:vS,isRegExp:MS,isFunction:Fi,isStream:xS,isURLSearchParams:wS,isTypedArray:IS,isFileList:yS,forEach:wf,merge:y1,extend:kS,trim:AS,stripBOM:LS,inherits:ES,toFlatObject:CS,kindOf:Oh,kindOfTest:Hs,endsWith:PS,toArray:FS,forEachEntry:OS,matchAll:RS,isHTMLForm:TS,hasOwnProperty:t5,hasOwnProp:t5,reduceDescriptors:Dx,freezeMethods:zS,toObjectSet:BS,toCamelCase:DS,noop:US,toFiniteNumber:qS,findKey:Rx,global:Nl,isContextDefined:Tx,isSpecCompliantForm:VS,toJSONObject:$S,isAsyncFn:HS,isThenable:WS,setImmediate:Mx,asap:KS,isIterable:GS};function Jt(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}He.inherits(Jt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:He.toJSONObject(this.config),code:this.code,status:this.status}}});const zx=Jt.prototype,Bx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Bx[e]={value:e}});Object.defineProperties(Jt,Bx);Object.defineProperty(zx,"isAxiosError",{value:!0});Jt.from=(e,t,r,n,i,s)=>{const a=Object.create(zx);He.toFlatObject(e,a,function(f){return f!==Error.prototype},d=>d!=="isAxiosError");const o=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return Jt.call(a,o,l,r,n,i),e&&a.cause==null&&Object.defineProperty(a,"cause",{value:e,configurable:!0}),a.name=e&&e.name||"Error",s&&Object.assign(a,s),a};const QS=null;function x1(e){return He.isPlainObject(e)||He.isArray(e)}function Ux(e){return He.endsWith(e,"[]")?e.slice(0,-2):e}function r5(e,t,r){return e?e.concat(t).map(function(i,s){return i=Ux(i),!r&&s?"["+i+"]":i}).join(r?".":""):t}function JS(e){return He.isArray(e)&&!e.some(x1)}const YS=He.toFlatObject(He,{},null,function(t){return/^is[A-Z]/.test(t)});function Th(e,t,r){if(!He.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=He.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,L){return!He.isUndefined(L[_])});const n=r.metaTokens,i=r.visitor||f,s=r.dots,a=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&He.isSpecCompliantForm(t);if(!He.isFunction(i))throw new TypeError("visitor must be a function");function d(w){if(w===null)return"";if(He.isDate(w))return w.toISOString();if(He.isBoolean(w))return w.toString();if(!l&&He.isBlob(w))throw new Jt("Blob is not supported. Use a Buffer instead.");return He.isArrayBuffer(w)||He.isTypedArray(w)?l&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function f(w,_,L){let x=w;if(w&&!L&&typeof w=="object"){if(He.endsWith(_,"{}"))_=n?_:_.slice(0,-2),w=JSON.stringify(w);else if(He.isArray(w)&&JS(w)||(He.isFileList(w)||He.endsWith(_,"[]"))&&(x=He.toArray(w)))return _=Ux(_),x.forEach(function(F,T){!(He.isUndefined(F)||F===null)&&t.append(a===!0?r5([_],T,s):a===null?_:_+"[]",d(F))}),!1}return x1(w)?!0:(t.append(r5(L,_,s),d(w)),!1)}const h=[],m=Object.assign(YS,{defaultVisitor:f,convertValue:d,isVisitable:x1});function g(w,_){if(!He.isUndefined(w)){if(h.indexOf(w)!==-1)throw Error("Circular reference detected in "+_.join("."));h.push(w),He.forEach(w,function(x,S){(!(He.isUndefined(x)||x===null)&&i.call(t,x,He.isString(S)?S.trim():S,_,m))===!0&&g(x,_?_.concat(S):[S])}),h.pop()}}if(!He.isObject(e))throw new TypeError("data must be an object");return g(e),t}function n5(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function qm(e,t){this._pairs=[],e&&Th(e,this,t)}const qx=qm.prototype;qx.append=function(t,r){this._pairs.push([t,r])};qx.toString=function(t){const r=t?function(n){return t.call(this,n,n5)}:n5;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function XS(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Vx(e,t,r){if(!t)return e;const n=r&&r.encode||XS;He.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(t,r):s=He.isURLSearchParams(t)?t.toString():new qm(t,r).toString(n),s){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class i5{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){He.forEach(this.handlers,function(n){n!==null&&t(n)})}}const $x={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ZS=typeof URLSearchParams<"u"?URLSearchParams:qm,e8=typeof FormData<"u"?FormData:null,t8=typeof Blob<"u"?Blob:null,r8={isBrowser:!0,classes:{URLSearchParams:ZS,FormData:e8,Blob:t8},protocols:["http","https","file","blob","url","data"]},Vm=typeof window<"u"&&typeof document<"u",b1=typeof navigator=="object"&&navigator||void 0,n8=Vm&&(!b1||["ReactNative","NativeScript","NS"].indexOf(b1.product)<0),i8=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",s8=Vm&&window.location.href||"http://localhost",a8=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Vm,hasStandardBrowserEnv:n8,hasStandardBrowserWebWorkerEnv:i8,navigator:b1,origin:s8},Symbol.toStringTag,{value:"Module"})),ri={...a8,...r8};function o8(e,t){return Th(e,new ri.classes.URLSearchParams,{visitor:function(r,n,i,s){return ri.isNode&&He.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function l8(e){return He.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function u8(e){const t={},r=Object.keys(e);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],t[s]=e[s];return t}function Hx(e){function t(r,n,i,s){let a=r[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=r.length;return a=!a&&He.isArray(i)?i.length:a,l?(He.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o):((!i[a]||!He.isObject(i[a]))&&(i[a]=[]),t(r,n,i[a],s)&&He.isArray(i[a])&&(i[a]=u8(i[a])),!o)}if(He.isFormData(e)&&He.isFunction(e.entries)){const r={};return He.forEachEntry(e,(n,i)=>{t(l8(n),i,r,0)}),r}return null}function c8(e,t,r){if(He.isString(e))try{return(t||JSON.parse)(e),He.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Nf={transitional:$x,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=He.isObject(t);if(s&&He.isHTMLForm(t)&&(t=new FormData(t)),He.isFormData(t))return i?JSON.stringify(Hx(t)):t;if(He.isArrayBuffer(t)||He.isBuffer(t)||He.isStream(t)||He.isFile(t)||He.isBlob(t)||He.isReadableStream(t))return t;if(He.isArrayBufferView(t))return t.buffer;if(He.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return o8(t,this.formSerializer).toString();if((o=He.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Th(o?{"files[]":t}:t,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),c8(t)):t}],transformResponse:[function(t){const r=this.transitional||Nf.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(He.isResponse(t)||He.isReadableStream(t))return t;if(t&&He.isString(t)&&(n&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(o){if(a)throw o.name==="SyntaxError"?Jt.from(o,Jt.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ri.classes.FormData,Blob:ri.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};He.forEach(["delete","get","head","post","put","patch"],e=>{Nf.headers[e]={}});const f8=He.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),d8=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||t[r]&&f8[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},s5=Symbol("internals");function bc(e){return e&&String(e).trim().toLowerCase()}function _d(e){return e===!1||e==null?e:He.isArray(e)?e.map(_d):String(e)}function h8(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const p8=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Wp(e,t,r,n,i){if(He.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!He.isString(t)){if(He.isString(n))return t.indexOf(n)!==-1;if(He.isRegExp(n))return n.test(t)}}function m8(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function g8(e,t){const r=He.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,s,a){return this[n].call(this,t,i,s,a)},configurable:!0})})}let Ii=class{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function s(o,l,d){const f=bc(l);if(!f)throw new Error("header name must be a non-empty string");const h=He.findKey(i,f);(!h||i[h]===void 0||d===!0||d===void 0&&i[h]!==!1)&&(i[h||l]=_d(o))}const a=(o,l)=>He.forEach(o,(d,f)=>s(d,f,l));if(He.isPlainObject(t)||t instanceof this.constructor)a(t,r);else if(He.isString(t)&&(t=t.trim())&&!p8(t))a(d8(t),r);else if(He.isObject(t)&&He.isIterable(t)){let o={},l,d;for(const f of t){if(!He.isArray(f))throw TypeError("Object iterator must return a key-value pair");o[d=f[0]]=(l=o[d])?He.isArray(l)?[...l,f[1]]:[l,f[1]]:f[1]}a(o,r)}else t!=null&&s(r,t,n);return this}get(t,r){if(t=bc(t),t){const n=He.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return h8(i);if(He.isFunction(r))return r.call(this,i,n);if(He.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=bc(t),t){const n=He.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Wp(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function s(a){if(a=bc(a),a){const o=He.findKey(n,a);o&&(!r||Wp(n,n[o],o,r))&&(delete n[o],i=!0)}}return He.isArray(t)?t.forEach(s):s(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!t||Wp(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const r=this,n={};return He.forEach(this,(i,s)=>{const a=He.findKey(n,s);if(a){r[a]=_d(i),delete r[s];return}const o=t?m8(s):String(s).trim();o!==s&&delete r[s],r[o]=_d(i),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return He.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&He.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[s5]=this[s5]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=bc(a);n[o]||(g8(i,a),n[o]=!0)}return He.isArray(t)?t.forEach(s):s(t),this}};Ii.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);He.reduceDescriptors(Ii.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});He.freezeMethods(Ii);function Kp(e,t){const r=this||Nf,n=t||r,i=Ii.from(n.headers);let s=n.data;return He.forEach(e,function(o){s=o.call(r,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function Wx(e){return!!(e&&e.__CANCEL__)}function rc(e,t,r){Jt.call(this,e??"canceled",Jt.ERR_CANCELED,t,r),this.name="CanceledError"}He.inherits(rc,Jt,{__CANCEL__:!0});function Kx(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Jt("Request failed with status code "+r.status,[Jt.ERR_BAD_REQUEST,Jt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function v8(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function y8(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,s=0,a;return t=t!==void 0?t:1e3,function(l){const d=Date.now(),f=n[s];a||(a=d),r[i]=l,n[i]=d;let h=s,m=0;for(;h!==i;)m+=r[h++],h=h%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),d-a<t)return;const g=f&&d-f;return g?Math.round(m*1e3/g):void 0}}function x8(e,t){let r=0,n=1e3/t,i,s;const a=(d,f=Date.now())=>{r=f,i=null,s&&(clearTimeout(s),s=null),e(...d)};return[(...d)=>{const f=Date.now(),h=f-r;h>=n?a(d,f):(i=d,s||(s=setTimeout(()=>{s=null,a(i)},n-h)))},()=>i&&a(i)]}const ih=(e,t,r=3)=>{let n=0;const i=y8(50,250);return x8(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-n,d=i(l),f=a<=o;n=a;const h={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:d||void 0,estimated:d&&o&&f?(o-a)/d:void 0,event:s,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(h)},r)},a5=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},o5=e=>(...t)=>He.asap(()=>e(...t)),b8=ri.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,ri.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(ri.origin),ri.navigator&&/(msie|trident)/i.test(ri.navigator.userAgent)):()=>!0,w8=ri.hasStandardBrowserEnv?{write(e,t,r,n,i,s,a){if(typeof document>"u")return;const o=[`${e}=${encodeURIComponent(t)}`];He.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),He.isString(n)&&o.push(`path=${n}`),He.isString(i)&&o.push(`domain=${i}`),s===!0&&o.push("secure"),He.isString(a)&&o.push(`SameSite=${a}`),document.cookie=o.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function N8(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function S8(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Gx(e,t,r){let n=!N8(t);return e&&(n||r==!1)?S8(e,t):t}const l5=e=>e instanceof Ii?{...e}:e;function Ml(e,t){t=t||{};const r={};function n(d,f,h,m){return He.isPlainObject(d)&&He.isPlainObject(f)?He.merge.call({caseless:m},d,f):He.isPlainObject(f)?He.merge({},f):He.isArray(f)?f.slice():f}function i(d,f,h,m){if(He.isUndefined(f)){if(!He.isUndefined(d))return n(void 0,d,h,m)}else return n(d,f,h,m)}function s(d,f){if(!He.isUndefined(f))return n(void 0,f)}function a(d,f){if(He.isUndefined(f)){if(!He.isUndefined(d))return n(void 0,d)}else return n(void 0,f)}function o(d,f,h){if(h in t)return n(d,f);if(h in e)return n(void 0,d)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(d,f,h)=>i(l5(d),l5(f),h,!0)};return He.forEach(Object.keys({...e,...t}),function(f){const h=l[f]||i,m=h(e[f],t[f],f);He.isUndefined(m)&&h!==o||(r[f]=m)}),r}const Qx=e=>{const t=Ml({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=t;if(t.headers=a=Ii.from(a),t.url=Vx(Gx(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),He.isFormData(r)){if(ri.hasStandardBrowserEnv||ri.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(He.isFunction(r.getHeaders)){const l=r.getHeaders(),d=["content-type","content-length"];Object.entries(l).forEach(([f,h])=>{d.includes(f.toLowerCase())&&a.set(f,h)})}}if(ri.hasStandardBrowserEnv&&(n&&He.isFunction(n)&&(n=n(t)),n||n!==!1&&b8(t.url))){const l=i&&s&&w8.read(s);l&&a.set(i,l)}return t},j8=typeof XMLHttpRequest<"u",_8=j8&&function(e){return new Promise(function(r,n){const i=Qx(e);let s=i.data;const a=Ii.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:d}=i,f,h,m,g,w;function _(){g&&g(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let L=new XMLHttpRequest;L.open(i.method.toUpperCase(),i.url,!0),L.timeout=i.timeout;function x(){if(!L)return;const F=Ii.from("getAllResponseHeaders"in L&&L.getAllResponseHeaders()),V={data:!o||o==="text"||o==="json"?L.responseText:L.response,status:L.status,statusText:L.statusText,headers:F,config:e,request:L};Kx(function($){r($),_()},function($){n($),_()},V),L=null}"onloadend"in L?L.onloadend=x:L.onreadystatechange=function(){!L||L.readyState!==4||L.status===0&&!(L.responseURL&&L.responseURL.indexOf("file:")===0)||setTimeout(x)},L.onabort=function(){L&&(n(new Jt("Request aborted",Jt.ECONNABORTED,e,L)),L=null)},L.onerror=function(T){const V=T&&T.message?T.message:"Network Error",U=new Jt(V,Jt.ERR_NETWORK,e,L);U.event=T||null,n(U),L=null},L.ontimeout=function(){let T=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const V=i.transitional||$x;i.timeoutErrorMessage&&(T=i.timeoutErrorMessage),n(new Jt(T,V.clarifyTimeoutError?Jt.ETIMEDOUT:Jt.ECONNABORTED,e,L)),L=null},s===void 0&&a.setContentType(null),"setRequestHeader"in L&&He.forEach(a.toJSON(),function(T,V){L.setRequestHeader(V,T)}),He.isUndefined(i.withCredentials)||(L.withCredentials=!!i.withCredentials),o&&o!=="json"&&(L.responseType=i.responseType),d&&([m,w]=ih(d,!0),L.addEventListener("progress",m)),l&&L.upload&&([h,g]=ih(l),L.upload.addEventListener("progress",h),L.upload.addEventListener("loadend",g)),(i.cancelToken||i.signal)&&(f=F=>{L&&(n(!F||F.type?new rc(null,e,L):F),L.abort(),L=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const S=v8(i.url);if(S&&ri.protocols.indexOf(S)===-1){n(new Jt("Unsupported protocol "+S+":",Jt.ERR_BAD_REQUEST,e));return}L.send(s||null)})},A8=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i;const s=function(d){if(!i){i=!0,o();const f=d instanceof Error?d:this.reason;n.abort(f instanceof Jt?f:new rc(f instanceof Error?f.message:f))}};let a=t&&setTimeout(()=>{a=null,s(new Jt(`timeout ${t} of ms exceeded`,Jt.ETIMEDOUT))},t);const o=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(s):d.removeEventListener("abort",s)}),e=null)};e.forEach(d=>d.addEventListener("abort",s));const{signal:l}=n;return l.unsubscribe=()=>He.asap(o),l}},k8=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},L8=async function*(e,t){for await(const r of E8(e))yield*k8(r,t)},E8=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},u5=(e,t,r,n)=>{const i=L8(e,t);let s=0,a,o=l=>{a||(a=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:d,value:f}=await i.next();if(d){o(),l.close();return}let h=f.byteLength;if(r){let m=s+=h;r(m)}l.enqueue(new Uint8Array(f))}catch(d){throw o(d),d}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},c5=64*1024,{isFunction:sd}=He,C8=(({Request:e,Response:t})=>({Request:e,Response:t}))(He.global),{ReadableStream:f5,TextEncoder:d5}=He.global,h5=(e,...t)=>{try{return!!e(...t)}catch{return!1}},P8=e=>{e=He.merge.call({skipUndefined:!0},C8,e);const{fetch:t,Request:r,Response:n}=e,i=t?sd(t):typeof fetch=="function",s=sd(r),a=sd(n);if(!i)return!1;const o=i&&sd(f5),l=i&&(typeof d5=="function"?(w=>_=>w.encode(_))(new d5):async w=>new Uint8Array(await new r(w).arrayBuffer())),d=s&&o&&h5(()=>{let w=!1;const _=new r(ri.origin,{body:new f5,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!_}),f=a&&o&&h5(()=>He.isReadableStream(new n("").body)),h={stream:f&&(w=>w.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!h[w]&&(h[w]=(_,L)=>{let x=_&&_[w];if(x)return x.call(_);throw new Jt(`Response type '${w}' is not supported`,Jt.ERR_NOT_SUPPORT,L)})});const m=async w=>{if(w==null)return 0;if(He.isBlob(w))return w.size;if(He.isSpecCompliantForm(w))return(await new r(ri.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(He.isArrayBufferView(w)||He.isArrayBuffer(w))return w.byteLength;if(He.isURLSearchParams(w)&&(w=w+""),He.isString(w))return(await l(w)).byteLength},g=async(w,_)=>{const L=He.toFiniteNumber(w.getContentLength());return L??m(_)};return async w=>{let{url:_,method:L,data:x,signal:S,cancelToken:F,timeout:T,onDownloadProgress:V,onUploadProgress:U,responseType:$,headers:N,withCredentials:k="same-origin",fetchOptions:M}=Qx(w),P=t||fetch;$=$?($+"").toLowerCase():"text";let E=A8([S,F&&F.toAbortSignal()],T),C=null;const D=E&&E.unsubscribe&&(()=>{E.unsubscribe()});let re;try{if(U&&d&&L!=="get"&&L!=="head"&&(re=await g(N,x))!==0){let be=new r(_,{method:"POST",body:x,duplex:"half"}),R;if(He.isFormData(x)&&(R=be.headers.get("content-type"))&&N.setContentType(R),be.body){const[K,Z]=a5(re,ih(o5(U)));x=u5(be.body,c5,K,Z)}}He.isString(k)||(k=k?"include":"omit");const q=s&&"credentials"in r.prototype,z={...M,signal:E,method:L.toUpperCase(),headers:N.normalize().toJSON(),body:x,duplex:"half",credentials:q?k:void 0};C=s&&new r(_,z);let Q=await(s?P(C,M):P(_,z));const J=f&&($==="stream"||$==="response");if(f&&(V||J&&D)){const be={};["status","statusText","headers"].forEach(ee=>{be[ee]=Q[ee]});const R=He.toFiniteNumber(Q.headers.get("content-length")),[K,Z]=V&&a5(R,ih(o5(V),!0))||[];Q=new n(u5(Q.body,c5,K,()=>{Z&&Z(),D&&D()}),be)}$=$||"text";let ae=await h[He.findKey(h,$)||"text"](Q,w);return!J&&D&&D(),await new Promise((be,R)=>{Kx(be,R,{data:ae,headers:Ii.from(Q.headers),status:Q.status,statusText:Q.statusText,config:w,request:C})})}catch(q){throw D&&D(),q&&q.name==="TypeError"&&/Load failed|fetch/i.test(q.message)?Object.assign(new Jt("Network Error",Jt.ERR_NETWORK,w,C),{cause:q.cause||q}):Jt.from(q,q&&q.code,w,C)}}},F8=new Map,Jx=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:i}=t,s=[n,i,r];let a=s.length,o=a,l,d,f=F8;for(;o--;)l=s[o],d=f.get(l),d===void 0&&f.set(l,d=o?new Map:P8(t)),f=d;return d};Jx();const $m={http:QS,xhr:_8,fetch:{get:Jx}};He.forEach($m,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const p5=e=>`- ${e}`,I8=e=>He.isFunction(e)||e===null||e===!1;function O8(e,t){e=He.isArray(e)?e:[e];const{length:r}=e;let n,i;const s={};for(let a=0;a<r;a++){n=e[a];let o;if(i=n,!I8(n)&&(i=$m[(o=String(n)).toLowerCase()],i===void 0))throw new Jt(`Unknown adapter '${o}'`);if(i&&(He.isFunction(i)||(i=i.get(t))))break;s[o||"#"+a]=i}if(!i){const a=Object.entries(s).map(([l,d])=>`adapter ${l} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=r?a.length>1?`since :
`+a.map(p5).join(`
`):" "+p5(a[0]):"as no adapter specified";throw new Jt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i}const Yx={getAdapter:O8,adapters:$m};function Gp(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new rc(null,e)}function m5(e){return Gp(e),e.headers=Ii.from(e.headers),e.data=Kp.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Yx.getAdapter(e.adapter||Nf.adapter,e)(e).then(function(n){return Gp(e),n.data=Kp.call(e,e.transformResponse,n),n.headers=Ii.from(n.headers),n},function(n){return Wx(n)||(Gp(e),n&&n.response&&(n.response.data=Kp.call(e,e.transformResponse,n.response),n.response.headers=Ii.from(n.response.headers))),Promise.reject(n)})}const Xx="1.13.2",Dh={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Dh[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const g5={};Dh.transitional=function(t,r,n){function i(s,a){return"[Axios v"+Xx+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,o)=>{if(t===!1)throw new Jt(i(a," has been removed"+(r?" in "+r:"")),Jt.ERR_DEPRECATED);return r&&!g5[a]&&(g5[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,a,o):!0}};Dh.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function R8(e,t,r){if(typeof e!="object")throw new Jt("options must be an object",Jt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const s=n[i],a=t[s];if(a){const o=e[s],l=o===void 0||a(o,s,e);if(l!==!0)throw new Jt("option "+s+" must be "+l,Jt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Jt("Unknown option "+s,Jt.ERR_BAD_OPTION)}}const Ad={assertOptions:R8,validators:Dh},na=Ad.validators;let kl=class{constructor(t){this.defaults=t||{},this.interceptors={request:new i5,response:new i5}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ml(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&Ad.assertOptions(n,{silentJSONParsing:na.transitional(na.boolean),forcedJSONParsing:na.transitional(na.boolean),clarifyTimeoutError:na.transitional(na.boolean)},!1),i!=null&&(He.isFunction(i)?r.paramsSerializer={serialize:i}:Ad.assertOptions(i,{encode:na.function,serialize:na.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Ad.assertOptions(r,{baseUrl:na.spelling("baseURL"),withXsrfToken:na.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=s&&He.merge(s.common,s[r.method]);s&&He.forEach(["delete","get","head","post","put","patch","common"],w=>{delete s[w]}),r.headers=Ii.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(r)===!1||(l=l&&_.synchronous,o.unshift(_.fulfilled,_.rejected))});const d=[];this.interceptors.response.forEach(function(_){d.push(_.fulfilled,_.rejected)});let f,h=0,m;if(!l){const w=[m5.bind(this),void 0];for(w.unshift(...o),w.push(...d),m=w.length,f=Promise.resolve(r);h<m;)f=f.then(w[h++],w[h++]);return f}m=o.length;let g=r;for(;h<m;){const w=o[h++],_=o[h++];try{g=w(g)}catch(L){_.call(this,L);break}}try{f=m5.call(this,g)}catch(w){return Promise.reject(w)}for(h=0,m=d.length;h<m;)f=f.then(d[h++],d[h++]);return f}getUri(t){t=Ml(this.defaults,t);const r=Gx(t.baseURL,t.url,t.allowAbsoluteUrls);return Vx(r,t.params,t.paramsSerializer)}};He.forEach(["delete","get","head","options"],function(t){kl.prototype[t]=function(r,n){return this.request(Ml(n||{},{method:t,url:r,data:(n||{}).data}))}});He.forEach(["post","put","patch"],function(t){function r(n){return function(s,a,o){return this.request(Ml(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}kl.prototype[t]=r(),kl.prototype[t+"Form"]=r(!0)});let T8=class Zx{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{n.subscribe(o),s=o}).then(i);return a.cancel=function(){n.unsubscribe(s)},a},t(function(s,a,o){n.reason||(n.reason=new rc(s,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Zx(function(i){t=i}),cancel:t}}};function D8(e){return function(r){return e.apply(null,r)}}function M8(e){return He.isObject(e)&&e.isAxiosError===!0}const w1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(w1).forEach(([e,t])=>{w1[t]=e});function eb(e){const t=new kl(e),r=Px(kl.prototype.request,t);return He.extend(r,kl.prototype,t,{allOwnKeys:!0}),He.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return eb(Ml(e,i))},r}const Wr=eb(Nf);Wr.Axios=kl;Wr.CanceledError=rc;Wr.CancelToken=T8;Wr.isCancel=Wx;Wr.VERSION=Xx;Wr.toFormData=Th;Wr.AxiosError=Jt;Wr.Cancel=Wr.CanceledError;Wr.all=function(t){return Promise.all(t)};Wr.spread=D8;Wr.isAxiosError=M8;Wr.mergeConfig=Ml;Wr.AxiosHeaders=Ii;Wr.formToJSON=e=>Hx(He.isHTMLForm(e)?new FormData(e):e);Wr.getAdapter=Yx.getAdapter;Wr.HttpStatusCode=w1;Wr.default=Wr;const{Axios:iA,AxiosError:sA,CanceledError:aA,isCancel:oA,CancelToken:lA,VERSION:uA,all:cA,Cancel:fA,isAxiosError:dA,spread:hA,toFormData:pA,AxiosHeaders:mA,HttpStatusCode:gA,formToJSON:vA,getAdapter:yA,mergeConfig:xA}=Wr,tb="http://localhost:5000/api",Rt=Wr.create({baseURL:tb,headers:{"Content-Type":"application/json"},withCredentials:!0});let Pu=null;const Hm=async()=>{try{const t=(await Wr.get(`${tb.replace("/api","")}/api/csrf-token`,{withCredentials:!0})).data.csrfToken;if(!t)throw new Error("Token CSRF non reu du serveur");return Pu=t,t}catch(e){throw console.error("Erreur lors de la rcupration du token CSRF:",e),e}};Rt.interceptors.request.use(async e=>{const t=localStorage.getItem("token");t&&(e.headers.Authorization=`Bearer ${t}`);const r=["POST","PUT","PATCH","DELETE"];if(e.method&&r.includes(e.method.toUpperCase())){if(!Pu)try{await Hm()}catch{console.error("Impossible de rcuprer le token CSRF")}Pu&&(e.headers["x-csrf-token"]=Pu)}return e},e=>Promise.reject(e));Rt.interceptors.response.use(e=>e,async e=>{var r,n,i,s;const t=e.config;if(((r=e.response)==null?void 0:r.status)===401&&!t._retryAuth){t._retryAuth=!0;const a=localStorage.getItem("refreshToken");if(a&&t.url!=="/auth/refresh")try{const o=await Rt.post("/auth/refresh",{refreshToken:a}),{token:l,refreshToken:d}=o.data.data;return localStorage.setItem("token",l),localStorage.setItem("refreshToken",d),t.headers.Authorization=`Bearer ${l}`,Rt(t)}catch(o){return o.response?(console.error("Session expire ou invalide",o),localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),Promise.reject(o)):(console.warn("Echec refresh token (Rseau), conservation session"),Promise.reject(o))}else localStorage.removeItem("token"),localStorage.removeItem("refreshToken")}if(((n=e.response)==null?void 0:n.status)===403&&((s=(i=e.response)==null?void 0:i.data)==null?void 0:s.error)==="CSRF_VALIDATION_FAILED"&&!t._retryCsrf){t._retryCsrf=!0;try{return await Hm(),Pu&&(t.headers["x-csrf-token"]=Pu),Rt(t)}catch(a){return console.error("Impossible de renouveler le token CSRF"),Promise.reject(a)}}return Promise.reject(e)});const hs=nS()(uS((e,t)=>({user:null,token:null,refreshToken:null,isAuthenticated:!1,isSetupComplete:!1,isLoading:!1,error:null,login:async(r,n)=>{var i,s;e({isLoading:!0,error:null});try{const a=await Rt.post("/auth/login",{email:r,password:n}),{user:o,token:l,refreshToken:d}=a.data.data;return localStorage.setItem("token",l),localStorage.setItem("refreshToken",d),e({user:o,token:l,refreshToken:d,isAuthenticated:!0,isLoading:!1,error:null}),await t().checkSetup(),!0}catch(a){const o=((s=(i=a.response)==null?void 0:i.data)==null?void 0:s.message)||"Erreur de connexion";return e({isLoading:!1,error:o}),!1}},logout:async()=>{const{refreshToken:r}=t();if(r)try{await Rt.post("/auth/logout",{refreshToken:r})}catch(n){console.error("Erreur lors de la rvocation du token:",n)}localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),e({user:null,token:null,refreshToken:null,isAuthenticated:!1,error:null}),window.location.href="/login"},refreshAccessToken:async()=>{const{refreshToken:r}=t();if(!r)return!1;try{const n=await Rt.post("/auth/refresh",{refreshToken:r}),{token:i,refreshToken:s}=n.data.data;return localStorage.setItem("token",i),localStorage.setItem("refreshToken",s),e({token:i,refreshToken:s}),!0}catch(n){return console.error("Erreur lors du rafrachissement du token:",n),t().logout(),!1}},checkAuth:async()=>{var i;const r=localStorage.getItem("token"),n=localStorage.getItem("refreshToken");if(!r){e({isAuthenticated:!1,user:null,isSetupComplete:!1});return}try{const a=(await Rt.get("/auth/me")).data.data;e({user:a,token:r,refreshToken:n,isAuthenticated:!0}),await t().checkSetup()}catch(s){if(((i=s.response)==null?void 0:i.status)===401&&n&&await t().refreshAccessToken()){await t().checkAuth();return}if(!s.response&&t().user){console.warn("Erreur rseau lors du checkAuth, mode hors-ligne activ"),e({isAuthenticated:!0,isLoading:!1});return}console.error("Echec authentification, dconnexion",s),localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),e({user:null,token:null,refreshToken:null,isAuthenticated:!1,isSetupComplete:!1,error:null})}},checkSetup:async()=>{try{const r=await Rt.get("/setup/status");e({isSetupComplete:r.data.data.isSetupComplete})}catch(r){console.error("Erreur checkSetup:",r)}},initialCheck:async()=>{try{const r=await Rt.get("/setup/status");e({isSetupComplete:r.data.data.isSetupComplete})}catch(r){console.error("Erreur initialCheck:",r),e({isSetupComplete:!0})}},clearError:()=>e({error:null})}),{name:"auth-storage",partialize:e=>({token:e.token,refreshToken:e.refreshToken,user:e.user})})),wc=({children:e,allowedRoles:t})=>{const{isAuthenticated:r,user:n}=hs(),i=Wa();return r?t&&n&&!t.includes(n.role)?u.jsx(wu,{to:"/unauthorized",replace:!0}):u.jsx(u.Fragment,{children:e}):u.jsx(wu,{to:"/login",state:{from:i},replace:!0})},ji={getStatus:async()=>(await Rt.get("/setup/status")).data,updateCompany:async e=>(await Rt.put("/setup/company",e)).data,uploadLogos:async(e,t)=>{const r=new FormData;return e&&r.append("companyLogo",e),t&&r.append("loginLogo",t),(await Rt.post("/setup/logos",r,{headers:{"Content-Type":"multipart/form-data"}})).data},importData:async e=>(await Rt.post("/setup/import",e)).data,finalize:async()=>(await Rt.post("/setup/finalize")).data,createAdmin:async e=>(await Rt.post("/setup/admin",e)).data},Wm=()=>{const[e,t]=_e.useState(null),[r,n]=_e.useState(!0),[i,s]=_e.useState(null);_e.useEffect(()=>{(async()=>{try{const l=await ji.getStatus();t(l.data.company),s(null)}catch(l){console.error("Erreur chargement company:",l),s("Impossible de charger les informations de l'entreprise")}finally{n(!1)}})()},[]);const a=o=>o?`http://localhost:5000${o}`:null;return{company:e,loading:r,error:i,companyLogoUrl:a(e==null?void 0:e.companyLogoUrl),loginLogoUrl:a(e==null?void 0:e.loginLogoUrl)}};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var z8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),qt=(e,t)=>{const r=_e.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...d},f)=>_e.createElement("svg",{ref:f,...z8,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${B8(e)}`,o].join(" "),...d},[...t.map(([h,m])=>_e.createElement(h,m)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=qt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=qt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=qt("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=qt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=qt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=qt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=qt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=qt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=qt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q8=qt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=qt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=qt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=qt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V8=qt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=qt("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=qt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=qt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=qt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $8=qt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=qt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H8=qt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W8=qt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=qt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=qt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=qt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=qt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=qt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=qt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K8=qt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=qt("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=qt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=qt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=qt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=qt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=qt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q8=qt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8=qt("ShieldX",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8=qt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=qt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8=qt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=qt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=qt("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=qt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=qt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=qt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=qt("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=qt("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=qt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=qt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),nj=()=>{const[e,t]=_e.useState(navigator.onLine);return _e.useEffect(()=>{const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r),window.addEventListener("offline",n),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}},[]),e};var ub={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(b0,function(){var r=function(p,y){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,O){A.__proto__=O}||function(A,O){for(var B in O)Object.prototype.hasOwnProperty.call(O,B)&&(A[B]=O[B])})(p,y)},n=function(){return(n=Object.assign||function(p){for(var y,A=1,O=arguments.length;A<O;A++)for(var B in y=arguments[A])Object.prototype.hasOwnProperty.call(y,B)&&(p[B]=y[B]);return p}).apply(this,arguments)};function i(p,y,A){for(var O,B=0,G=y.length;B<G;B++)!O&&B in y||((O=O||Array.prototype.slice.call(y,0,B))[B]=y[B]);return p.concat(O||Array.prototype.slice.call(y))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:b0,a=Object.keys,o=Array.isArray;function l(p,y){return typeof y!="object"||a(y).forEach(function(A){p[A]=y[A]}),p}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var d=Object.getPrototypeOf,f={}.hasOwnProperty;function h(p,y){return f.call(p,y)}function m(p,y){typeof y=="function"&&(y=y(d(p))),(typeof Reflect>"u"?a:Reflect.ownKeys)(y).forEach(function(A){w(p,A,y[A])})}var g=Object.defineProperty;function w(p,y,A,O){g(p,y,l(A&&h(A,"get")&&typeof A.get=="function"?{get:A.get,set:A.set,configurable:!0}:{value:A,configurable:!0,writable:!0},O))}function _(p){return{from:function(y){return p.prototype=Object.create(y.prototype),w(p.prototype,"constructor",p),{extend:m.bind(null,p.prototype)}}}}var L=Object.getOwnPropertyDescriptor,x=[].slice;function S(p,y,A){return x.call(p,y,A)}function F(p,y){return y(p)}function T(p){if(!p)throw new Error("Assertion Failed")}function V(p){s.setImmediate?setImmediate(p):setTimeout(p,0)}function U(p,y){if(typeof y=="string"&&h(p,y))return p[y];if(!y)return p;if(typeof y!="string"){for(var A=[],O=0,B=y.length;O<B;++O){var G=U(p,y[O]);A.push(G)}return A}var oe=y.indexOf(".");if(oe!==-1){var he=p[y.substr(0,oe)];return he==null?void 0:U(he,y.substr(oe+1))}}function $(p,y,A){if(p&&y!==void 0&&!("isFrozen"in Object&&Object.isFrozen(p)))if(typeof y!="string"&&"length"in y){T(typeof A!="string"&&"length"in A);for(var O=0,B=y.length;O<B;++O)$(p,y[O],A[O])}else{var G,oe,he=y.indexOf(".");he!==-1?(G=y.substr(0,he),(oe=y.substr(he+1))===""?A===void 0?o(p)&&!isNaN(parseInt(G))?p.splice(G,1):delete p[G]:p[G]=A:$(he=!(he=p[G])||!h(p,G)?p[G]={}:he,oe,A)):A===void 0?o(p)&&!isNaN(parseInt(y))?p.splice(y,1):delete p[y]:p[y]=A}}function N(p){var y,A={};for(y in p)h(p,y)&&(A[y]=p[y]);return A}var k=[].concat;function M(p){return k.apply([],p)}var Ye="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(M([8,16,32,64].map(function(p){return["Int","Uint","Float"].map(function(y){return y+p+"Array"})}))).filter(function(p){return s[p]}),P=new Set(Ye.map(function(p){return s[p]})),E=null;function C(p){return E=new WeakMap,p=function y(A){if(!A||typeof A!="object")return A;var O=E.get(A);if(O)return O;if(o(A)){O=[],E.set(A,O);for(var B=0,G=A.length;B<G;++B)O.push(y(A[B]))}else if(P.has(A.constructor))O=A;else{var oe,he=d(A);for(oe in O=he===Object.prototype?{}:Object.create(he),E.set(A,O),A)h(A,oe)&&(O[oe]=y(A[oe]))}return O}(p),E=null,p}var D={}.toString;function re(p){return D.call(p).slice(8,-1)}var q=typeof Symbol<"u"?Symbol.iterator:"@@iterator",z=typeof q=="symbol"?function(p){var y;return p!=null&&(y=p[q])&&y.apply(p)}:function(){return null};function Q(p,y){return y=p.indexOf(y),0<=y&&p.splice(y,1),0<=y}var J={};function ae(p){var y,A,O,B;if(arguments.length===1){if(o(p))return p.slice();if(this===J&&typeof p=="string")return[p];if(B=z(p)){for(A=[];!(O=B.next()).done;)A.push(O.value);return A}if(p==null)return[p];if(typeof(y=p.length)!="number")return[p];for(A=new Array(y);y--;)A[y]=p[y];return A}for(y=arguments.length,A=new Array(y);y--;)A[y]=arguments[y];return A}var be=typeof Symbol<"u"?function(p){return p[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ue=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],_n=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ue),R={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function K(p,y){this.name=p,this.message=y}function Z(p,y){return p+". Errors: "+Object.keys(y).map(function(A){return y[A].toString()}).filter(function(A,O,B){return B.indexOf(A)===O}).join(`
`)}function ee(p,y,A,O){this.failures=y,this.failedKeys=O,this.successCount=A,this.message=Z(p,y)}function fe(p,y){this.name="BulkError",this.failures=Object.keys(y).map(function(A){return y[A]}),this.failuresByPos=y,this.message=Z(p,this.failures)}_(K).from(Error).extend({toString:function(){return this.name+": "+this.message}}),_(ee).from(K),_(fe).from(K);var we=_n.reduce(function(p,y){return p[y]=y+"Error",p},{}),ve=K,se=_n.reduce(function(p,y){var A=y+"Error";function O(B,G){this.name=A,B?typeof B=="string"?(this.message="".concat(B).concat(G?`
 `+G:""),this.inner=G||null):typeof B=="object"&&(this.message="".concat(B.name," ").concat(B.message),this.inner=B):(this.message=R[y]||A,this.inner=null)}return _(O).from(ve),p[y]=O,p},{});se.Syntax=SyntaxError,se.Type=TypeError,se.Range=RangeError;var $e=Ue.reduce(function(p,y){return p[y+"Error"]=se[y],p},{}),Oe=_n.reduce(function(p,y){return["Syntax","Type","Range"].indexOf(y)===-1&&(p[y+"Error"]=se[y]),p},{});function Re(){}function Ze(p){return p}function dt(p,y){return p==null||p===Ze?y:function(A){return y(p(A))}}function Ee(p,y){return function(){p.apply(this,arguments),y.apply(this,arguments)}}function le(p,y){return p===Re?y:function(){var A=p.apply(this,arguments);A!==void 0&&(arguments[0]=A);var O=this.onsuccess,B=this.onerror;this.onsuccess=null,this.onerror=null;var G=y.apply(this,arguments);return O&&(this.onsuccess=this.onsuccess?Ee(O,this.onsuccess):O),B&&(this.onerror=this.onerror?Ee(B,this.onerror):B),G!==void 0?G:A}}function xt(p,y){return p===Re?y:function(){p.apply(this,arguments);var A=this.onsuccess,O=this.onerror;this.onsuccess=this.onerror=null,y.apply(this,arguments),A&&(this.onsuccess=this.onsuccess?Ee(A,this.onsuccess):A),O&&(this.onerror=this.onerror?Ee(O,this.onerror):O)}}function Je(p,y){return p===Re?y:function(A){var O=p.apply(this,arguments);l(A,O);var B=this.onsuccess,G=this.onerror;return this.onsuccess=null,this.onerror=null,A=y.apply(this,arguments),B&&(this.onsuccess=this.onsuccess?Ee(B,this.onsuccess):B),G&&(this.onerror=this.onerror?Ee(G,this.onerror):G),O===void 0?A===void 0?void 0:A:l(O,A)}}function We(p,y){return p===Re?y:function(){return y.apply(this,arguments)!==!1&&p.apply(this,arguments)}}function ie(p,y){return p===Re?y:function(){var A=p.apply(this,arguments);if(A&&typeof A.then=="function"){for(var O=this,B=arguments.length,G=new Array(B);B--;)G[B]=arguments[B];return A.then(function(){return y.apply(O,G)})}return y.apply(this,arguments)}}Oe.ModifyError=ee,Oe.DexieError=K,Oe.BulkError=fe;var de=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function me(p){de=p}var Ve={},Me=100,Ye=typeof Promise>"u"?[]:function(){var p=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[p,d(p),p];var y=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[y,d(y),p]}(),Ue=Ye[0],_n=Ye[1],Ye=Ye[2],_n=_n&&_n.then,pt=Ue&&Ue.constructor,yt=!!Ye,wt=function(p,y){an.push([p,y]),st&&(queueMicrotask(wr),st=!1)},kt=!0,st=!0,Dt=[],Pt=[],ar=Ze,Wt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Re,pgp:!1,env:{},finalize:Re},gt=Wt,an=[],Kt=0,si=[];function ot(p){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var y=this._PSD=gt;if(typeof p!="function"){if(p!==Ve)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&ir(this,this._value))}this._state=null,this._value=null,++y.ref,function A(O,B){try{B(function(G){if(O._state===null){if(G===O)throw new TypeError("A promise cannot be resolved with itself.");var oe=O._lib&&Lr();G&&typeof G.then=="function"?A(O,function(he,ye){G instanceof ot?G._then(he,ye):G.then(he,ye)}):(O._state=!0,O._value=G,It(O)),oe&&Fn()}},ir.bind(null,O))}catch(G){ir(O,G)}}(this,p)}var Pn={get:function(){var p=gt,y=ys;function A(O,B){var G=this,oe=!p.global&&(p!==gt||y!==ys),he=oe&&!ln(),ye=new ot(function(ge,Pe){Yt(G,new Kr(pa(O,p,oe,he),pa(B,p,oe,he),ge,Pe,p))});return this._consoleTask&&(ye._consoleTask=this._consoleTask),ye}return A.prototype=Ve,A},set:function(p){w(this,"then",p&&p.prototype===Ve?Pn:{get:function(){return p},set:Pn.set})}};function Kr(p,y,A,O,B){this.onFulfilled=typeof p=="function"?p:null,this.onRejected=typeof y=="function"?y:null,this.resolve=A,this.reject=O,this.psd=B}function ir(p,y){var A,O;Pt.push(y),p._state===null&&(A=p._lib&&Lr(),y=ar(y),p._state=!1,p._value=y,O=p,Dt.some(function(B){return B._value===O._value})||Dt.push(O),It(p),A&&Fn())}function It(p){var y=p._listeners;p._listeners=[];for(var A=0,O=y.length;A<O;++A)Yt(p,y[A]);var B=p._PSD;--B.ref||B.finalize(),Kt===0&&(++Kt,wt(function(){--Kt==0&&Ot()},[]))}function Yt(p,y){if(p._state!==null){var A=p._state?y.onFulfilled:y.onRejected;if(A===null)return(p._state?y.resolve:y.reject)(p._value);++y.psd.ref,++Kt,wt(Ji,[A,p,y])}else p._listeners.push(y)}function Ji(p,y,A){try{var O,B=y._value;!y._state&&Pt.length&&(Pt=[]),O=de&&y._consoleTask?y._consoleTask.run(function(){return p(B)}):p(B),y._state||Pt.indexOf(B)!==-1||function(G){for(var oe=Dt.length;oe;)if(Dt[--oe]._value===G._value)return Dt.splice(oe,1)}(y),A.resolve(O)}catch(G){A.reject(G)}finally{--Kt==0&&Ot(),--A.psd.ref||A.psd.finalize()}}function wr(){mi(Wt,function(){Lr()&&Fn()})}function Lr(){var p=kt;return st=kt=!1,p}function Fn(){var p,y,A;do for(;0<an.length;)for(p=an,an=[],A=p.length,y=0;y<A;++y){var O=p[y];O[0].apply(null,O[1])}while(0<an.length);st=kt=!0}function Ot(){var p=Dt;Dt=[],p.forEach(function(O){O._PSD.onunhandled.call(null,O._value,O)});for(var y=si.slice(0),A=y.length;A;)y[--A]()}function Dn(p){return new ot(Ve,!1,p)}function sr(p,y){var A=gt;return function(){var O=Lr(),B=gt;try{return yn(A,!0),p.apply(this,arguments)}catch(G){y&&y(G)}finally{yn(B,!1),O&&Fn()}}}m(ot.prototype,{then:Pn,_then:function(p,y){Yt(this,new Kr(null,null,p,y,gt))},catch:function(p){if(arguments.length===1)return this.then(null,p);var y=p,A=arguments[1];return typeof y=="function"?this.then(null,function(O){return(O instanceof y?A:Dn)(O)}):this.then(null,function(O){return(O&&O.name===y?A:Dn)(O)})},finally:function(p){return this.then(function(y){return ot.resolve(p()).then(function(){return y})},function(y){return ot.resolve(p()).then(function(){return Dn(y)})})},timeout:function(p,y){var A=this;return p<1/0?new ot(function(O,B){var G=setTimeout(function(){return B(new se.Timeout(y))},p);A.then(O,B).finally(clearTimeout.bind(null,G))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&w(ot.prototype,Symbol.toStringTag,"Dexie.Promise"),Wt.env=Gs(),m(ot,{all:function(){var p=ae.apply(null,arguments).map(ai);return new ot(function(y,A){p.length===0&&y([]);var O=p.length;p.forEach(function(B,G){return ot.resolve(B).then(function(oe){p[G]=oe,--O||y(p)},A)})})},resolve:function(p){return p instanceof ot?p:p&&typeof p.then=="function"?new ot(function(y,A){p.then(y,A)}):new ot(Ve,!0,p)},reject:Dn,race:function(){var p=ae.apply(null,arguments).map(ai);return new ot(function(y,A){p.map(function(O){return ot.resolve(O).then(y,A)})})},PSD:{get:function(){return gt},set:function(p){return gt=p}},totalEchoes:{get:function(){return ys}},newPSD:on,usePSD:mi,scheduler:{get:function(){return wt},set:function(p){wt=p}},rejectionMapper:{get:function(){return ar},set:function(p){ar=p}},follow:function(p,y){return new ot(function(A,O){return on(function(B,G){var oe=gt;oe.unhandleds=[],oe.onunhandled=G,oe.finalize=Ee(function(){var he,ye=this;he=function(){ye.unhandleds.length===0?B():G(ye.unhandleds[0])},si.push(function ge(){he(),si.splice(si.indexOf(ge),1)}),++Kt,wt(function(){--Kt==0&&Ot()},[])},oe.finalize),p()},y,A,O)})}}),pt&&(pt.allSettled&&w(ot,"allSettled",function(){var p=ae.apply(null,arguments).map(ai);return new ot(function(y){p.length===0&&y([]);var A=p.length,O=new Array(A);p.forEach(function(B,G){return ot.resolve(B).then(function(oe){return O[G]={status:"fulfilled",value:oe}},function(oe){return O[G]={status:"rejected",reason:oe}}).then(function(){return--A||y(O)})})})}),pt.any&&typeof AggregateError<"u"&&w(ot,"any",function(){var p=ae.apply(null,arguments).map(ai);return new ot(function(y,A){p.length===0&&A(new AggregateError([]));var O=p.length,B=new Array(O);p.forEach(function(G,oe){return ot.resolve(G).then(function(he){return y(he)},function(he){B[oe]=he,--O||A(new AggregateError(B))})})})}),pt.withResolvers&&(ot.withResolvers=pt.withResolvers));var or={awaits:0,echoes:0,id:0},Gr=0,Er=[],Sn=0,ys=0,xs=0;function on(p,y,A,O){var B=gt,G=Object.create(B);return G.parent=B,G.ref=0,G.global=!1,G.id=++xs,Wt.env,G.env=yt?{Promise:ot,PromiseProp:{value:ot,configurable:!0,writable:!0},all:ot.all,race:ot.race,allSettled:ot.allSettled,any:ot.any,resolve:ot.resolve,reject:ot.reject}:{},y&&l(G,y),++B.ref,G.finalize=function(){--this.parent.ref||this.parent.finalize()},O=mi(G,p,A,O),G.ref===0&&G.finalize(),O}function jn(){return or.id||(or.id=++Gr),++or.awaits,or.echoes+=Me,or.id}function ln(){return!!or.awaits&&(--or.awaits==0&&(or.id=0),or.echoes=or.awaits*Me,!0)}function ai(p){return or.echoes&&p&&p.constructor===pt?(jn(),p.then(function(y){return ln(),y},function(y){return ln(),yr(y)})):p}function pi(){var p=Er[Er.length-1];Er.pop(),yn(p,!1)}function yn(p,y){var A,O=gt;(y?!or.echoes||Sn++&&p===gt:!Sn||--Sn&&p===gt)||queueMicrotask(y?(function(B){++ys,or.echoes&&--or.echoes!=0||(or.echoes=or.awaits=or.id=0),Er.push(gt),yn(B,!0)}).bind(null,p):pi),p!==gt&&(gt=p,O===Wt&&(Wt.env=Gs()),yt&&(A=Wt.env.Promise,y=p.env,(O.global||p.global)&&(Object.defineProperty(s,"Promise",y.PromiseProp),A.all=y.all,A.race=y.race,A.resolve=y.resolve,A.reject=y.reject,y.allSettled&&(A.allSettled=y.allSettled),y.any&&(A.any=y.any))))}function Gs(){var p=s.Promise;return yt?{Promise:p,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:p.all,race:p.race,allSettled:p.allSettled,any:p.any,resolve:p.resolve,reject:p.reject}:{}}function mi(p,y,A,O,B){var G=gt;try{return yn(p,!0),y(A,O,B)}finally{yn(G,!1)}}function pa(p,y,A,O){return typeof p!="function"?p:function(){var B=gt;A&&jn(),yn(y,!0);try{return p.apply(this,arguments)}finally{yn(B,!1),O&&queueMicrotask(ln)}}}function Qs(p){Promise===pt&&or.echoes===0?Sn===0?p():enqueueNativeMicroTask(p):setTimeout(p,0)}(""+_n).indexOf("[native code]")===-1&&(jn=ln=Re);var yr=ot.reject,Yi="",Ri="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Vl="String expected.",Ti=[],ma="__dbnames",el="readonly",ga="readwrite";function bs(p,y){return p?y?function(){return p.apply(this,arguments)&&y.apply(this,arguments)}:p:y}var tl={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ga(p){return typeof p!="string"||/\./.test(p)?function(y){return y}:function(y){return y[p]===void 0&&p in y&&delete(y=C(y))[p],y}}function va(){throw se.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Xt(p,y){try{var A=Or(p),O=Or(y);if(A!==O)return A==="Array"?1:O==="Array"?-1:A==="binary"?1:O==="binary"?-1:A==="string"?1:O==="string"?-1:A==="Date"?1:O!=="Date"?NaN:-1;switch(A){case"number":case"Date":case"string":return y<p?1:p<y?-1:0;case"binary":return function(B,G){for(var oe=B.length,he=G.length,ye=oe<he?oe:he,ge=0;ge<ye;++ge)if(B[ge]!==G[ge])return B[ge]<G[ge]?-1:1;return oe===he?0:oe<he?-1:1}(rl(p),rl(y));case"Array":return function(B,G){for(var oe=B.length,he=G.length,ye=oe<he?oe:he,ge=0;ge<ye;++ge){var Pe=Xt(B[ge],G[ge]);if(Pe!==0)return Pe}return oe===he?0:oe<he?-1:1}(p,y)}}catch{}return NaN}function Or(p){var y=typeof p;return y!="object"?y:ArrayBuffer.isView(p)?"binary":(p=re(p),p==="ArrayBuffer"?"binary":p)}function rl(p){return p instanceof Uint8Array?p:ArrayBuffer.isView(p)?new Uint8Array(p.buffer,p.byteOffset,p.byteLength):new Uint8Array(p)}function ya(p,y,A){var O=p.schema.yProps;return O?(y&&0<A.numFailures&&(y=y.filter(function(B,G){return!A.failures[G]})),Promise.all(O.map(function(B){return B=B.updatesTable,y?p.db.table(B).where("k").anyOf(y).delete():p.db.table(B).clear()})).then(function(){return A})):A}var Js=(Qa.prototype.execute=function(p){var y=this["@@propmod"];if(y.add!==void 0){var A=y.add;if(o(A))return i(i([],o(p)?p:[],!0),A).sort();if(typeof A=="number")return(Number(p)||0)+A;if(typeof A=="bigint")try{return BigInt(p)+A}catch{return BigInt(0)+A}throw new TypeError("Invalid term ".concat(A))}if(y.remove!==void 0){var O=y.remove;if(o(O))return o(p)?p.filter(function(B){return!O.includes(B)}).sort():[];if(typeof O=="number")return Number(p)-O;if(typeof O=="bigint")try{return BigInt(p)-O}catch{return BigInt(0)-O}throw new TypeError("Invalid subtrahend ".concat(O))}return A=(A=y.replacePrefix)===null||A===void 0?void 0:A[0],A&&typeof p=="string"&&p.startsWith(A)?y.replacePrefix[1]+p.substring(A.length):p},Qa);function Qa(p){this["@@propmod"]=p}function $l(p,y){for(var A=a(y),O=A.length,B=!1,G=0;G<O;++G){var oe=A[G],he=y[oe],ye=U(p,oe);he instanceof Js?($(p,oe,he.execute(ye)),B=!0):ye!==he&&($(p,oe,he),B=!0)}return B}var gi=(lr.prototype._trans=function(p,y,A){var O=this._tx||gt.trans,B=this.name,G=de&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(p==="readonly"?"read":"write"," ").concat(this.name));function oe(ge,Pe,pe){if(!pe.schema[B])throw new se.NotFound("Table "+B+" not part of transaction");return y(pe.idbtrans,pe)}var he=Lr();try{var ye=O&&O.db._novip===this.db._novip?O===gt.trans?O._promise(p,oe,A):on(function(){return O._promise(p,oe,A)},{trans:O,transless:gt.transless||gt}):function ge(Pe,pe,Ce,Ne){if(Pe.idbdb&&(Pe._state.openComplete||gt.letThrough||Pe._vip)){var ke=Pe._createTransaction(pe,Ce,Pe._dbSchema);try{ke.create(),Pe._state.PR1398_maxLoop=3}catch(Ae){return Ae.name===we.InvalidState&&Pe.isOpen()&&0<--Pe._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Pe.close({disableAutoOpen:!1}),Pe.open().then(function(){return ge(Pe,pe,Ce,Ne)})):yr(Ae)}return ke._promise(pe,function(Ae,Fe){return on(function(){return gt.trans=ke,Ne(Ae,Fe,ke)})}).then(function(Ae){if(pe==="readwrite")try{ke.idbtrans.commit()}catch{}return pe==="readonly"?Ae:ke._completion.then(function(){return Ae})})}if(Pe._state.openComplete)return yr(new se.DatabaseClosed(Pe._state.dbOpenError));if(!Pe._state.isBeingOpened){if(!Pe._state.autoOpen)return yr(new se.DatabaseClosed);Pe.open().catch(Re)}return Pe._state.dbReadyPromise.then(function(){return ge(Pe,pe,Ce,Ne)})}(this.db,p,[this.name],oe);return G&&(ye._consoleTask=G,ye=ye.catch(function(ge){return console.trace(ge),yr(ge)})),ye}finally{he&&Fn()}},lr.prototype.get=function(p,y){var A=this;return p&&p.constructor===Object?this.where(p).first(y):p==null?yr(new se.Type("Invalid argument to Table.get()")):this._trans("readonly",function(O){return A.core.get({trans:O,key:p}).then(function(B){return A.hook.reading.fire(B)})}).then(y)},lr.prototype.where=function(p){if(typeof p=="string")return new this.db.WhereClause(this,p);if(o(p))return new this.db.WhereClause(this,"[".concat(p.join("+"),"]"));var y=a(p);if(y.length===1)return this.where(y[0]).equals(p[y[0]]);var A=this.schema.indexes.concat(this.schema.primKey).filter(function(he){if(he.compound&&y.every(function(ge){return 0<=he.keyPath.indexOf(ge)})){for(var ye=0;ye<y.length;++ye)if(y.indexOf(he.keyPath[ye])===-1)return!1;return!0}return!1}).sort(function(he,ye){return he.keyPath.length-ye.keyPath.length})[0];if(A&&this.db._maxKey!==Yi){var G=A.keyPath.slice(0,y.length);return this.where(G).equals(G.map(function(ye){return p[ye]}))}!A&&de&&console.warn("The query ".concat(JSON.stringify(p)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(y.join("+"),"]"));var O=this.schema.idxByName;function B(he,ye){return Xt(he,ye)===0}var oe=y.reduce(function(pe,ye){var ge=pe[0],Pe=pe[1],pe=O[ye],Ce=p[ye];return[ge||pe,ge||!pe?bs(Pe,pe&&pe.multi?function(Ne){return Ne=U(Ne,ye),o(Ne)&&Ne.some(function(ke){return B(Ce,ke)})}:function(Ne){return B(Ce,U(Ne,ye))}):Pe]},[null,null]),G=oe[0],oe=oe[1];return G?this.where(G.name).equals(p[G.keyPath]).filter(oe):A?this.filter(oe):this.where(y).equals("")},lr.prototype.filter=function(p){return this.toCollection().and(p)},lr.prototype.count=function(p){return this.toCollection().count(p)},lr.prototype.offset=function(p){return this.toCollection().offset(p)},lr.prototype.limit=function(p){return this.toCollection().limit(p)},lr.prototype.each=function(p){return this.toCollection().each(p)},lr.prototype.toArray=function(p){return this.toCollection().toArray(p)},lr.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},lr.prototype.orderBy=function(p){return new this.db.Collection(new this.db.WhereClause(this,o(p)?"[".concat(p.join("+"),"]"):p))},lr.prototype.reverse=function(){return this.toCollection().reverse()},lr.prototype.mapToClass=function(p){var y,A=this.db,O=this.name;function B(){return y!==null&&y.apply(this,arguments)||this}(this.schema.mappedClass=p).prototype instanceof va&&(function(ye,ge){if(typeof ge!="function"&&ge!==null)throw new TypeError("Class extends value "+String(ge)+" is not a constructor or null");function Pe(){this.constructor=ye}r(ye,ge),ye.prototype=ge===null?Object.create(ge):(Pe.prototype=ge.prototype,new Pe)}(B,y=p),Object.defineProperty(B.prototype,"db",{get:function(){return A},enumerable:!1,configurable:!0}),B.prototype.table=function(){return O},p=B);for(var G=new Set,oe=p.prototype;oe;oe=d(oe))Object.getOwnPropertyNames(oe).forEach(function(ye){return G.add(ye)});function he(ye){if(!ye)return ye;var ge,Pe=Object.create(p.prototype);for(ge in ye)if(!G.has(ge))try{Pe[ge]=ye[ge]}catch{}return Pe}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=he,this.hook("reading",he),p},lr.prototype.defineClass=function(){return this.mapToClass(function(p){l(this,p)})},lr.prototype.add=function(p,y){var A=this,O=this.schema.primKey,B=O.auto,G=O.keyPath,oe=p;return G&&B&&(oe=Ga(G)(p)),this._trans("readwrite",function(he){return A.core.mutate({trans:he,type:"add",keys:y!=null?[y]:null,values:[oe]})}).then(function(he){return he.numFailures?ot.reject(he.failures[0]):he.lastResult}).then(function(he){if(G)try{$(p,G,he)}catch{}return he})},lr.prototype.upsert=function(p,y){var A=this,O=this.schema.primKey.keyPath;return this._trans("readwrite",function(B){return A.core.get({trans:B,key:p}).then(function(G){var oe=G??{};return $l(oe,y),O&&$(oe,O,p),A.core.mutate({trans:B,type:"put",values:[oe],keys:[p],upsert:!0,updates:{keys:[p],changeSpecs:[y]}}).then(function(he){return he.numFailures?ot.reject(he.failures[0]):!!G})})})},lr.prototype.update=function(p,y){return typeof p!="object"||o(p)?this.where(":id").equals(p).modify(y):(p=U(p,this.schema.primKey.keyPath),p===void 0?yr(new se.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(p).modify(y))},lr.prototype.put=function(p,y){var A=this,O=this.schema.primKey,B=O.auto,G=O.keyPath,oe=p;return G&&B&&(oe=Ga(G)(p)),this._trans("readwrite",function(he){return A.core.mutate({trans:he,type:"put",values:[oe],keys:y!=null?[y]:null})}).then(function(he){return he.numFailures?ot.reject(he.failures[0]):he.lastResult}).then(function(he){if(G)try{$(p,G,he)}catch{}return he})},lr.prototype.delete=function(p){var y=this;return this._trans("readwrite",function(A){return y.core.mutate({trans:A,type:"delete",keys:[p]}).then(function(O){return ya(y,[p],O)}).then(function(O){return O.numFailures?ot.reject(O.failures[0]):void 0})})},lr.prototype.clear=function(){var p=this;return this._trans("readwrite",function(y){return p.core.mutate({trans:y,type:"deleteRange",range:tl}).then(function(A){return ya(p,null,A)})}).then(function(y){return y.numFailures?ot.reject(y.failures[0]):void 0})},lr.prototype.bulkGet=function(p){var y=this;return this._trans("readonly",function(A){return y.core.getMany({keys:p,trans:A}).then(function(O){return O.map(function(B){return y.hook.reading.fire(B)})})})},lr.prototype.bulkAdd=function(p,y,A){var O=this,B=Array.isArray(y)?y:void 0,G=(A=A||(B?void 0:y))?A.allKeys:void 0;return this._trans("readwrite",function(oe){var ge=O.schema.primKey,he=ge.auto,ge=ge.keyPath;if(ge&&B)throw new se.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(B&&B.length!==p.length)throw new se.InvalidArgument("Arguments objects and keys must have the same length");var ye=p.length,ge=ge&&he?p.map(Ga(ge)):p;return O.core.mutate({trans:oe,type:"add",keys:B,values:ge,wantResults:G}).then(function(ke){var pe=ke.numFailures,Ce=ke.results,Ne=ke.lastResult,ke=ke.failures;if(pe===0)return G?Ce:Ne;throw new fe("".concat(O.name,".bulkAdd(): ").concat(pe," of ").concat(ye," operations failed"),ke)})})},lr.prototype.bulkPut=function(p,y,A){var O=this,B=Array.isArray(y)?y:void 0,G=(A=A||(B?void 0:y))?A.allKeys:void 0;return this._trans("readwrite",function(oe){var ge=O.schema.primKey,he=ge.auto,ge=ge.keyPath;if(ge&&B)throw new se.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(B&&B.length!==p.length)throw new se.InvalidArgument("Arguments objects and keys must have the same length");var ye=p.length,ge=ge&&he?p.map(Ga(ge)):p;return O.core.mutate({trans:oe,type:"put",keys:B,values:ge,wantResults:G}).then(function(ke){var pe=ke.numFailures,Ce=ke.results,Ne=ke.lastResult,ke=ke.failures;if(pe===0)return G?Ce:Ne;throw new fe("".concat(O.name,".bulkPut(): ").concat(pe," of ").concat(ye," operations failed"),ke)})})},lr.prototype.bulkUpdate=function(p){var y=this,A=this.core,O=p.map(function(oe){return oe.key}),B=p.map(function(oe){return oe.changes}),G=[];return this._trans("readwrite",function(oe){return A.getMany({trans:oe,keys:O,cache:"clone"}).then(function(he){var ye=[],ge=[];p.forEach(function(pe,Ce){var Ne=pe.key,ke=pe.changes,Ae=he[Ce];if(Ae){for(var Fe=0,De=Object.keys(ke);Fe<De.length;Fe++){var qe=De[Fe],Ke=ke[qe];if(qe===y.schema.primKey.keyPath){if(Xt(Ke,Ne)!==0)throw new se.Constraint("Cannot update primary key in bulkUpdate()")}else $(Ae,qe,Ke)}G.push(Ce),ye.push(Ne),ge.push(Ae)}});var Pe=ye.length;return A.mutate({trans:oe,type:"put",keys:ye,values:ge,updates:{keys:O,changeSpecs:B}}).then(function(pe){var Ce=pe.numFailures,Ne=pe.failures;if(Ce===0)return Pe;for(var ke=0,Ae=Object.keys(Ne);ke<Ae.length;ke++){var Fe,De=Ae[ke],qe=G[Number(De)];qe!=null&&(Fe=Ne[De],delete Ne[De],Ne[qe]=Fe)}throw new fe("".concat(y.name,".bulkUpdate(): ").concat(Ce," of ").concat(Pe," operations failed"),Ne)})})})},lr.prototype.bulkDelete=function(p){var y=this,A=p.length;return this._trans("readwrite",function(O){return y.core.mutate({trans:O,type:"delete",keys:p}).then(function(B){return ya(y,p,B)})}).then(function(oe){var B=oe.numFailures,G=oe.lastResult,oe=oe.failures;if(B===0)return G;throw new fe("".concat(y.name,".bulkDelete(): ").concat(B," of ").concat(A," operations failed"),oe)})},lr);function lr(){}function un(p){function y(oe,he){if(he){for(var ye=arguments.length,ge=new Array(ye-1);--ye;)ge[ye-1]=arguments[ye];return A[oe].subscribe.apply(null,ge),p}if(typeof oe=="string")return A[oe]}var A={};y.addEventType=G;for(var O=1,B=arguments.length;O<B;++O)G(arguments[O]);return y;function G(oe,he,ye){if(typeof oe!="object"){var ge;he=he||We;var Pe={subscribers:[],fire:ye=ye||Re,subscribe:function(pe){Pe.subscribers.indexOf(pe)===-1&&(Pe.subscribers.push(pe),Pe.fire=he(Pe.fire,pe))},unsubscribe:function(pe){Pe.subscribers=Pe.subscribers.filter(function(Ce){return Ce!==pe}),Pe.fire=Pe.subscribers.reduce(he,ye)}};return A[oe]=y[oe]=Pe}a(ge=oe).forEach(function(pe){var Ce=ge[pe];if(o(Ce))G(pe,ge[pe][0],ge[pe][1]);else{if(Ce!=="asap")throw new se.InvalidArgument("Invalid event config");var Ne=G(pe,Ze,function(){for(var ke=arguments.length,Ae=new Array(ke);ke--;)Ae[ke]=arguments[ke];Ne.subscribers.forEach(function(Fe){V(function(){Fe.apply(null,Ae)})})})}})}}function ws(p,y){return _(y).from({prototype:p}),y}function Ns(p,y){return!(p.filter||p.algorithm||p.or)&&(y?p.justLimit:!p.replayFilter)}function nl(p,y){p.filter=bs(p.filter,y)}function Ja(p,y,A){var O=p.replayFilter;p.replayFilter=O?function(){return bs(O(),y())}:y,p.justLimit=A&&!O}function Ya(p,y){if(p.isPrimKey)return y.primaryKey;var A=y.getIndexByKeyPath(p.index);if(!A)throw new se.Schema("KeyPath "+p.index+" on object store "+y.name+" is not indexed");return A}function il(p,y,A){var O=Ya(p,y.schema);return y.openCursor({trans:A,values:!p.keysOnly,reverse:p.dir==="prev",unique:!!p.unique,query:{index:O,range:p.range}})}function Xa(p,y,A,O){var B=p.replayFilter?bs(p.filter,p.replayFilter()):p.filter;if(p.or){var G={},oe=function(he,ye,ge){var Pe,pe;B&&!B(ye,ge,function(Ce){return ye.stop(Ce)},function(Ce){return ye.fail(Ce)})||((pe=""+(Pe=ye.primaryKey))=="[object ArrayBuffer]"&&(pe=""+new Uint8Array(Pe)),h(G,pe)||(G[pe]=!0,y(he,ye,ge)))};return Promise.all([p.or._iterate(oe,A),Za(il(p,O,A),p.algorithm,oe,!p.keysOnly&&p.valueMapper)])}return Za(il(p,O,A),bs(p.algorithm,B),y,!p.keysOnly&&p.valueMapper)}function Za(p,y,A,O){var B=sr(O?function(G,oe,he){return A(O(G),oe,he)}:A);return p.then(function(G){if(G)return G.start(function(){var oe=function(){return G.continue()};y&&!y(G,function(he){return oe=he},function(he){G.stop(he),oe=Re},function(he){G.fail(he),oe=Re})||B(G.value,G,function(he){return oe=he}),oe()})})}var ic=(tr.prototype._read=function(p,y){var A=this._ctx;return A.error?A.table._trans(null,yr.bind(null,A.error)):A.table._trans("readonly",p).then(y)},tr.prototype._write=function(p){var y=this._ctx;return y.error?y.table._trans(null,yr.bind(null,y.error)):y.table._trans("readwrite",p,"locked")},tr.prototype._addAlgorithm=function(p){var y=this._ctx;y.algorithm=bs(y.algorithm,p)},tr.prototype._iterate=function(p,y){return Xa(this._ctx,p,y,this._ctx.table.core)},tr.prototype.clone=function(p){var y=Object.create(this.constructor.prototype),A=Object.create(this._ctx);return p&&l(A,p),y._ctx=A,y},tr.prototype.raw=function(){return this._ctx.valueMapper=null,this},tr.prototype.each=function(p){var y=this._ctx;return this._read(function(A){return Xa(y,p,A,y.table.core)})},tr.prototype.count=function(p){var y=this;return this._read(function(A){var O=y._ctx,B=O.table.core;if(Ns(O,!0))return B.count({trans:A,query:{index:Ya(O,B.schema),range:O.range}}).then(function(oe){return Math.min(oe,O.limit)});var G=0;return Xa(O,function(){return++G,!1},A,B).then(function(){return G})}).then(p)},tr.prototype.sortBy=function(p,y){var A=p.split(".").reverse(),O=A[0],B=A.length-1;function G(ye,ge){return ge?G(ye[A[ge]],ge-1):ye[O]}var oe=this._ctx.dir==="next"?1:-1;function he(ye,ge){return Xt(G(ye,B),G(ge,B))*oe}return this.toArray(function(ye){return ye.sort(he)}).then(y)},tr.prototype.toArray=function(p){var y=this;return this._read(function(A){var O=y._ctx;if(O.dir==="next"&&Ns(O,!0)&&0<O.limit){var B=O.valueMapper,G=Ya(O,O.table.core.schema);return O.table.core.query({trans:A,limit:O.limit,values:!0,query:{index:G,range:O.range}}).then(function(he){return he=he.result,B?he.map(B):he})}var oe=[];return Xa(O,function(he){return oe.push(he)},A,O.table.core).then(function(){return oe})},p)},tr.prototype.offset=function(p){var y=this._ctx;return p<=0||(y.offset+=p,Ns(y)?Ja(y,function(){var A=p;return function(O,B){return A===0||(A===1?--A:B(function(){O.advance(A),A=0}),!1)}}):Ja(y,function(){var A=p;return function(){return--A<0}})),this},tr.prototype.limit=function(p){return this._ctx.limit=Math.min(this._ctx.limit,p),Ja(this._ctx,function(){var y=p;return function(A,O,B){return--y<=0&&O(B),0<=y}},!0),this},tr.prototype.until=function(p,y){return nl(this._ctx,function(A,O,B){return!p(A.value)||(O(B),y)}),this},tr.prototype.first=function(p){return this.limit(1).toArray(function(y){return y[0]}).then(p)},tr.prototype.last=function(p){return this.reverse().first(p)},tr.prototype.filter=function(p){var y;return nl(this._ctx,function(A){return p(A.value)}),(y=this._ctx).isMatch=bs(y.isMatch,p),this},tr.prototype.and=function(p){return this.filter(p)},tr.prototype.or=function(p){return new this.db.WhereClause(this._ctx.table,p,this)},tr.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},tr.prototype.desc=function(){return this.reverse()},tr.prototype.eachKey=function(p){var y=this._ctx;return y.keysOnly=!y.isMatch,this.each(function(A,O){p(O.key,O)})},tr.prototype.eachUniqueKey=function(p){return this._ctx.unique="unique",this.eachKey(p)},tr.prototype.eachPrimaryKey=function(p){var y=this._ctx;return y.keysOnly=!y.isMatch,this.each(function(A,O){p(O.primaryKey,O)})},tr.prototype.keys=function(p){var y=this._ctx;y.keysOnly=!y.isMatch;var A=[];return this.each(function(O,B){A.push(B.key)}).then(function(){return A}).then(p)},tr.prototype.primaryKeys=function(p){var y=this._ctx;if(y.dir==="next"&&Ns(y,!0)&&0<y.limit)return this._read(function(O){var B=Ya(y,y.table.core.schema);return y.table.core.query({trans:O,values:!1,limit:y.limit,query:{index:B,range:y.range}})}).then(function(O){return O.result}).then(p);y.keysOnly=!y.isMatch;var A=[];return this.each(function(O,B){A.push(B.primaryKey)}).then(function(){return A}).then(p)},tr.prototype.uniqueKeys=function(p){return this._ctx.unique="unique",this.keys(p)},tr.prototype.firstKey=function(p){return this.limit(1).keys(function(y){return y[0]}).then(p)},tr.prototype.lastKey=function(p){return this.reverse().firstKey(p)},tr.prototype.distinct=function(){var p=this._ctx,p=p.index&&p.table.schema.idxByName[p.index];if(!p||!p.multi)return this;var y={};return nl(this._ctx,function(B){var O=B.primaryKey.toString(),B=h(y,O);return y[O]=!0,!B}),this},tr.prototype.modify=function(p){var y=this,A=this._ctx;return this._write(function(O){var B=typeof p=="function"?p:function(Ae){return $l(Ae,p)},G=A.table.core,ge=G.schema.primaryKey,oe=ge.outbound,he=ge.extractKey,ye=200,ge=y.db._options.modifyChunkSize;ge&&(ye=typeof ge=="object"?ge[G.name]||ge["*"]||200:ge);function Pe(Ae,qe){var De=qe.failures,qe=qe.numFailures;Ce+=Ae-qe;for(var Ke=0,Xe=a(De);Ke<Xe.length;Ke++){var ct=Xe[Ke];pe.push(De[ct])}}var pe=[],Ce=0,Ne=[],ke=p===Hl;return y.clone().primaryKeys().then(function(Ae){function Fe(qe){var Ke=Math.min(ye,Ae.length-qe),Xe=Ae.slice(qe,qe+Ke);return(ke?Promise.resolve([]):G.getMany({trans:O,keys:Xe,cache:"immutable"})).then(function(ct){var vt=[],lt=[],ut=oe?[]:null,mt=ke?Xe:[];if(!ke)for(var nt=0;nt<Ke;++nt){var ft=ct[nt],Lt={value:C(ft),primKey:Ae[qe+nt]};B.call(Lt,Lt.value,Lt)!==!1&&(Lt.value==null?mt.push(Ae[qe+nt]):oe||Xt(he(ft),he(Lt.value))===0?(lt.push(Lt.value),oe&&ut.push(Ae[qe+nt])):(mt.push(Ae[qe+nt]),vt.push(Lt.value)))}return Promise.resolve(0<vt.length&&G.mutate({trans:O,type:"add",values:vt}).then(function(Ct){for(var $t in Ct.failures)mt.splice(parseInt($t),1);Pe(vt.length,Ct)})).then(function(){return(0<lt.length||De&&typeof p=="object")&&G.mutate({trans:O,type:"put",keys:ut,values:lt,criteria:De,changeSpec:typeof p!="function"&&p,isAdditionalChunk:0<qe}).then(function(Ct){return Pe(lt.length,Ct)})}).then(function(){return(0<mt.length||De&&ke)&&G.mutate({trans:O,type:"delete",keys:mt,criteria:De,isAdditionalChunk:0<qe}).then(function(Ct){return ya(A.table,mt,Ct)}).then(function(Ct){return Pe(mt.length,Ct)})}).then(function(){return Ae.length>qe+Ke&&Fe(qe+ye)})})}var De=Ns(A)&&A.limit===1/0&&(typeof p!="function"||ke)&&{index:A.index,range:A.range};return Fe(0).then(function(){if(0<pe.length)throw new ee("Error modifying one or more objects",pe,Ce,Ne);return Ae.length})})})},tr.prototype.delete=function(){var p=this._ctx,y=p.range;return!Ns(p)||p.table.schema.yProps||!p.isPrimKey&&y.type!==3?this.modify(Hl):this._write(function(A){var O=p.table.core.schema.primaryKey,B=y;return p.table.core.count({trans:A,query:{index:O,range:B}}).then(function(G){return p.table.core.mutate({trans:A,type:"deleteRange",range:B}).then(function(ye){var he=ye.failures,ye=ye.numFailures;if(ye)throw new ee("Could not delete some values",Object.keys(he).map(function(ge){return he[ge]}),G-ye);return G-ye})})})},tr);function tr(){}var Hl=function(p,y){return y.value=null};function Ss(p,y){return p<y?-1:p===y?0:1}function eo(p,y){return y<p?-1:p===y?0:1}function cn(p,y,A){return p=p instanceof Vt?new p.Collection(p):p,p._ctx.error=new(A||TypeError)(y),p}function js(p){return new p.Collection(p,function(){return sl("")}).limit(0)}function Qr(p,y,A,O){var B,G,oe,he,ye,ge,Pe,pe=A.length;if(!A.every(function(ke){return typeof ke=="string"}))return cn(p,Vl);function Ce(ke){B=ke==="next"?function(Fe){return Fe.toUpperCase()}:function(Fe){return Fe.toLowerCase()},G=ke==="next"?function(Fe){return Fe.toLowerCase()}:function(Fe){return Fe.toUpperCase()},oe=ke==="next"?Ss:eo;var Ae=A.map(function(Fe){return{lower:G(Fe),upper:B(Fe)}}).sort(function(Fe,De){return oe(Fe.lower,De.lower)});he=Ae.map(function(Fe){return Fe.upper}),ye=Ae.map(function(Fe){return Fe.lower}),Pe=(ge=ke)==="next"?"":O}Ce("next"),p=new p.Collection(p,function(){return Xi(he[0],ye[pe-1]+O)}),p._ondirectionchange=function(ke){Ce(ke)};var Ne=0;return p._addAlgorithm(function(ke,Ae,Fe){var De=ke.key;if(typeof De!="string")return!1;var qe=G(De);if(y(qe,ye,Ne))return!0;for(var Ke=null,Xe=Ne;Xe<pe;++Xe){var ct=function(vt,lt,ut,mt,nt,ft){for(var Lt=Math.min(vt.length,mt.length),Ct=-1,$t=0;$t<Lt;++$t){var bn=lt[$t];if(bn!==mt[$t])return nt(vt[$t],ut[$t])<0?vt.substr(0,$t)+ut[$t]+ut.substr($t+1):nt(vt[$t],mt[$t])<0?vt.substr(0,$t)+mt[$t]+ut.substr($t+1):0<=Ct?vt.substr(0,Ct)+lt[Ct]+ut.substr(Ct+1):null;nt(vt[$t],bn)<0&&(Ct=$t)}return Lt<mt.length&&ft==="next"?vt+ut.substr(vt.length):Lt<vt.length&&ft==="prev"?vt.substr(0,ut.length):Ct<0?null:vt.substr(0,Ct)+mt[Ct]+ut.substr(Ct+1)}(De,qe,he[Xe],ye[Xe],oe,ge);ct===null&&Ke===null?Ne=Xe+1:(Ke===null||0<oe(Ke,ct))&&(Ke=ct)}return Ae(Ke!==null?function(){ke.continue(Ke+Pe)}:Fe),!1}),p}function Xi(p,y,A,O){return{type:2,lower:p,upper:y,lowerOpen:A,upperOpen:O}}function sl(p){return{type:1,lower:p,upper:p}}var Vt=(Object.defineProperty(Br.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Br.prototype.between=function(p,y,A,O){A=A!==!1,O=O===!0;try{return 0<this._cmp(p,y)||this._cmp(p,y)===0&&(A||O)&&(!A||!O)?js(this):new this.Collection(this,function(){return Xi(p,y,!A,!O)})}catch{return cn(this,Ri)}},Br.prototype.equals=function(p){return p==null?cn(this,Ri):new this.Collection(this,function(){return sl(p)})},Br.prototype.above=function(p){return p==null?cn(this,Ri):new this.Collection(this,function(){return Xi(p,void 0,!0)})},Br.prototype.aboveOrEqual=function(p){return p==null?cn(this,Ri):new this.Collection(this,function(){return Xi(p,void 0,!1)})},Br.prototype.below=function(p){return p==null?cn(this,Ri):new this.Collection(this,function(){return Xi(void 0,p,!1,!0)})},Br.prototype.belowOrEqual=function(p){return p==null?cn(this,Ri):new this.Collection(this,function(){return Xi(void 0,p)})},Br.prototype.startsWith=function(p){return typeof p!="string"?cn(this,Vl):this.between(p,p+Yi,!0,!0)},Br.prototype.startsWithIgnoreCase=function(p){return p===""?this.startsWith(p):Qr(this,function(y,A){return y.indexOf(A[0])===0},[p],Yi)},Br.prototype.equalsIgnoreCase=function(p){return Qr(this,function(y,A){return y===A[0]},[p],"")},Br.prototype.anyOfIgnoreCase=function(){var p=ae.apply(J,arguments);return p.length===0?js(this):Qr(this,function(y,A){return A.indexOf(y)!==-1},p,"")},Br.prototype.startsWithAnyOfIgnoreCase=function(){var p=ae.apply(J,arguments);return p.length===0?js(this):Qr(this,function(y,A){return A.some(function(O){return y.indexOf(O)===0})},p,Yi)},Br.prototype.anyOf=function(){var p=this,y=ae.apply(J,arguments),A=this._cmp;try{y.sort(A)}catch{return cn(this,Ri)}if(y.length===0)return js(this);var O=new this.Collection(this,function(){return Xi(y[0],y[y.length-1])});O._ondirectionchange=function(G){A=G==="next"?p._ascending:p._descending,y.sort(A)};var B=0;return O._addAlgorithm(function(G,oe,he){for(var ye=G.key;0<A(ye,y[B]);)if(++B===y.length)return oe(he),!1;return A(ye,y[B])===0||(oe(function(){G.continue(y[B])}),!1)}),O},Br.prototype.notEqual=function(p){return this.inAnyRange([[-1/0,p],[p,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Br.prototype.noneOf=function(){var p=ae.apply(J,arguments);if(p.length===0)return new this.Collection(this);try{p.sort(this._ascending)}catch{return cn(this,Ri)}var y=p.reduce(function(A,O){return A?A.concat([[A[A.length-1][1],O]]):[[-1/0,O]]},null);return y.push([p[p.length-1],this.db._maxKey]),this.inAnyRange(y,{includeLowers:!1,includeUppers:!1})},Br.prototype.inAnyRange=function(De,y){var A=this,O=this._cmp,B=this._ascending,G=this._descending,oe=this._min,he=this._max;if(De.length===0)return js(this);if(!De.every(function(qe){return qe[0]!==void 0&&qe[1]!==void 0&&B(qe[0],qe[1])<=0}))return cn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",se.InvalidArgument);var ye=!y||y.includeLowers!==!1,ge=y&&y.includeUppers===!0,Pe,pe=B;function Ce(qe,Ke){return pe(qe[0],Ke[0])}try{(Pe=De.reduce(function(qe,Ke){for(var Xe=0,ct=qe.length;Xe<ct;++Xe){var vt=qe[Xe];if(O(Ke[0],vt[1])<0&&0<O(Ke[1],vt[0])){vt[0]=oe(vt[0],Ke[0]),vt[1]=he(vt[1],Ke[1]);break}}return Xe===ct&&qe.push(Ke),qe},[])).sort(Ce)}catch{return cn(this,Ri)}var Ne=0,ke=ge?function(qe){return 0<B(qe,Pe[Ne][1])}:function(qe){return 0<=B(qe,Pe[Ne][1])},Ae=ye?function(qe){return 0<G(qe,Pe[Ne][0])}:function(qe){return 0<=G(qe,Pe[Ne][0])},Fe=ke,De=new this.Collection(this,function(){return Xi(Pe[0][0],Pe[Pe.length-1][1],!ye,!ge)});return De._ondirectionchange=function(qe){pe=qe==="next"?(Fe=ke,B):(Fe=Ae,G),Pe.sort(Ce)},De._addAlgorithm(function(qe,Ke,Xe){for(var ct,vt=qe.key;Fe(vt);)if(++Ne===Pe.length)return Ke(Xe),!1;return!ke(ct=vt)&&!Ae(ct)||(A._cmp(vt,Pe[Ne][1])===0||A._cmp(vt,Pe[Ne][0])===0||Ke(function(){pe===B?qe.continue(Pe[Ne][0]):qe.continue(Pe[Ne][1])}),!1)}),De},Br.prototype.startsWithAnyOf=function(){var p=ae.apply(J,arguments);return p.every(function(y){return typeof y=="string"})?p.length===0?js(this):this.inAnyRange(p.map(function(y){return[y,y+Yi]})):cn(this,"startsWithAnyOf() only works with strings")},Br);function Br(){}function vi(p){return sr(function(y){return Mn(y),p(y.target.error),!1})}function Mn(p){p.stopPropagation&&p.stopPropagation(),p.preventDefault&&p.preventDefault()}var Ys="storagemutated",to="x-storagemutated-1",oi=un(null,Ys),al=(yi.prototype._lock=function(){return T(!gt.global),++this._reculock,this._reculock!==1||gt.global||(gt.lockOwnerFor=this),this},yi.prototype._unlock=function(){if(T(!gt.global),--this._reculock==0)for(gt.global||(gt.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var p=this._blockedFuncs.shift();try{mi(p[1],p[0])}catch{}}return this},yi.prototype._locked=function(){return this._reculock&&gt.lockOwnerFor!==this},yi.prototype.create=function(p){var y=this;if(!this.mode)return this;var A=this.db.idbdb,O=this.db._state.dbOpenError;if(T(!this.idbtrans),!p&&!A)switch(O&&O.name){case"DatabaseClosedError":throw new se.DatabaseClosed(O);case"MissingAPIError":throw new se.MissingAPI(O.message,O);default:throw new se.OpenFailed(O)}if(!this.active)throw new se.TransactionInactive;return T(this._completion._state===null),(p=this.idbtrans=p||(this.db.core||A).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=sr(function(B){Mn(B),y._reject(p.error)}),p.onabort=sr(function(B){Mn(B),y.active&&y._reject(new se.Abort(p.error)),y.active=!1,y.on("abort").fire(B)}),p.oncomplete=sr(function(){y.active=!1,y._resolve(),"mutatedParts"in p&&oi.storagemutated.fire(p.mutatedParts)}),this},yi.prototype._promise=function(p,y,A){var O=this;if(p==="readwrite"&&this.mode!=="readwrite")return yr(new se.ReadOnly("Transaction is readonly"));if(!this.active)return yr(new se.TransactionInactive);if(this._locked())return new ot(function(G,oe){O._blockedFuncs.push([function(){O._promise(p,y,A).then(G,oe)},gt])});if(A)return on(function(){var G=new ot(function(oe,he){O._lock();var ye=y(oe,he,O);ye&&ye.then&&ye.then(oe,he)});return G.finally(function(){return O._unlock()}),G._lib=!0,G});var B=new ot(function(G,oe){var he=y(G,oe,O);he&&he.then&&he.then(G,oe)});return B._lib=!0,B},yi.prototype._root=function(){return this.parent?this.parent._root():this},yi.prototype.waitFor=function(p){var y,A=this._root(),O=ot.resolve(p);A._waitingFor?A._waitingFor=A._waitingFor.then(function(){return O}):(A._waitingFor=O,A._waitingQueue=[],y=A.idbtrans.objectStore(A.storeNames[0]),function G(){for(++A._spinCount;A._waitingQueue.length;)A._waitingQueue.shift()();A._waitingFor&&(y.get(-1/0).onsuccess=G)}());var B=A._waitingFor;return new ot(function(G,oe){O.then(function(he){return A._waitingQueue.push(sr(G.bind(null,he)))},function(he){return A._waitingQueue.push(sr(oe.bind(null,he)))}).finally(function(){A._waitingFor===B&&(A._waitingFor=null)})})},yi.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new se.Abort))},yi.prototype.table=function(p){var y=this._memoizedTables||(this._memoizedTables={});if(h(y,p))return y[p];var A=this.schema[p];if(!A)throw new se.NotFound("Table "+p+" not part of transaction");return A=new this.db.Table(p,A,this),A.core=this.db.core.table(p),y[p]=A},yi);function yi(){}function ol(p,y,A,O,B,G,oe,he){return{name:p,keyPath:y,unique:A,multi:O,auto:B,compound:G,src:(A&&!oe?"&":"")+(O?"*":"")+(B?"++":"")+Wl(y),type:he}}function Wl(p){return typeof p=="string"?p:p?"["+[].join.call(p,"+")+"]":""}function xa(p,y,A){return{name:p,primKey:y,indexes:A,mappedClass:null,idxByName:(O=function(B){return[B.name,B]},A.reduce(function(B,G,oe){return oe=O(G,oe),oe&&(B[oe[0]]=oe[1]),B},{}))};var O}var Di=function(p){try{return p.only([[]]),Di=function(){return[[]]},[[]]}catch{return Di=function(){return Yi},Yi}};function Zi(p){return p==null?function(){}:typeof p=="string"?(y=p).split(".").length===1?function(A){return A[y]}:function(A){return U(A,y)}:function(A){return U(A,p)};var y}function Kl(p){return[].slice.call(p)}var ba=0;function _s(p){return p==null?":id":typeof p=="string"?p:"[".concat(p.join("+"),"]")}function ro(p,y,ye){function O(Fe){if(Fe.type===3)return null;if(Fe.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var Ne=Fe.lower,ke=Fe.upper,Ae=Fe.lowerOpen,Fe=Fe.upperOpen;return Ne===void 0?ke===void 0?null:y.upperBound(ke,!!Fe):ke===void 0?y.lowerBound(Ne,!!Ae):y.bound(Ne,ke,!!Ae,!!Fe)}function B(Ce){var Ne,ke=Ce.name;return{name:ke,schema:Ce,mutate:function(Ae){var Fe=Ae.trans,De=Ae.type,qe=Ae.keys,Ke=Ae.values,Xe=Ae.range;return new Promise(function(ct,vt){ct=sr(ct);var lt=Fe.objectStore(ke),ut=lt.keyPath==null,mt=De==="put"||De==="add";if(!mt&&De!=="delete"&&De!=="deleteRange")throw new Error("Invalid operation type: "+De);var nt,ft=(qe||Ke||{length:1}).length;if(qe&&Ke&&qe.length!==Ke.length)throw new Error("Given keys array must have same length as given values array.");if(ft===0)return ct({numFailures:0,failures:{},results:[],lastResult:void 0});function Lt(hr){++bn,Mn(hr)}var Ct=[],$t=[],bn=0;if(De==="deleteRange"){if(Xe.type===4)return ct({numFailures:bn,failures:$t,results:[],lastResult:void 0});Xe.type===3?Ct.push(nt=lt.clear()):Ct.push(nt=lt.delete(O(Xe)))}else{var ut=mt?ut?[Ke,qe]:[Ke,null]:[qe,null],Mt=ut[0],Yr=ut[1];if(mt)for(var dn=0;dn<ft;++dn)Ct.push(nt=Yr&&Yr[dn]!==void 0?lt[De](Mt[dn],Yr[dn]):lt[De](Mt[dn])),nt.onerror=Lt;else for(dn=0;dn<ft;++dn)Ct.push(nt=lt[De](Mt[dn])),nt.onerror=Lt}function La(hr){hr=hr.target.result,Ct.forEach(function(hn,fo){return hn.error!=null&&($t[fo]=hn.error)}),ct({numFailures:bn,failures:$t,results:De==="delete"?qe:Ct.map(function(hn){return hn.result}),lastResult:hr})}nt.onerror=function(hr){Lt(hr),La(hr)},nt.onsuccess=La})},getMany:function(Ae){var Fe=Ae.trans,De=Ae.keys;return new Promise(function(qe,Ke){qe=sr(qe);for(var Xe,ct=Fe.objectStore(ke),vt=De.length,lt=new Array(vt),ut=0,mt=0,nt=function(Ct){Ct=Ct.target,lt[Ct._pos]=Ct.result,++mt===ut&&qe(lt)},ft=vi(Ke),Lt=0;Lt<vt;++Lt)De[Lt]!=null&&((Xe=ct.get(De[Lt]))._pos=Lt,Xe.onsuccess=nt,Xe.onerror=ft,++ut);ut===0&&qe(lt)})},get:function(Ae){var Fe=Ae.trans,De=Ae.key;return new Promise(function(qe,Ke){qe=sr(qe);var Xe=Fe.objectStore(ke).get(De);Xe.onsuccess=function(ct){return qe(ct.target.result)},Xe.onerror=vi(Ke)})},query:(Ne=ge,function(Ae){return new Promise(function(Fe,De){Fe=sr(Fe);var qe,Ke,Xe,ut=Ae.trans,ct=Ae.values,vt=Ae.limit,nt=Ae.query,lt=vt===1/0?void 0:vt,mt=nt.index,nt=nt.range,ut=ut.objectStore(ke),mt=mt.isPrimaryKey?ut:ut.index(mt.name),nt=O(nt);if(vt===0)return Fe({result:[]});Ne?((lt=ct?mt.getAll(nt,lt):mt.getAllKeys(nt,lt)).onsuccess=function(ft){return Fe({result:ft.target.result})},lt.onerror=vi(De)):(qe=0,Ke=!ct&&"openKeyCursor"in mt?mt.openKeyCursor(nt):mt.openCursor(nt),Xe=[],Ke.onsuccess=function(ft){var Lt=Ke.result;return Lt?(Xe.push(ct?Lt.value:Lt.primaryKey),++qe===vt?Fe({result:Xe}):void Lt.continue()):Fe({result:Xe})},Ke.onerror=vi(De))})}),openCursor:function(Ae){var Fe=Ae.trans,De=Ae.values,qe=Ae.query,Ke=Ae.reverse,Xe=Ae.unique;return new Promise(function(ct,vt){ct=sr(ct);var mt=qe.index,lt=qe.range,ut=Fe.objectStore(ke),ut=mt.isPrimaryKey?ut:ut.index(mt.name),mt=Ke?Xe?"prevunique":"prev":Xe?"nextunique":"next",nt=!De&&"openKeyCursor"in ut?ut.openKeyCursor(O(lt),mt):ut.openCursor(O(lt),mt);nt.onerror=vi(vt),nt.onsuccess=sr(function(ft){var Lt,Ct,$t,bn,Mt=nt.result;Mt?(Mt.___id=++ba,Mt.done=!1,Lt=Mt.continue.bind(Mt),Ct=(Ct=Mt.continuePrimaryKey)&&Ct.bind(Mt),$t=Mt.advance.bind(Mt),bn=function(){throw new Error("Cursor not stopped")},Mt.trans=Fe,Mt.stop=Mt.continue=Mt.continuePrimaryKey=Mt.advance=function(){throw new Error("Cursor not started")},Mt.fail=sr(vt),Mt.next=function(){var Yr=this,dn=1;return this.start(function(){return dn--?Yr.continue():Yr.stop()}).then(function(){return Yr})},Mt.start=function(Yr){function dn(){if(nt.result)try{Yr()}catch(hr){Mt.fail(hr)}else Mt.done=!0,Mt.start=function(){throw new Error("Cursor behind last entry")},Mt.stop()}var La=new Promise(function(hr,hn){hr=sr(hr),nt.onerror=vi(hn),Mt.fail=hn,Mt.stop=function(fo){Mt.stop=Mt.continue=Mt.continuePrimaryKey=Mt.advance=bn,hr(fo)}});return nt.onsuccess=sr(function(hr){nt.onsuccess=dn,dn()}),Mt.continue=Lt,Mt.continuePrimaryKey=Ct,Mt.advance=$t,dn(),La},ct(Mt)):ct(null)},vt)})},count:function(Ae){var Fe=Ae.query,De=Ae.trans,qe=Fe.index,Ke=Fe.range;return new Promise(function(Xe,ct){var vt=De.objectStore(ke),lt=qe.isPrimaryKey?vt:vt.index(qe.name),vt=O(Ke),lt=vt?lt.count(vt):lt.count();lt.onsuccess=sr(function(ut){return Xe(ut.target.result)}),lt.onerror=vi(ct)})}}}var G,oe,he,Pe=(oe=ye,he=Kl((G=p).objectStoreNames),{schema:{name:G.name,tables:he.map(function(Ce){return oe.objectStore(Ce)}).map(function(Ce){var Ne=Ce.keyPath,Fe=Ce.autoIncrement,ke=o(Ne),Ae={},Fe={name:Ce.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Ne==null,compound:ke,keyPath:Ne,autoIncrement:Fe,unique:!0,extractKey:Zi(Ne)},indexes:Kl(Ce.indexNames).map(function(De){return Ce.index(De)}).map(function(Xe){var qe=Xe.name,Ke=Xe.unique,ct=Xe.multiEntry,Xe=Xe.keyPath,ct={name:qe,compound:o(Xe),keyPath:Xe,unique:Ke,multiEntry:ct,extractKey:Zi(Xe)};return Ae[_s(Xe)]=ct}),getIndexByKeyPath:function(De){return Ae[_s(De)]}};return Ae[":id"]=Fe.primaryKey,Ne!=null&&(Ae[_s(Ne)]=Fe.primaryKey),Fe})},hasGetAll:0<he.length&&"getAll"in oe.objectStore(he[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),ye=Pe.schema,ge=Pe.hasGetAll,Pe=ye.tables.map(B),pe={};return Pe.forEach(function(Ce){return pe[Ce.name]=Ce}),{stack:"dbcore",transaction:p.transaction.bind(p),table:function(Ce){if(!pe[Ce])throw new Error("Table '".concat(Ce,"' not found"));return pe[Ce]},MIN_KEY:-1/0,MAX_KEY:Di(y),schema:ye}}function Gl(p,y,A,O){var B=A.IDBKeyRange;return A.indexedDB,{dbcore:(O=ro(y,B,O),p.dbcore.reduce(function(G,oe){return oe=oe.create,n(n({},G),oe(G))},O))}}function wa(p,O){var A=O.db,O=Gl(p._middlewares,A,p._deps,O);p.core=O.dbcore,p.tables.forEach(function(B){var G=B.name;p.core.schema.tables.some(function(oe){return oe.name===G})&&(B.core=p.core.table(G),p[G]instanceof p.Table&&(p[G].core=B.core))})}function Na(p,y,A,O){A.forEach(function(B){var G=O[B];y.forEach(function(oe){var he=function ye(ge,Pe){return L(ge,Pe)||(ge=d(ge))&&ye(ge,Pe)}(oe,B);(!he||"value"in he&&he.value===void 0)&&(oe===p.Transaction.prototype||oe instanceof p.Transaction?w(oe,B,{get:function(){return this.table(B)},set:function(ye){g(this,B,{value:ye,writable:!0,configurable:!0,enumerable:!0})}}):oe[B]=new p.Table(B,G))})})}function no(p,y){y.forEach(function(A){for(var O in A)A[O]instanceof p.Table&&delete A[O]})}function es(p,y){return p._cfg.version-y._cfg.version}function As(p,y,A,O){var B=p._dbSchema;A.objectStoreNames.contains("$meta")&&!B.$meta&&(B.$meta=xa("$meta",Ql("")[0],[]),p._storeNames.push("$meta"));var G=p._createTransaction("readwrite",p._storeNames,B);G.create(A),G._completion.catch(O);var oe=G._reject.bind(G),he=gt.transless||gt;on(function(){return gt.trans=G,gt.transless=he,y!==0?(wa(p,A),ge=y,((ye=G).storeNames.includes("$meta")?ye.table("$meta").get("version").then(function(Pe){return Pe??ge}):ot.resolve(ge)).then(function(Pe){return Ce=Pe,Ne=G,ke=A,Ae=[],Pe=(pe=p)._versions,Fe=pe._dbSchema=so(0,pe.idbdb,ke),(Pe=Pe.filter(function(De){return De._cfg.version>=Ce})).length!==0?(Pe.forEach(function(De){Ae.push(function(){var qe=Fe,Ke=De._cfg.dbschema;ks(pe,qe,ke),ks(pe,Ke,ke),Fe=pe._dbSchema=Ke;var Xe=ts(qe,Ke);Xe.add.forEach(function(mt){li(ke,mt[0],mt[1].primKey,mt[1].indexes)}),Xe.change.forEach(function(mt){if(mt.recreate)throw new se.Upgrade("Not yet support for changing primary key");var nt=ke.objectStore(mt.name);mt.add.forEach(function(ft){return rs(nt,ft)}),mt.change.forEach(function(ft){nt.deleteIndex(ft.name),rs(nt,ft)}),mt.del.forEach(function(ft){return nt.deleteIndex(ft)})});var ct=De._cfg.contentUpgrade;if(ct&&De._cfg.version>Ce){wa(pe,ke),Ne._memoizedTables={};var vt=N(Ke);Xe.del.forEach(function(mt){vt[mt]=qe[mt]}),no(pe,[pe.Transaction.prototype]),Na(pe,[pe.Transaction.prototype],a(vt),vt),Ne.schema=vt;var lt,ut=be(ct);return ut&&jn(),Xe=ot.follow(function(){var mt;(lt=ct(Ne))&&ut&&(mt=ln.bind(null,null),lt.then(mt,mt))}),lt&&typeof lt.then=="function"?ot.resolve(lt):Xe.then(function(){return lt})}}),Ae.push(function(qe){var Ke,Xe,ct=De._cfg.dbschema;Ke=ct,Xe=qe,[].slice.call(Xe.db.objectStoreNames).forEach(function(vt){return Ke[vt]==null&&Xe.db.deleteObjectStore(vt)}),no(pe,[pe.Transaction.prototype]),Na(pe,[pe.Transaction.prototype],pe._storeNames,pe._dbSchema),Ne.schema=pe._dbSchema}),Ae.push(function(qe){pe.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(pe.idbdb.version/10)===De._cfg.version?(pe.idbdb.deleteObjectStore("$meta"),delete pe._dbSchema.$meta,pe._storeNames=pe._storeNames.filter(function(Ke){return Ke!=="$meta"})):qe.objectStore("$meta").put(De._cfg.version,"version"))})}),function De(){return Ae.length?ot.resolve(Ae.shift()(Ne.idbtrans)).then(De):ot.resolve()}().then(function(){io(Fe,ke)})):ot.resolve();var pe,Ce,Ne,ke,Ae,Fe}).catch(oe)):(a(B).forEach(function(Pe){li(A,Pe,B[Pe].primKey,B[Pe].indexes)}),wa(p,A),void ot.follow(function(){return p.on.populate.fire(G)}).catch(oe));var ye,ge})}function sc(p,y){io(p._dbSchema,y),y.db.version%10!=0||y.objectStoreNames.contains("$meta")||y.db.createObjectStore("$meta").add(Math.ceil(y.db.version/10-1),"version");var A=so(0,p.idbdb,y);ks(p,p._dbSchema,y);for(var O=0,B=ts(A,p._dbSchema).change;O<B.length;O++){var G=function(oe){if(oe.change.length||oe.recreate)return console.warn("Unable to patch indexes of table ".concat(oe.name," because it has changes on the type of index or primary key.")),{value:void 0};var he=y.objectStore(oe.name);oe.add.forEach(function(ye){de&&console.debug("Dexie upgrade patch: Creating missing index ".concat(oe.name,".").concat(ye.src)),rs(he,ye)})}(B[O]);if(typeof G=="object")return G.value}}function ts(p,y){var A,O={del:[],add:[],change:[]};for(A in p)y[A]||O.del.push(A);for(A in y){var B=p[A],G=y[A];if(B){var oe={name:A,def:G,recreate:!1,del:[],add:[],change:[]};if(""+(B.primKey.keyPath||"")!=""+(G.primKey.keyPath||"")||B.primKey.auto!==G.primKey.auto)oe.recreate=!0,O.change.push(oe);else{var he=B.idxByName,ye=G.idxByName,ge=void 0;for(ge in he)ye[ge]||oe.del.push(ge);for(ge in ye){var Pe=he[ge],pe=ye[ge];Pe?Pe.src!==pe.src&&oe.change.push(pe):oe.add.push(pe)}(0<oe.del.length||0<oe.add.length||0<oe.change.length)&&O.change.push(oe)}}else O.add.push([A,G])}return O}function li(p,y,A,O){var B=p.db.createObjectStore(y,A.keyPath?{keyPath:A.keyPath,autoIncrement:A.auto}:{autoIncrement:A.auto});return O.forEach(function(G){return rs(B,G)}),B}function io(p,y){a(p).forEach(function(A){y.db.objectStoreNames.contains(A)||(de&&console.debug("Dexie: Creating missing table",A),li(y,A,p[A].primKey,p[A].indexes))})}function rs(p,y){p.createIndex(y.name,y.keyPath,{unique:y.unique,multiEntry:y.multi})}function so(p,y,A){var O={};return S(y.objectStoreNames,0).forEach(function(B){for(var G=A.objectStore(B),oe=ol(Wl(ge=G.keyPath),ge||"",!0,!1,!!G.autoIncrement,ge&&typeof ge!="string",!0),he=[],ye=0;ye<G.indexNames.length;++ye){var Pe=G.index(G.indexNames[ye]),ge=Pe.keyPath,Pe=ol(Pe.name,ge,!!Pe.unique,!!Pe.multiEntry,!1,ge&&typeof ge!="string",!1);he.push(Pe)}O[B]=xa(B,oe,he)}),O}function ks(p,y,A){for(var O=A.db.objectStoreNames,B=0;B<O.length;++B){var G=O[B],oe=A.objectStore(G);p._hasGetAll="getAll"in oe;for(var he=0;he<oe.indexNames.length;++he){var ye=oe.indexNames[he],ge=oe.index(ye).keyPath,Pe=typeof ge=="string"?ge:"["+S(ge).join("+")+"]";!y[G]||(ge=y[G].idxByName[Pe])&&(ge.name=ye,delete y[G].idxByName[Pe],y[G].idxByName[ye]=ge)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(p._hasGetAll=!1)}function Ql(p){return p.split(",").map(function(y,A){var G=y.split(":"),O=(B=G[1])===null||B===void 0?void 0:B.trim(),B=(y=G[0].trim()).replace(/([&*]|\+\+)/g,""),G=/^\[/.test(B)?B.match(/^\[(.*)\]$/)[1].split("+"):B;return ol(B,G||null,/\&/.test(y),/\*/.test(y),/\+\+/.test(y),o(G),A===0,O)})}var ll=(ns.prototype._createTableSchema=xa,ns.prototype._parseIndexSyntax=Ql,ns.prototype._parseStoresSpec=function(p,y){var A=this;a(p).forEach(function(O){if(p[O]!==null){var B=A._parseIndexSyntax(p[O]),G=B.shift();if(!G)throw new se.Schema("Invalid schema for table "+O+": "+p[O]);if(G.unique=!0,G.multi)throw new se.Schema("Primary key cannot be multiEntry*");B.forEach(function(oe){if(oe.auto)throw new se.Schema("Only primary key can be marked as autoIncrement (++)");if(!oe.keyPath)throw new se.Schema("Index must have a name and cannot be an empty string")}),B=A._createTableSchema(O,G,B),y[O]=B}})},ns.prototype.stores=function(A){var y=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,A):A;var A=y._versions,O={},B={};return A.forEach(function(G){l(O,G._cfg.storesSource),B=G._cfg.dbschema={},G._parseStoresSpec(O,B)}),y._dbSchema=B,no(y,[y._allTables,y,y.Transaction.prototype]),Na(y,[y._allTables,y,y.Transaction.prototype,this._cfg.tables],a(B),B),y._storeNames=a(B),this},ns.prototype.upgrade=function(p){return this._cfg.contentUpgrade=ie(this._cfg.contentUpgrade||Re,p),this},ns);function ns(){}function ao(p,y){var A=p._dbNamesDB;return A||(A=p._dbNamesDB=new Bn(ma,{addons:[],indexedDB:p,IDBKeyRange:y})).version(1).stores({dbnames:"name"}),A.table("dbnames")}function Xs(p){return p&&typeof p.databases=="function"}function Sa(p){return on(function(){return gt.letThrough=!0,p()})}function ja(p){return!("from"in p)}var Jr=function(p,y){if(!this){var A=new Jr;return p&&"d"in p&&l(A,p),A}l(this,arguments.length?{d:1,from:p,to:1<arguments.length?y:p}:{d:0})};function _a(p,y,A){var O=Xt(y,A);if(!isNaN(O)){if(0<O)throw RangeError();if(ja(p))return l(p,{from:y,to:A,d:1});var B=p.l,O=p.r;if(Xt(A,p.from)<0)return B?_a(B,y,A):p.l={from:y,to:A,d:1,l:null,r:null},Ls(p);if(0<Xt(y,p.to))return O?_a(O,y,A):p.r={from:y,to:A,d:1,l:null,r:null},Ls(p);Xt(y,p.from)<0&&(p.from=y,p.l=null,p.d=O?O.d+1:1),0<Xt(A,p.to)&&(p.to=A,p.r=null,p.d=p.l?p.l.d+1:1),A=!p.r,B&&!p.l&&is(p,B),O&&A&&is(p,O)}}function is(p,y){ja(y)||function A(O,ye){var G=ye.from,oe=ye.to,he=ye.l,ye=ye.r;_a(O,G,oe),he&&A(O,he),ye&&A(O,ye)}(p,y)}function Zs(p,y){var A=ea(y),O=A.next();if(O.done)return!1;for(var B=O.value,G=ea(p),oe=G.next(B.from),he=oe.value;!O.done&&!oe.done;){if(Xt(he.from,B.to)<=0&&0<=Xt(he.to,B.from))return!0;Xt(B.from,he.from)<0?B=(O=A.next(he.from)).value:he=(oe=G.next(B.from)).value}return!1}function ea(p){var y=ja(p)?null:{s:0,n:p};return{next:function(A){for(var O=0<arguments.length;y;)switch(y.s){case 0:if(y.s=1,O)for(;y.n.l&&Xt(A,y.n.from)<0;)y={up:y,n:y.n.l,s:1};else for(;y.n.l;)y={up:y,n:y.n.l,s:1};case 1:if(y.s=2,!O||Xt(A,y.n.to)<=0)return{value:y.n,done:!1};case 2:if(y.n.r){y.s=3,y={up:y,n:y.n.r,s:0};continue}case 3:y=y.up}return{done:!0}}}}function Ls(p){var y,A,O=(((y=p.r)===null||y===void 0?void 0:y.d)||0)-(((A=p.l)===null||A===void 0?void 0:A.d)||0),B=1<O?"r":O<-1?"l":"";B&&(y=B=="r"?"l":"r",A=n({},p),O=p[B],p.from=O.from,p.to=O.to,p[B]=O[B],A[B]=O[y],(p[y]=A).d=oo(A)),p.d=oo(p)}function oo(A){var y=A.r,A=A.l;return(y?A?Math.max(y.d,A.d):y.d:A?A.d:0)+1}function b(p,y){return a(y).forEach(function(A){p[A]?is(p[A],y[A]):p[A]=function O(B){var G,oe,he={};for(G in B)h(B,G)&&(oe=B[G],he[G]=!oe||typeof oe!="object"||P.has(oe.constructor)?oe:O(oe));return he}(y[A])}),p}function H(p,y){return p.all||y.all||Object.keys(p).some(function(A){return y[A]&&Zs(y[A],p[A])})}m(Jr.prototype,((_n={add:function(p){return is(this,p),this},addKey:function(p){return _a(this,p,p),this},addKeys:function(p){var y=this;return p.forEach(function(A){return _a(y,A,A)}),this},hasKey:function(p){var y=ea(this).next(p).value;return y&&Xt(y.from,p)<=0&&0<=Xt(y.to,p)}})[q]=function(){return ea(this)},_n));var ce={},xe={},Te=!1;function Qe(p){b(xe,p),Te||(Te=!0,setTimeout(function(){Te=!1,at(xe,!(xe={}))},0))}function at(p,y){y===void 0&&(y=!1);var A=new Set;if(p.all)for(var O=0,B=Object.values(ce);O<B.length;O++)St(oe=B[O],p,A,y);else for(var G in p){var oe,he=/^idb\:\/\/(.*)\/(.*)\//.exec(G);he&&(G=he[1],he=he[2],(oe=ce["idb://".concat(G,"/").concat(he)])&&St(oe,p,A,y))}A.forEach(function(ye){return ye()})}function St(p,y,A,O){for(var B=[],G=0,oe=Object.entries(p.queries.query);G<oe.length;G++){for(var he=oe[G],ye=he[0],ge=[],Pe=0,pe=he[1];Pe<pe.length;Pe++){var Ce=pe[Pe];H(y,Ce.obsSet)?Ce.subscribers.forEach(function(Fe){return A.add(Fe)}):O&&ge.push(Ce)}O&&B.push([ye,ge])}if(O)for(var Ne=0,ke=B;Ne<ke.length;Ne++){var Ae=ke[Ne],ye=Ae[0],ge=Ae[1];p.queries.query[ye]=ge}}function Ft(p){var y=p._state,A=p._deps.indexedDB;if(y.isBeingOpened||p.idbdb)return y.dbReadyPromise.then(function(){return y.dbOpenError?yr(y.dbOpenError):p});y.isBeingOpened=!0,y.dbOpenError=null,y.openComplete=!1;var O=y.openCanceller,B=Math.round(10*p.verno),G=!1;function oe(){if(y.openCanceller!==O)throw new se.DatabaseClosed("db.open() was cancelled")}function he(){return new ot(function(Ce,Ne){if(oe(),!A)throw new se.MissingAPI;var ke=p.name,Ae=y.autoSchema||!B?A.open(ke):A.open(ke,B);if(!Ae)throw new se.MissingAPI;Ae.onerror=vi(Ne),Ae.onblocked=sr(p._fireOnBlocked),Ae.onupgradeneeded=sr(function(Fe){var De;Pe=Ae.transaction,y.autoSchema&&!p._options.allowEmptyDB?(Ae.onerror=Mn,Pe.abort(),Ae.result.close(),(De=A.deleteDatabase(ke)).onsuccess=De.onerror=sr(function(){Ne(new se.NoSuchDatabase("Database ".concat(ke," doesnt exist")))})):(Pe.onerror=vi(Ne),Fe=Fe.oldVersion>Math.pow(2,62)?0:Fe.oldVersion,pe=Fe<1,p.idbdb=Ae.result,G&&sc(p,Pe),As(p,Fe/10,Pe,Ne))},Ne),Ae.onsuccess=sr(function(){Pe=null;var Fe,De,qe,Ke,Xe,ct=p.idbdb=Ae.result,vt=S(ct.objectStoreNames);if(0<vt.length)try{var lt=ct.transaction((Ke=vt).length===1?Ke[0]:Ke,"readonly");if(y.autoSchema)De=ct,qe=lt,(Fe=p).verno=De.version/10,qe=Fe._dbSchema=so(0,De,qe),Fe._storeNames=S(De.objectStoreNames,0),Na(Fe,[Fe._allTables],a(qe),qe);else if(ks(p,p._dbSchema,lt),((Xe=ts(so(0,(Xe=p).idbdb,lt),Xe._dbSchema)).add.length||Xe.change.some(function(ut){return ut.add.length||ut.change.length}))&&!G)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ct.close(),B=ct.version+1,G=!0,Ce(he());wa(p,lt)}catch{}Ti.push(p),ct.onversionchange=sr(function(ut){y.vcFired=!0,p.on("versionchange").fire(ut)}),ct.onclose=sr(function(){p.close({disableAutoOpen:!1})}),pe&&(Xe=p._deps,lt=ke,ct=Xe.indexedDB,Xe=Xe.IDBKeyRange,Xs(ct)||lt===ma||ao(ct,Xe).put({name:lt}).catch(Re)),Ce()},Ne)}).catch(function(Ce){switch(Ce==null?void 0:Ce.name){case"UnknownError":if(0<y.PR1398_maxLoop)return y.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),he();break;case"VersionError":if(0<B)return B=0,he()}return ot.reject(Ce)})}var ye,ge=y.dbReadyResolve,Pe=null,pe=!1;return ot.race([O,(typeof navigator>"u"?ot.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Ce){function Ne(){return indexedDB.databases().finally(Ce)}ye=setInterval(Ne,100),Ne()}).finally(function(){return clearInterval(ye)}):Promise.resolve()).then(he)]).then(function(){return oe(),y.onReadyBeingFired=[],ot.resolve(Sa(function(){return p.on.ready.fire(p.vip)})).then(function Ce(){if(0<y.onReadyBeingFired.length){var Ne=y.onReadyBeingFired.reduce(ie,Re);return y.onReadyBeingFired=[],ot.resolve(Sa(function(){return Ne(p.vip)})).then(Ce)}})}).finally(function(){y.openCanceller===O&&(y.onReadyBeingFired=null,y.isBeingOpened=!1)}).catch(function(Ce){y.dbOpenError=Ce;try{Pe&&Pe.abort()}catch{}return O===y.openCanceller&&p._close(),yr(Ce)}).finally(function(){y.openComplete=!0,ge()}).then(function(){var Ce;return pe&&(Ce={},p.tables.forEach(function(Ne){Ne.schema.indexes.forEach(function(ke){ke.name&&(Ce["idb://".concat(p.name,"/").concat(Ne.name,"/").concat(ke.name)]=new Jr(-1/0,[[[]]]))}),Ce["idb://".concat(p.name,"/").concat(Ne.name,"/")]=Ce["idb://".concat(p.name,"/").concat(Ne.name,"/:dels")]=new Jr(-1/0,[[[]]])}),oi(Ys).fire(Ce),at(Ce,!0)),p})}function Ht(p){function y(G){return p.next(G)}var A=B(y),O=B(function(G){return p.throw(G)});function B(G){return function(ye){var he=G(ye),ye=he.value;return he.done?ye:ye&&typeof ye.then=="function"?ye.then(A,O):o(ye)?Promise.all(ye).then(A,O):A(ye)}}return B(y)()}function Bt(p,y,A){for(var O=o(p)?p.slice():[p],B=0;B<A;++B)O.push(y);return O}var rr={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(p){return n(n({},p),{table:function(y){var A=p.table(y),O=A.schema,B={},G=[];function oe(pe,Ce,Ne){var ke=_s(pe),Ae=B[ke]=B[ke]||[],Fe=pe==null?0:typeof pe=="string"?1:pe.length,De=0<Ce,De=n(n({},Ne),{name:De?"".concat(ke,"(virtual-from:").concat(Ne.name,")"):Ne.name,lowLevelIndex:Ne,isVirtual:De,keyTail:Ce,keyLength:Fe,extractKey:Zi(pe),unique:!De&&Ne.unique});return Ae.push(De),De.isPrimaryKey||G.push(De),1<Fe&&oe(Fe===2?pe[0]:pe.slice(0,Fe-1),Ce+1,Ne),Ae.sort(function(qe,Ke){return qe.keyTail-Ke.keyTail}),De}y=oe(O.primaryKey.keyPath,0,O.primaryKey),B[":id"]=[y];for(var he=0,ye=O.indexes;he<ye.length;he++){var ge=ye[he];oe(ge.keyPath,0,ge)}function Pe(pe){var Ce,Ne=pe.query.index;return Ne.isVirtual?n(n({},pe),{query:{index:Ne.lowLevelIndex,range:(Ce=pe.query.range,Ne=Ne.keyTail,{type:Ce.type===1?2:Ce.type,lower:Bt(Ce.lower,Ce.lowerOpen?p.MAX_KEY:p.MIN_KEY,Ne),lowerOpen:!0,upper:Bt(Ce.upper,Ce.upperOpen?p.MIN_KEY:p.MAX_KEY,Ne),upperOpen:!0})}}):pe}return n(n({},A),{schema:n(n({},O),{primaryKey:y,indexes:G,getIndexByKeyPath:function(pe){return(pe=B[_s(pe)])&&pe[0]}}),count:function(pe){return A.count(Pe(pe))},query:function(pe){return A.query(Pe(pe))},openCursor:function(pe){var Ce=pe.query.index,Ne=Ce.keyTail,ke=Ce.isVirtual,Ae=Ce.keyLength;return ke?A.openCursor(Pe(pe)).then(function(De){return De&&Fe(De)}):A.openCursor(pe);function Fe(De){return Object.create(De,{continue:{value:function(qe){qe!=null?De.continue(Bt(qe,pe.reverse?p.MAX_KEY:p.MIN_KEY,Ne)):pe.unique?De.continue(De.key.slice(0,Ae).concat(pe.reverse?p.MIN_KEY:p.MAX_KEY,Ne)):De.continue()}},continuePrimaryKey:{value:function(qe,Ke){De.continuePrimaryKey(Bt(qe,p.MAX_KEY,Ne),Ke)}},primaryKey:{get:function(){return De.primaryKey}},key:{get:function(){var qe=De.key;return Ae===1?qe[0]:qe.slice(0,Ae)}},value:{get:function(){return De.value}}})}}})}})}};function Nr(p,y,A,O){return A=A||{},O=O||"",a(p).forEach(function(B){var G,oe,he;h(y,B)?(G=p[B],oe=y[B],typeof G=="object"&&typeof oe=="object"&&G&&oe?(he=re(G))!==re(oe)?A[O+B]=y[B]:he==="Object"?Nr(G,oe,A,O+B+"."):G!==oe&&(A[O+B]=y[B]):G!==oe&&(A[O+B]=y[B])):A[O+B]=void 0}),a(y).forEach(function(B){h(p,B)||(A[O+B]=y[B])}),A}function _r(p,y){return y.type==="delete"?y.keys:y.keys||y.values.map(p.extractKey)}var Ur={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(p){return n(n({},p),{table:function(y){var A=p.table(y),O=A.schema.primaryKey;return n(n({},A),{mutate:function(B){var G=gt.trans,oe=G.table(y).hook,he=oe.deleting,ye=oe.creating,ge=oe.updating;switch(B.type){case"add":if(ye.fire===Re)break;return G._promise("readwrite",function(){return Pe(B)},!0);case"put":if(ye.fire===Re&&ge.fire===Re)break;return G._promise("readwrite",function(){return Pe(B)},!0);case"delete":if(he.fire===Re)break;return G._promise("readwrite",function(){return Pe(B)},!0);case"deleteRange":if(he.fire===Re)break;return G._promise("readwrite",function(){return function pe(Ce,Ne,ke){return A.query({trans:Ce,values:!1,query:{index:O,range:Ne},limit:ke}).then(function(Ae){var Fe=Ae.result;return Pe({type:"delete",keys:Fe,trans:Ce}).then(function(De){return 0<De.numFailures?Promise.reject(De.failures[0]):Fe.length<ke?{failures:[],numFailures:0,lastResult:void 0}:pe(Ce,n(n({},Ne),{lower:Fe[Fe.length-1],lowerOpen:!0}),ke)})})}(B.trans,B.range,1e4)},!0)}return A.mutate(B);function Pe(pe){var Ce,Ne,ke,Ae=gt.trans,Fe=pe.keys||_r(O,pe);if(!Fe)throw new Error("Keys missing");return(pe=pe.type==="add"||pe.type==="put"?n(n({},pe),{keys:Fe}):n({},pe)).type!=="delete"&&(pe.values=i([],pe.values)),pe.keys&&(pe.keys=i([],pe.keys)),Ce=A,ke=Fe,((Ne=pe).type==="add"?Promise.resolve([]):Ce.getMany({trans:Ne.trans,keys:ke,cache:"immutable"})).then(function(De){var qe=Fe.map(function(Ke,Xe){var ct,vt,lt,ut=De[Xe],mt={onerror:null,onsuccess:null};return pe.type==="delete"?he.fire.call(mt,Ke,ut,Ae):pe.type==="add"||ut===void 0?(ct=ye.fire.call(mt,Ke,pe.values[Xe],Ae),Ke==null&&ct!=null&&(pe.keys[Xe]=Ke=ct,O.outbound||$(pe.values[Xe],O.keyPath,Ke))):(ct=Nr(ut,pe.values[Xe]),(vt=ge.fire.call(mt,ct,Ke,ut,Ae))&&(lt=pe.values[Xe],Object.keys(vt).forEach(function(nt){h(lt,nt)?lt[nt]=vt[nt]:$(lt,nt,vt[nt])}))),mt});return A.mutate(pe).then(function(Ke){for(var Xe=Ke.failures,ct=Ke.results,vt=Ke.numFailures,Ke=Ke.lastResult,lt=0;lt<Fe.length;++lt){var ut=(ct||Fe)[lt],mt=qe[lt];ut==null?mt.onerror&&mt.onerror(Xe[lt]):mt.onsuccess&&mt.onsuccess(pe.type==="put"&&De[lt]?pe.values[lt]:ut)}return{failures:Xe,results:ct,numFailures:vt,lastResult:Ke}}).catch(function(Ke){return qe.forEach(function(Xe){return Xe.onerror&&Xe.onerror(Ke)}),Promise.reject(Ke)})})}}})}})}};function xn(p,y,A){try{if(!y||y.keys.length<p.length)return null;for(var O=[],B=0,G=0;B<y.keys.length&&G<p.length;++B)Xt(y.keys[B],p[G])===0&&(O.push(A?C(y.values[B]):y.values[B]),++G);return O.length===p.length?O:null}catch{return null}}var fn={stack:"dbcore",level:-1,create:function(p){return{table:function(y){var A=p.table(y);return n(n({},A),{getMany:function(O){if(!O.cache)return A.getMany(O);var B=xn(O.keys,O.trans._cache,O.cache==="clone");return B?ot.resolve(B):A.getMany(O).then(function(G){return O.trans._cache={keys:O.keys,values:O.cache==="clone"?C(G):G},G})},mutate:function(O){return O.type!=="add"&&(O.trans._cache=null),A.mutate(O)}})}}}};function xi(p,y){return p.trans.mode==="readonly"&&!!p.subscr&&!p.trans.explicit&&p.trans.db._options.cache!=="disabled"&&!y.schema.primaryKey.outbound}function zn(p,y){switch(p){case"query":return y.values&&!y.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var ss={stack:"dbcore",level:0,name:"Observability",create:function(p){var y=p.schema.name,A=new Jr(p.MIN_KEY,p.MAX_KEY);return n(n({},p),{transaction:function(O,B,G){if(gt.subscr&&B!=="readonly")throw new se.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(gt.querier));return p.transaction(O,B,G)},table:function(O){var B=p.table(O),G=B.schema,oe=G.primaryKey,pe=G.indexes,he=oe.extractKey,ye=oe.outbound,ge=oe.autoIncrement&&pe.filter(function(Ne){return Ne.compound&&Ne.keyPath.includes(oe.keyPath)}),Pe=n(n({},B),{mutate:function(Ne){function ke(nt){return nt="idb://".concat(y,"/").concat(O,"/").concat(nt),Ke[nt]||(Ke[nt]=new Jr)}var Ae,Fe,De,qe=Ne.trans,Ke=Ne.mutatedParts||(Ne.mutatedParts={}),Xe=ke(""),ct=ke(":dels"),vt=Ne.type,mt=Ne.type==="deleteRange"?[Ne.range]:Ne.type==="delete"?[Ne.keys]:Ne.values.length<50?[_r(oe,Ne).filter(function(nt){return nt}),Ne.values]:[],lt=mt[0],ut=mt[1],mt=Ne.trans._cache;return o(lt)?(Xe.addKeys(lt),(mt=vt==="delete"||lt.length===ut.length?xn(lt,mt):null)||ct.addKeys(lt),(mt||ut)&&(Ae=ke,Fe=mt,De=ut,G.indexes.forEach(function(nt){var ft=Ae(nt.name||"");function Lt($t){return $t!=null?nt.extractKey($t):null}function Ct($t){return nt.multiEntry&&o($t)?$t.forEach(function(bn){return ft.addKey(bn)}):ft.addKey($t)}(Fe||De).forEach(function($t,Yr){var Mt=Fe&&Lt(Fe[Yr]),Yr=De&&Lt(De[Yr]);Xt(Mt,Yr)!==0&&(Mt!=null&&Ct(Mt),Yr!=null&&Ct(Yr))})}))):lt?(ut={from:(ut=lt.lower)!==null&&ut!==void 0?ut:p.MIN_KEY,to:(ut=lt.upper)!==null&&ut!==void 0?ut:p.MAX_KEY},ct.add(ut),Xe.add(ut)):(Xe.add(A),ct.add(A),G.indexes.forEach(function(nt){return ke(nt.name).add(A)})),B.mutate(Ne).then(function(nt){return!lt||Ne.type!=="add"&&Ne.type!=="put"||(Xe.addKeys(nt.results),ge&&ge.forEach(function(ft){for(var Lt=Ne.values.map(function(Mt){return ft.extractKey(Mt)}),Ct=ft.keyPath.findIndex(function(Mt){return Mt===oe.keyPath}),$t=0,bn=nt.results.length;$t<bn;++$t)Lt[$t][Ct]=nt.results[$t];ke(ft.name).addKeys(Lt)})),qe.mutatedParts=b(qe.mutatedParts||{},Ke),nt})}}),pe=function(ke){var Ae=ke.query,ke=Ae.index,Ae=Ae.range;return[ke,new Jr((ke=Ae.lower)!==null&&ke!==void 0?ke:p.MIN_KEY,(Ae=Ae.upper)!==null&&Ae!==void 0?Ae:p.MAX_KEY)]},Ce={get:function(Ne){return[oe,new Jr(Ne.key)]},getMany:function(Ne){return[oe,new Jr().addKeys(Ne.keys)]},count:pe,query:pe,openCursor:pe};return a(Ce).forEach(function(Ne){Pe[Ne]=function(ke){var Ae=gt.subscr,Fe=!!Ae,De=xi(gt,B)&&zn(Ne,ke)?ke.obsSet={}:Ae;if(Fe){var qe=function(ut){return ut="idb://".concat(y,"/").concat(O,"/").concat(ut),De[ut]||(De[ut]=new Jr)},Ke=qe(""),Xe=qe(":dels"),Ae=Ce[Ne](ke),Fe=Ae[0],Ae=Ae[1];if((Ne==="query"&&Fe.isPrimaryKey&&!ke.values?Xe:qe(Fe.name||"")).add(Ae),!Fe.isPrimaryKey){if(Ne!=="count"){var ct=Ne==="query"&&ye&&ke.values&&B.query(n(n({},ke),{values:!1}));return B[Ne].apply(this,arguments).then(function(ut){if(Ne==="query"){if(ye&&ke.values)return ct.then(function(Lt){return Lt=Lt.result,Ke.addKeys(Lt),ut});var mt=ke.values?ut.result.map(he):ut.result;(ke.values?Ke:Xe).addKeys(mt)}else if(Ne==="openCursor"){var nt=ut,ft=ke.values;return nt&&Object.create(nt,{key:{get:function(){return Xe.addKey(nt.primaryKey),nt.key}},primaryKey:{get:function(){var Lt=nt.primaryKey;return Xe.addKey(Lt),Lt}},value:{get:function(){return ft&&Ke.addKey(nt.primaryKey),nt.value}}})}return ut})}Xe.add(A)}}return B[Ne].apply(this,arguments)}}),Pe}})}};function ul(p,y,A){if(A.numFailures===0)return y;if(y.type==="deleteRange")return null;var O=y.keys?y.keys.length:"values"in y&&y.values?y.values.length:1;return A.numFailures===O?null:(y=n({},y),o(y.keys)&&(y.keys=y.keys.filter(function(B,G){return!(G in A.failures)})),"values"in y&&o(y.values)&&(y.values=y.values.filter(function(B,G){return!(G in A.failures)})),y)}function Aa(p,y){return A=p,((O=y).lower===void 0||(O.lowerOpen?0<Xt(A,O.lower):0<=Xt(A,O.lower)))&&(p=p,(y=y).upper===void 0||(y.upperOpen?Xt(p,y.upper)<0:Xt(p,y.upper)<=0));var A,O}function lo(p,y,Ce,O,B,G){if(!Ce||Ce.length===0)return p;var oe=y.query.index,he=oe.multiEntry,ye=y.query.range,ge=O.schema.primaryKey.extractKey,Pe=oe.extractKey,pe=(oe.lowLevelIndex||oe).extractKey,Ce=Ce.reduce(function(Ne,ke){var Ae=Ne,Fe=[];if(ke.type==="add"||ke.type==="put")for(var De=new Jr,qe=ke.values.length-1;0<=qe;--qe){var Ke,Xe=ke.values[qe],ct=ge(Xe);De.hasKey(ct)||(Ke=Pe(Xe),(he&&o(Ke)?Ke.some(function(nt){return Aa(nt,ye)}):Aa(Ke,ye))&&(De.addKey(ct),Fe.push(Xe)))}switch(ke.type){case"add":var vt=new Jr().addKeys(y.values?Ne.map(function(ft){return ge(ft)}):Ne),Ae=Ne.concat(y.values?Fe.filter(function(ft){return ft=ge(ft),!vt.hasKey(ft)&&(vt.addKey(ft),!0)}):Fe.map(function(ft){return ge(ft)}).filter(function(ft){return!vt.hasKey(ft)&&(vt.addKey(ft),!0)}));break;case"put":var lt=new Jr().addKeys(ke.values.map(function(ft){return ge(ft)}));Ae=Ne.filter(function(ft){return!lt.hasKey(y.values?ge(ft):ft)}).concat(y.values?Fe:Fe.map(function(ft){return ge(ft)}));break;case"delete":var ut=new Jr().addKeys(ke.keys);Ae=Ne.filter(function(ft){return!ut.hasKey(y.values?ge(ft):ft)});break;case"deleteRange":var mt=ke.range;Ae=Ne.filter(function(ft){return!Aa(ge(ft),mt)})}return Ae},p);return Ce===p?p:(Ce.sort(function(Ne,ke){return Xt(pe(Ne),pe(ke))||Xt(ge(Ne),ge(ke))}),y.limit&&y.limit<1/0&&(Ce.length>y.limit?Ce.length=y.limit:p.length===y.limit&&Ce.length<y.limit&&(B.dirty=!0)),G?Object.freeze(Ce):Ce)}function ka(p,y){return Xt(p.lower,y.lower)===0&&Xt(p.upper,y.upper)===0&&!!p.lowerOpen==!!y.lowerOpen&&!!p.upperOpen==!!y.upperOpen}function cl(p,y){return function(A,O,B,G){if(A===void 0)return O!==void 0?-1:0;if(O===void 0)return 1;if((O=Xt(A,O))===0){if(B&&G)return 0;if(B)return 1;if(G)return-1}return O}(p.lower,y.lower,p.lowerOpen,y.lowerOpen)<=0&&0<=function(A,O,B,G){if(A===void 0)return O!==void 0?1:0;if(O===void 0)return-1;if((O=Xt(A,O))===0){if(B&&G)return 0;if(B)return-1;if(G)return 1}return O}(p.upper,y.upper,p.upperOpen,y.upperOpen)}function fl(p,y,A,O){p.subscribers.add(A),O.addEventListener("abort",function(){var B,G;p.subscribers.delete(A),p.subscribers.size===0&&(B=p,G=y,setTimeout(function(){B.subscribers.size===0&&Q(G,B)},3e3))})}var uo={stack:"dbcore",level:0,name:"Cache",create:function(p){var y=p.schema.name;return n(n({},p),{transaction:function(A,O,B){var G,oe,he=p.transaction(A,O,B);return O==="readwrite"&&(oe=(G=new AbortController).signal,B=function(ye){return function(){if(G.abort(),O==="readwrite"){for(var ge=new Set,Pe=0,pe=A;Pe<pe.length;Pe++){var Ce=pe[Pe],Ne=ce["idb://".concat(y,"/").concat(Ce)];if(Ne){var ke=p.table(Ce),Ae=Ne.optimisticOps.filter(function(ft){return ft.trans===he});if(he._explicit&&ye&&he.mutatedParts)for(var Fe=0,De=Object.values(Ne.queries.query);Fe<De.length;Fe++)for(var qe=0,Ke=(vt=De[Fe]).slice();qe<Ke.length;qe++)H((lt=Ke[qe]).obsSet,he.mutatedParts)&&(Q(vt,lt),lt.subscribers.forEach(function(ft){return ge.add(ft)}));else if(0<Ae.length){Ne.optimisticOps=Ne.optimisticOps.filter(function(ft){return ft.trans!==he});for(var Xe=0,ct=Object.values(Ne.queries.query);Xe<ct.length;Xe++)for(var vt,lt,ut,mt=0,nt=(vt=ct[Xe]).slice();mt<nt.length;mt++)(lt=nt[mt]).res!=null&&he.mutatedParts&&(ye&&!lt.dirty?(ut=Object.isFrozen(lt.res),ut=lo(lt.res,lt.req,Ae,ke,lt,ut),lt.dirty?(Q(vt,lt),lt.subscribers.forEach(function(ft){return ge.add(ft)})):ut!==lt.res&&(lt.res=ut,lt.promise=ot.resolve({result:ut}))):(lt.dirty&&Q(vt,lt),lt.subscribers.forEach(function(ft){return ge.add(ft)})))}}}ge.forEach(function(ft){return ft()})}}},he.addEventListener("abort",B(!1),{signal:oe}),he.addEventListener("error",B(!1),{signal:oe}),he.addEventListener("complete",B(!0),{signal:oe})),he},table:function(A){var O=p.table(A),B=O.schema.primaryKey;return n(n({},O),{mutate:function(G){var oe=gt.trans;if(B.outbound||oe.db._options.cache==="disabled"||oe.explicit||oe.idbtrans.mode!=="readwrite")return O.mutate(G);var he=ce["idb://".concat(y,"/").concat(A)];return he?(oe=O.mutate(G),G.type!=="add"&&G.type!=="put"||!(50<=G.values.length||_r(B,G).some(function(ye){return ye==null}))?(he.optimisticOps.push(G),G.mutatedParts&&Qe(G.mutatedParts),oe.then(function(ye){0<ye.numFailures&&(Q(he.optimisticOps,G),(ye=ul(0,G,ye))&&he.optimisticOps.push(ye),G.mutatedParts&&Qe(G.mutatedParts))}),oe.catch(function(){Q(he.optimisticOps,G),G.mutatedParts&&Qe(G.mutatedParts)})):oe.then(function(ye){var ge=ul(0,n(n({},G),{values:G.values.map(function(Pe,pe){var Ce;return ye.failures[pe]?Pe:(Pe=(Ce=B.keyPath)!==null&&Ce!==void 0&&Ce.includes(".")?C(Pe):n({},Pe),$(Pe,B.keyPath,ye.results[pe]),Pe)})}),ye);he.optimisticOps.push(ge),queueMicrotask(function(){return G.mutatedParts&&Qe(G.mutatedParts)})}),oe):O.mutate(G)},query:function(G){if(!xi(gt,O)||!zn("query",G))return O.query(G);var oe=((ge=gt.trans)===null||ge===void 0?void 0:ge.db._options.cache)==="immutable",pe=gt,he=pe.requery,ye=pe.signal,ge=function(ke,Ae,Fe,De){var qe=ce["idb://".concat(ke,"/").concat(Ae)];if(!qe)return[];if(!(Ae=qe.queries[Fe]))return[null,!1,qe,null];var Ke=Ae[(De.query?De.query.index.name:null)||""];if(!Ke)return[null,!1,qe,null];switch(Fe){case"query":var Xe=Ke.find(function(ct){return ct.req.limit===De.limit&&ct.req.values===De.values&&ka(ct.req.query.range,De.query.range)});return Xe?[Xe,!0,qe,Ke]:[Ke.find(function(ct){return("limit"in ct.req?ct.req.limit:1/0)>=De.limit&&(!De.values||ct.req.values)&&cl(ct.req.query.range,De.query.range)}),!1,qe,Ke];case"count":return Xe=Ke.find(function(ct){return ka(ct.req.query.range,De.query.range)}),[Xe,!!Xe,qe,Ke]}}(y,A,"query",G),Pe=ge[0],pe=ge[1],Ce=ge[2],Ne=ge[3];return Pe&&pe?Pe.obsSet=G.obsSet:(pe=O.query(G).then(function(ke){var Ae=ke.result;if(Pe&&(Pe.res=Ae),oe){for(var Fe=0,De=Ae.length;Fe<De;++Fe)Object.freeze(Ae[Fe]);Object.freeze(Ae)}else ke.result=C(Ae);return ke}).catch(function(ke){return Ne&&Pe&&Q(Ne,Pe),Promise.reject(ke)}),Pe={obsSet:G.obsSet,promise:pe,subscribers:new Set,type:"query",req:G,dirty:!1},Ne?Ne.push(Pe):(Ne=[Pe],(Ce=Ce||(ce["idb://".concat(y,"/").concat(A)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[G.query.index.name||""]=Ne)),fl(Pe,Ne,he,ye),Pe.promise.then(function(ke){return{result:lo(ke.result,G,Ce==null?void 0:Ce.optimisticOps,O,Pe,oe)}})}})}})}};function qr(p,y){return new Proxy(p,{get:function(A,O,B){return O==="db"?y:Reflect.get(A,O,B)}})}var Bn=(xr.prototype.version=function(p){if(isNaN(p)||p<.1)throw new se.Type("Given version is not a positive number");if(p=Math.round(10*p)/10,this.idbdb||this._state.isBeingOpened)throw new se.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,p);var y=this._versions,A=y.filter(function(O){return O._cfg.version===p})[0];return A||(A=new this.Version(p),y.push(A),y.sort(es),A.stores({}),this._state.autoSchema=!1,A)},xr.prototype._whenReady=function(p){var y=this;return this.idbdb&&(this._state.openComplete||gt.letThrough||this._vip)?p():new ot(function(A,O){if(y._state.openComplete)return O(new se.DatabaseClosed(y._state.dbOpenError));if(!y._state.isBeingOpened){if(!y._state.autoOpen)return void O(new se.DatabaseClosed);y.open().catch(Re)}y._state.dbReadyPromise.then(A,O)}).then(p)},xr.prototype.use=function(p){var y=p.stack,A=p.create,O=p.level,B=p.name;return B&&this.unuse({stack:y,name:B}),p=this._middlewares[y]||(this._middlewares[y]=[]),p.push({stack:y,create:A,level:O??10,name:B}),p.sort(function(G,oe){return G.level-oe.level}),this},xr.prototype.unuse=function(p){var y=p.stack,A=p.name,O=p.create;return y&&this._middlewares[y]&&(this._middlewares[y]=this._middlewares[y].filter(function(B){return O?B.create!==O:!!A&&B.name!==A})),this},xr.prototype.open=function(){var p=this;return mi(Wt,function(){return Ft(p)})},xr.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var p=this._state,y=Ti.indexOf(this);if(0<=y&&Ti.splice(y,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}p.isBeingOpened||(p.dbReadyPromise=new ot(function(A){p.dbReadyResolve=A}),p.openCanceller=new ot(function(A,O){p.cancelOpen=O}))},xr.prototype.close=function(A){var y=(A===void 0?{disableAutoOpen:!0}:A).disableAutoOpen,A=this._state;y?(A.isBeingOpened&&A.cancelOpen(new se.DatabaseClosed),this._close(),A.autoOpen=!1,A.dbOpenError=new se.DatabaseClosed):(this._close(),A.autoOpen=this._options.autoOpen||A.isBeingOpened,A.openComplete=!1,A.dbOpenError=null)},xr.prototype.delete=function(p){var y=this;p===void 0&&(p={disableAutoOpen:!0});var A=0<arguments.length&&typeof arguments[0]!="object",O=this._state;return new ot(function(B,G){function oe(){y.close(p);var he=y._deps.indexedDB.deleteDatabase(y.name);he.onsuccess=sr(function(){var ye,ge,Pe;ye=y._deps,ge=y.name,Pe=ye.indexedDB,ye=ye.IDBKeyRange,Xs(Pe)||ge===ma||ao(Pe,ye).delete(ge).catch(Re),B()}),he.onerror=vi(G),he.onblocked=y._fireOnBlocked}if(A)throw new se.InvalidArgument("Invalid closeOptions argument to db.delete()");O.isBeingOpened?O.dbReadyPromise.then(oe):oe()})},xr.prototype.backendDB=function(){return this.idbdb},xr.prototype.isOpen=function(){return this.idbdb!==null},xr.prototype.hasBeenClosed=function(){var p=this._state.dbOpenError;return p&&p.name==="DatabaseClosed"},xr.prototype.hasFailed=function(){return this._state.dbOpenError!==null},xr.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(xr.prototype,"tables",{get:function(){var p=this;return a(this._allTables).map(function(y){return p._allTables[y]})},enumerable:!1,configurable:!0}),xr.prototype.transaction=function(){var p=(function(y,A,O){var B=arguments.length;if(B<2)throw new se.InvalidArgument("Too few arguments");for(var G=new Array(B-1);--B;)G[B-1]=arguments[B];return O=G.pop(),[y,M(G),O]}).apply(this,arguments);return this._transaction.apply(this,p)},xr.prototype._transaction=function(p,y,A){var O=this,B=gt.trans;B&&B.db===this&&p.indexOf("!")===-1||(B=null);var G,oe,he=p.indexOf("?")!==-1;p=p.replace("!","").replace("?","");try{if(oe=y.map(function(ge){if(ge=ge instanceof O.Table?ge.name:ge,typeof ge!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return ge}),p=="r"||p===el)G=el;else{if(p!="rw"&&p!=ga)throw new se.InvalidArgument("Invalid transaction mode: "+p);G=ga}if(B){if(B.mode===el&&G===ga){if(!he)throw new se.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");B=null}B&&oe.forEach(function(ge){if(B&&B.storeNames.indexOf(ge)===-1){if(!he)throw new se.SubTransaction("Table "+ge+" not included in parent transaction.");B=null}}),he&&B&&!B.active&&(B=null)}}catch(ge){return B?B._promise(null,function(Pe,pe){pe(ge)}):yr(ge)}var ye=(function ge(Pe,pe,Ce,Ne,ke){return ot.resolve().then(function(){var Ae=gt.transless||gt,Fe=Pe._createTransaction(pe,Ce,Pe._dbSchema,Ne);if(Fe.explicit=!0,Ae={trans:Fe,transless:Ae},Ne)Fe.idbtrans=Ne.idbtrans;else try{Fe.create(),Fe.idbtrans._explicit=!0,Pe._state.PR1398_maxLoop=3}catch(Ke){return Ke.name===we.InvalidState&&Pe.isOpen()&&0<--Pe._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Pe.close({disableAutoOpen:!1}),Pe.open().then(function(){return ge(Pe,pe,Ce,null,ke)})):yr(Ke)}var De,qe=be(ke);return qe&&jn(),Ae=ot.follow(function(){var Ke;(De=ke.call(Fe,Fe))&&(qe?(Ke=ln.bind(null,null),De.then(Ke,Ke)):typeof De.next=="function"&&typeof De.throw=="function"&&(De=Ht(De)))},Ae),(De&&typeof De.then=="function"?ot.resolve(De).then(function(Ke){return Fe.active?Ke:yr(new se.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Ae.then(function(){return De})).then(function(Ke){return Ne&&Fe._resolve(),Fe._completion.then(function(){return Ke})}).catch(function(Ke){return Fe._reject(Ke),yr(Ke)})})}).bind(null,this,G,oe,B,A);return B?B._promise(G,ye,"lock"):gt.trans?mi(gt.transless,function(){return O._whenReady(ye)}):this._whenReady(ye)},xr.prototype.table=function(p){if(!h(this._allTables,p))throw new se.InvalidTable("Table ".concat(p," does not exist"));return this._allTables[p]},xr);function xr(p,y){var A=this;this._middlewares={},this.verno=0;var O=xr.dependencies;this._options=y=n({addons:xr.addons,autoOpen:!0,indexedDB:O.indexedDB,IDBKeyRange:O.IDBKeyRange,cache:"cloned"},y),this._deps={indexedDB:y.indexedDB,IDBKeyRange:y.IDBKeyRange},O=y.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var B,G,oe,he,ye,ge={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Re,dbReadyPromise:null,cancelOpen:Re,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:y.autoOpen};ge.dbReadyPromise=new ot(function(pe){ge.dbReadyResolve=pe}),ge.openCanceller=new ot(function(pe,Ce){ge.cancelOpen=Ce}),this._state=ge,this.name=p,this.on=un(this,"populate","blocked","versionchange","close",{ready:[ie,Re]}),this.once=function(pe,Ce){var Ne=function(){for(var ke=[],Ae=0;Ae<arguments.length;Ae++)ke[Ae]=arguments[Ae];A.on(pe).unsubscribe(Ne),Ce.apply(A,ke)};return A.on(pe,Ne)},this.on.ready.subscribe=F(this.on.ready.subscribe,function(pe){return function(Ce,Ne){xr.vip(function(){var ke,Ae=A._state;Ae.openComplete?(Ae.dbOpenError||ot.resolve().then(Ce),Ne&&pe(Ce)):Ae.onReadyBeingFired?(Ae.onReadyBeingFired.push(Ce),Ne&&pe(Ce)):(pe(Ce),ke=A,Ne||pe(function Fe(){ke.on.ready.unsubscribe(Ce),ke.on.ready.unsubscribe(Fe)}))})}}),this.Collection=(B=this,ws(ic.prototype,function(De,Fe){this.db=B;var Ne=tl,ke=null;if(Fe)try{Ne=Fe()}catch(qe){ke=qe}var Ae=De._ctx,Fe=Ae.table,De=Fe.hook.reading.fire;this._ctx={table:Fe,index:Ae.index,isPrimKey:!Ae.index||Fe.schema.primKey.keyPath&&Ae.index===Fe.schema.primKey.name,range:Ne,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:ke,or:Ae.or,valueMapper:De!==Ze?De:null}})),this.Table=(G=this,ws(gi.prototype,function(pe,Ce,Ne){this.db=G,this._tx=Ne,this.name=pe,this.schema=Ce,this.hook=G._allTables[pe]?G._allTables[pe].hook:un(null,{creating:[le,Re],reading:[dt,Ze],updating:[Je,Re],deleting:[xt,Re]})})),this.Transaction=(oe=this,ws(al.prototype,function(pe,Ce,Ne,ke,Ae){var Fe=this;pe!=="readonly"&&Ce.forEach(function(De){De=(De=Ne[De])===null||De===void 0?void 0:De.yProps,De&&(Ce=Ce.concat(De.map(function(qe){return qe.updatesTable})))}),this.db=oe,this.mode=pe,this.storeNames=Ce,this.schema=Ne,this.chromeTransactionDurability=ke,this.idbtrans=null,this.on=un(this,"complete","error","abort"),this.parent=Ae||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ot(function(De,qe){Fe._resolve=De,Fe._reject=qe}),this._completion.then(function(){Fe.active=!1,Fe.on.complete.fire()},function(De){var qe=Fe.active;return Fe.active=!1,Fe.on.error.fire(De),Fe.parent?Fe.parent._reject(De):qe&&Fe.idbtrans&&Fe.idbtrans.abort(),yr(De)})})),this.Version=(he=this,ws(ll.prototype,function(pe){this.db=he,this._cfg={version:pe,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(ye=this,ws(Vt.prototype,function(pe,Ce,Ne){if(this.db=ye,this._ctx={table:pe,index:Ce===":id"?null:Ce,or:Ne},this._cmp=this._ascending=Xt,this._descending=function(ke,Ae){return Xt(Ae,ke)},this._max=function(ke,Ae){return 0<Xt(ke,Ae)?ke:Ae},this._min=function(ke,Ae){return Xt(ke,Ae)<0?ke:Ae},this._IDBKeyRange=ye._deps.IDBKeyRange,!this._IDBKeyRange)throw new se.MissingAPI})),this.on("versionchange",function(pe){0<pe.newVersion?console.warn("Another connection wants to upgrade database '".concat(A.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(A.name,"'. Closing db now to resume the delete request.")),A.close({disableAutoOpen:!1})}),this.on("blocked",function(pe){!pe.newVersion||pe.newVersion<pe.oldVersion?console.warn("Dexie.delete('".concat(A.name,"') was blocked")):console.warn("Upgrade '".concat(A.name,"' blocked by other connection holding version ").concat(pe.oldVersion/10))}),this._maxKey=Di(y.IDBKeyRange),this._createTransaction=function(pe,Ce,Ne,ke){return new A.Transaction(pe,Ce,Ne,A._options.chromeTransactionDurability,ke)},this._fireOnBlocked=function(pe){A.on("blocked").fire(pe),Ti.filter(function(Ce){return Ce.name===A.name&&Ce!==A&&!Ce._state.vcFired}).map(function(Ce){return Ce.on("versionchange").fire(pe)})},this.use(fn),this.use(uo),this.use(ss),this.use(rr),this.use(Ur);var Pe=new Proxy(this,{get:function(pe,Ce,Ne){if(Ce==="_vip")return!0;if(Ce==="table")return function(Ae){return qr(A.table(Ae),Pe)};var ke=Reflect.get(pe,Ce,Ne);return ke instanceof gi?qr(ke,Pe):Ce==="tables"?ke.map(function(Ae){return qr(Ae,Pe)}):Ce==="_createTransaction"?function(){return qr(ke.apply(this,arguments),Pe)}:ke}});this.vip=Pe,O.forEach(function(pe){return pe(A)})}var Es,_n=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Un=(dl.prototype.subscribe=function(p,y,A){return this._subscribe(p&&typeof p!="function"?p:{next:p,error:y,complete:A})},dl.prototype[_n]=function(){return this},dl);function dl(p){this._subscribe=p}try{Es={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{Es={indexedDB:null,IDBKeyRange:null}}function co(p){var y,A=!1,O=new Un(function(B){var G=be(p),oe,he=!1,ye={},ge={},Pe={get closed(){return he},unsubscribe:function(){he||(he=!0,oe&&oe.abort(),pe&&oi.storagemutated.unsubscribe(Ne))}};B.start&&B.start(Pe);var pe=!1,Ce=function(){return Qs(ke)},Ne=function(Ae){b(ye,Ae),H(ge,ye)&&Ce()},ke=function(){var Ae,Fe,De;!he&&Es.indexedDB&&(ye={},Ae={},oe&&oe.abort(),oe=new AbortController,De=function(qe){var Ke=Lr();try{G&&jn();var Xe=on(p,qe);return Xe=G?Xe.finally(ln):Xe}finally{Ke&&Fn()}}(Fe={subscr:Ae,signal:oe.signal,requery:Ce,querier:p,trans:null}),Promise.resolve(De).then(function(qe){A=!0,y=qe,he||Fe.signal.aborted||(ye={},function(Ke){for(var Xe in Ke)if(h(Ke,Xe))return;return 1}(ge=Ae)||pe||(oi(Ys,Ne),pe=!0),Qs(function(){return!he&&B.next&&B.next(qe)}))},function(qe){A=!1,["DatabaseClosedError","AbortError"].includes(qe==null?void 0:qe.name)||he||Qs(function(){he||B.error&&B.error(qe)})}))};return setTimeout(Ce,0),Pe});return O.hasValue=function(){return A},O.getValue=function(){return y},O}var as=Bn;function qn(p){var y=zi;try{zi=!0,oi.storagemutated.fire(p),at(p,!0)}finally{zi=y}}m(as,n(n({},Oe),{delete:function(p){return new as(p,{addons:[]}).delete()},exists:function(p){return new as(p,{addons:[]}).open().then(function(y){return y.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(p){try{return y=as.dependencies,A=y.indexedDB,y=y.IDBKeyRange,(Xs(A)?Promise.resolve(A.databases()).then(function(O){return O.map(function(B){return B.name}).filter(function(B){return B!==ma})}):ao(A,y).toCollection().primaryKeys()).then(p)}catch{return yr(new se.MissingAPI)}var y,A},defineClass:function(){return function(p){l(this,p)}},ignoreTransaction:function(p){return gt.trans?mi(gt.transless,p):p()},vip:Sa,async:function(p){return function(){try{var y=Ht(p.apply(this,arguments));return y&&typeof y.then=="function"?y:ot.resolve(y)}catch(A){return yr(A)}}},spawn:function(p,y,A){try{var O=Ht(p.apply(A,y||[]));return O&&typeof O.then=="function"?O:ot.resolve(O)}catch(B){return yr(B)}},currentTransaction:{get:function(){return gt.trans||null}},waitFor:function(p,y){return y=ot.resolve(typeof p=="function"?as.ignoreTransaction(p):p).timeout(y||6e4),gt.trans?gt.trans.waitFor(y):y},Promise:ot,debug:{get:function(){return de},set:function(p){me(p)}},derive:_,extend:l,props:m,override:F,Events:un,on:oi,liveQuery:co,extendObservabilitySet:b,getByKeyPath:U,setByKeyPath:$,delByKeyPath:function(p,y){typeof y=="string"?$(p,y,void 0):"length"in y&&[].map.call(y,function(A){$(p,A,void 0)})},shallowClone:N,deepClone:C,getObjectDiff:Nr,cmp:Xt,asap:V,minKey:-1/0,addons:[],connections:Ti,errnames:we,dependencies:Es,cache:ce,semVer:"4.2.1",version:"4.2.1".split(".").map(function(p){return parseInt(p)}).reduce(function(p,y,A){return p+y/Math.pow(10,2*A)})})),as.maxKey=Di(as.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(oi(Ys,function(p){zi||(p=new CustomEvent(to,{detail:p}),zi=!0,dispatchEvent(p),zi=!1)}),addEventListener(to,function(p){p=p.detail,zi||qn(p)}));var Mi,zi=!1,hl=function(){};return typeof BroadcastChannel<"u"&&((hl=function(){(Mi=new BroadcastChannel(to)).onmessage=function(p){return p.data&&qn(p.data)}})(),typeof Mi.unref=="function"&&Mi.unref(),oi(Ys,function(p){zi||Mi.postMessage(p)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(p){if(!Bn.disableBfCache&&p.persisted){de&&console.debug("Dexie: handling persisted pagehide"),Mi!=null&&Mi.close();for(var y=0,A=Ti;y<A.length;y++)A[y].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(p){!Bn.disableBfCache&&p.persisted&&(de&&console.debug("Dexie: handling persisted pageshow"),hl(),qn({all:new Jr(-1/0,[[]])}))})),ot.rejectionMapper=function(p,y){return!p||p instanceof K||p instanceof TypeError||p instanceof SyntaxError||!p.name||!$e[p.name]?p:(y=new $e[p.name](y||p.message,p),"stack"in p&&w(y,"stack",{get:function(){return this.inner.stack}}),y)},me(de),n(Bn,Object.freeze({__proto__:null,Dexie:Bn,liveQuery:co,Entity:va,cmp:Xt,PropModification:Js,replacePrefix:function(p,y){return new Js({replacePrefix:[p,y]})},add:function(p){return new Js({add:p})},remove:function(p){return new Js({remove:p})},default:Bn,RangeSet:Jr,mergeRanges:is,rangesOverlap:Zs}),{default:Bn}),Bn})})(ub);var ij=ub.exports;const j1=hf(ij),x5=Symbol.for("Dexie"),Ku=globalThis[x5]||(globalThis[x5]=j1);if(j1.semVer!==Ku.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${j1.semVer} and ${Ku.semVer}`);const{liveQuery:bA,mergeRanges:wA,rangesOverlap:NA,RangeSet:SA,cmp:jA,Entity:_A,PropModification:AA,replacePrefix:kA,add:LA,remove:EA,DexieYProvider:CA}=Ku;class sj extends Ku{constructor(){super("MaintenanceDB");eu(this,"feuilles");eu(this,"monteurs");eu(this,"chantiers");eu(this,"syncQueue");this.version(1).stores({feuilles:"id, statut, monteurId, chantierId, syncStatus",monteurs:"id, nom, role",chantiers:"id, nom, actif",syncQueue:"++id, action, status, createdAt"})}}const Zr=new sj;function aj(e,t,r){var n,i;typeof e=="function"?(n=t||[],i=r):(n=[],i=t);var s=Zt.useRef({hasResult:!1,result:i,error:null}),a=Zt.useReducer(function(d){return d+1},0);a[0];var o=a[1],l=Zt.useMemo(function(){var d=typeof e=="function"?e():e;if(!d||typeof d.subscribe!="function")throw e===d?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!s.current.hasResult&&typeof window<"u"&&(typeof d.hasValue!="function"||d.hasValue()))if(typeof d.getValue=="function")s.current.result=d.getValue(),s.current.hasResult=!0;else{var f=d.subscribe(function(h){s.current.result=h,s.current.hasResult=!0});typeof f=="function"?f():f.unsubscribe()}return d},n);if(Zt.useDebugValue(s.current.result),Zt.useEffect(function(){var d=l.subscribe(function(f){var h=s.current;(h.error!==null||h.result!==f)&&(h.error=null,h.result=f,h.hasResult=!0,o())},function(f){var h=s.current;h.error!==f&&(h.error=f,o())});return typeof d=="function"?d:d.unsubscribe.bind(d)},n),s.current.error)throw s.current.error;return s.current.result}function oj(e,t,r){return aj(function(){return Ku.liveQuery(e)},[],r)}typeof FinalizationRegistry<"u"&&new FinalizationRegistry(function(e){var t=Ku.DexieYProvider;t&&t.release(e)});const lj=()=>{const e=nj(),[t,r]=_e.useState(!1),n=oj(()=>Zr.syncQueue.where("status").equals("PENDING").count());return _e.useEffect(()=>{if(e){r(!0);const i=setTimeout(()=>r(!1),3e3);return()=>clearTimeout(i)}},[e]),e?t?u.jsxs("div",{className:"bg-green-500 text-white px-4 py-2 flex items-center justify-center gap-2 text-sm font-medium transition-all",children:[u.jsx(tj,{size:16}),u.jsx("span",{children:"Connexion rtablie"})]}):e&&n!==void 0&&n>0?u.jsxs("div",{className:"bg-blue-500 text-white px-4 py-2 flex items-center justify-center gap-2 text-sm font-medium transition-all",children:[u.jsx(G8,{size:16,className:"animate-spin"}),u.jsxs("span",{children:["Synchronisation en cours (",n," restants)..."]})]}):null:u.jsxs("div",{className:"bg-red-500 text-white px-4 py-2 flex items-center justify-center gap-2 text-sm font-medium transition-all",children:[u.jsx(ej,{size:16}),u.jsx("span",{children:"Mode Hors-Ligne - Modifications sauvegardes localement"}),n!==void 0&&n>0&&u.jsxs("span",{className:"bg-red-700 px-2 py-0.5 rounded-full text-xs",children:[n," en attente"]})]})},uj=[{name:"Dashboard",href:"/dashboard",icon:W8,roles:["ADMIN","SUPERVISEUR","MONTEUR"]},{name:"Feuilles de travail",href:"/feuilles",icon:Wo,roles:["ADMIN","SUPERVISEUR","MONTEUR"]},{name:"Monteurs",href:"/monteurs",icon:ff,roles:["ADMIN","SUPERVISEUR"]},{name:"Chantiers",href:"/chantiers",icon:lf,roles:["ADMIN","SUPERVISEUR"]},{name:"Utilisateurs",href:"/users",icon:Z8,roles:["ADMIN"]},{name:"Paramtres",href:"/settings",icon:Q8,roles:["ADMIN"]}],cj=()=>{var d,f;const{user:e,logout:t}=hs(),{company:r,companyLogoUrl:n}=Wm(),i=Wa(),[s,a]=_e.useState(!1),o=uj.filter(h=>e&&h.roles.includes(e.role)),l=h=>{switch(h){case"ADMIN":return"bg-red-100 text-red-800";case"SUPERVISEUR":return"bg-blue-100 text-blue-800";case"MONTEUR":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return u.jsxs("div",{className:"min-h-screen bg-gray-100",children:[s&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden",onClick:()=>a(!1)}),u.jsx("aside",{className:`fixed top-0 left-0 z-30 h-full w-64 bg-white shadow-lg transform transition-transform duration-200 ease-in-out lg:translate-x-0 ${s?"translate-x-0":"-translate-x-full"}`,children:u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b",children:[n?u.jsx("img",{src:n,alt:(r==null?void 0:r.name)||"Logo entreprise",className:"h-10 w-auto object-contain max-w-[180px]",onError:h=>{var m;console.error("Erreur chargement logo sidebar:",n),h.currentTarget.style.display="none",(m=h.currentTarget.nextElementSibling)==null||m.classList.remove("hidden")}}):null,u.jsx("h1",{className:`text-xl font-bold text-gray-900 ${n?"hidden":""}`,children:(r==null?void 0:r.name)||"Maintenance"}),u.jsx("button",{onClick:()=>a(!1),className:"lg:hidden text-gray-500 hover:text-gray-700",children:u.jsx(Ma,{size:24})})]}),u.jsx("nav",{className:"flex-1 px-4 py-4 space-y-1 overflow-y-auto",children:o.map(h=>{const m=i.pathname===h.href;return u.jsxs(Dl,{to:h.href,onClick:()=>a(!1),className:`flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${m?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:[u.jsx(h.icon,{size:20}),u.jsx("span",{children:h.name})]},h.name)})}),u.jsxs("div",{className:"border-t p-4",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center text-white font-semibold",children:(d=e==null?void 0:e.email)==null?void 0:d.charAt(0).toUpperCase()}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:e!=null&&e.monteur?`${e.monteur.prenom} ${e.monteur.nom}`:e==null?void 0:e.email}),u.jsx("span",{className:`inline-block text-xs px-2 py-0.5 rounded-full ${l((e==null?void 0:e.role)||"")}`,children:e==null?void 0:e.role})]})]}),u.jsxs("button",{onClick:t,className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[u.jsx(ab,{size:18}),"Dconnexion"]}),u.jsxs("div",{className:"mt-2 text-[10px] text-gray-400 break-all",children:["Debug: ",n?"Logo OK":"Pas de logo"," (",(r==null?void 0:r.companyLogoUrl)||"null",")"]})]})]})}),u.jsxs("div",{className:"lg:pl-64",children:[u.jsx(lj,{}),u.jsxs("header",{className:"sticky top-0 z-10 bg-white shadow-sm h-16 flex items-center px-4",children:[u.jsx("button",{onClick:()=>a(!0),className:"lg:hidden text-gray-500 hover:text-gray-700 mr-4",children:u.jsx(K8,{size:24})}),u.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:((f=o.find(h=>h.href===i.pathname))==null?void 0:f.name)||"Dashboard"})]}),u.jsx("main",{className:"p-6",children:u.jsx(mN,{})})]})]})},cb=_e.createContext(void 0),Ul=()=>{const e=_e.useContext(cb);if(!e)throw new Error("useToast must be used within ToastProvider");return e},fj=({children:e})=>{const[t,r]=_e.useState([]),n=(s,a="success")=>{const o=Date.now().toString();r(l=>[...l,{id:o,message:s,type:a}])},i=s=>{r(a=>a.filter(o=>o.id!==s))};return u.jsxs(cb.Provider,{value:{showToast:n},children:[e,u.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:t.map(s=>u.jsx(dj,{toast:s,onClose:()=>i(s.id)},s.id))})]})},dj=({toast:e,onClose:t})=>{_e.useEffect(()=>{const i=setTimeout(t,4e3);return()=>clearTimeout(i)},[t]);const r={success:u.jsx(Mh,{className:"text-green-500",size:20}),error:u.jsx(Wu,{className:"text-red-500",size:20}),info:u.jsx(H8,{className:"text-blue-500",size:20})},n={success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",info:"bg-blue-50 border-blue-200"};return u.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-lg border shadow-lg ${n[e.type]} animate-slide-in`,children:[r[e.type],u.jsx("p",{className:"text-sm text-gray-700",children:e.message}),u.jsx("button",{onClick:t,className:"ml-2 text-gray-400 hover:text-gray-600",children:u.jsx(Ma,{size:16})})]})};var jf=e=>e.type==="checkbox",Sl=e=>e instanceof Date,Si=e=>e==null;const fb=e=>typeof e=="object";var vn=e=>!Si(e)&&!Array.isArray(e)&&fb(e)&&!Sl(e),hj=e=>vn(e)&&e.target?jf(e.target)?e.target.checked:e.target.value:e,pj=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,mj=(e,t)=>e.has(pj(t)),gj=e=>{const t=e.constructor&&e.constructor.prototype;return vn(t)&&t.hasOwnProperty("isPrototypeOf")},Ym=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Rr(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Ym&&(e instanceof Blob||n))&&(r||vn(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!gj(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=Rr(e[i]));else return e;return t}var Uh=e=>/^\w*$/.test(e),Pr=e=>e===void 0,qh=e=>Array.isArray(e)?e.filter(Boolean):[],Xm=e=>qh(e.replace(/["|']|\]/g,"").split(/\.|\[/)),_t=(e,t,r)=>{if(!t||!vn(e))return r;const n=(Uh(t)?[t]:Xm(t)).reduce((i,s)=>Si(i)?i:i[s],e);return Pr(n)||n===e?Pr(e[t])?r:e[t]:n},aa=e=>typeof e=="boolean",Ar=(e,t,r)=>{let n=-1;const i=Uh(t)?[t]:Xm(t),s=i.length,a=s-1;for(;++n<s;){const o=i[n];let l=r;if(n!==a){const d=e[o];l=vn(d)||Array.isArray(d)?d:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=l,e=e[o]}};const b5={BLUR:"blur",FOCUS_OUT:"focusout"},fs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Fa={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},db=Zt.createContext(null);db.displayName="HookFormContext";const vj=()=>Zt.useContext(db);var yj=(e,t,r,n=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const a=s;return t._proxyFormState[a]!==fs.all&&(t._proxyFormState[a]=!n||fs.all),e[a]}});return i};const hb=typeof window<"u"?Zt.useLayoutEffect:Zt.useEffect;var Vi=e=>typeof e=="string",xj=(e,t,r,n,i)=>Vi(e)?(n&&t.watch.add(e),_t(r,e,i)):Array.isArray(e)?e.map(s=>(n&&t.watch.add(s),_t(r,s))):(n&&(t.watchAll=!0),r),_1=e=>Si(e)||!fb(e);function Lo(e,t,r=new WeakSet){if(_1(e)||_1(t))return Object.is(e,t);if(Sl(e)&&Sl(t))return e.getTime()===t.getTime();const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const s of n){const a=e[s];if(!i.includes(s))return!1;if(s!=="ref"){const o=t[s];if(Sl(a)&&Sl(o)||vn(a)&&vn(o)||Array.isArray(a)&&Array.isArray(o)?!Lo(a,o,r):!Object.is(a,o))return!1}}return!0}var bj=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},Li=e=>Array.isArray(e)?e:[e],w5=()=>{let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}};function pb(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const i=e[n],s=t[n];if(i&&vn(i)&&s){const a=pb(i,s);vn(a)&&(r[n]=a)}else e[n]&&(r[n]=s)}return r}var ei=e=>vn(e)&&!Object.keys(e).length,Zm=e=>e.type==="file",Bs=e=>typeof e=="function",ah=e=>{if(!Ym)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},mb=e=>e.type==="select-multiple",e2=e=>e.type==="radio",wj=e=>e2(e)||jf(e),Qp=e=>ah(e)&&e.isConnected;function Nj(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Pr(e)?n++:e[t[n++]];return e}function Sj(e){for(const t in e)if(e.hasOwnProperty(t)&&!Pr(e[t]))return!1;return!0}function Xr(e,t){const r=Array.isArray(t)?t:Uh(t)?[t]:Xm(t),n=r.length===1?e:Nj(e,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(vn(n)&&ei(n)||Array.isArray(n)&&Sj(n))&&Xr(e,r.slice(0,-1)),e}var jj=e=>{for(const t in e)if(Bs(e[t]))return!0;return!1};function gb(e){return Array.isArray(e)||vn(e)&&!jj(e)}function A1(e,t={}){for(const r in e){const n=e[r];gb(n)?(t[r]=Array.isArray(n)?[]:{},A1(n,t[r])):Pr(n)||(t[r]=!0)}return t}function au(e,t,r){r||(r=A1(t));for(const n in e){const i=e[n];if(gb(i))Pr(t)||_1(r[n])?r[n]=A1(i,Array.isArray(i)?[]:{}):au(i,Si(t)?{}:t[n],r[n]);else{const s=t[n];r[n]=!Lo(i,s)}}return r}const N5={value:!1,isValid:!1},S5={value:!0,isValid:!0};var vb=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Pr(e[0].attributes.value)?Pr(e[0].value)||e[0].value===""?S5:{value:e[0].value,isValid:!0}:S5:N5}return N5},yb=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Pr(e)?e:t?e===""?NaN:e&&+e:r&&Vi(e)?new Date(e):n?n(e):e;const j5={isValid:!1,value:null};var xb=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,j5):j5;function _5(e){const t=e.ref;return Zm(t)?t.files:e2(t)?xb(e.refs).value:mb(t)?[...t.selectedOptions].map(({value:r})=>r):jf(t)?vb(e.refs).value:yb(Pr(t.value)?e.ref.value:t.value,e)}var _j=(e,t,r,n)=>{const i={};for(const s of e){const a=_t(t,s);a&&Ar(i,s,a._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},oh=e=>e instanceof RegExp,Sc=e=>Pr(e)?e:oh(e)?e.source:vn(e)?oh(e.value)?e.value.source:e.value:e,Nu=e=>({isOnSubmit:!e||e===fs.onSubmit,isOnBlur:e===fs.onBlur,isOnChange:e===fs.onChange,isOnAll:e===fs.all,isOnTouch:e===fs.onTouched});const A5="AsyncFunction";var Aj=e=>!!e&&!!e.validate&&!!(Bs(e.validate)&&e.validate.constructor.name===A5||vn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===A5)),kj=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),k1=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Fu=(e,t,r,n)=>{for(const i of r||Object.keys(e)){const s=_t(e,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&t(a.refs[0],i)&&!n)return!0;if(a.ref&&t(a.ref,a.name)&&!n)return!0;if(Fu(o,t))break}else if(vn(o)&&Fu(o,t))break}}};function k5(e,t,r){const n=_t(e,r);if(n||Uh(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),a=_t(t,s),o=_t(e,s);if(a&&!Array.isArray(a)&&r!==s)return{name:r};if(o&&o.type)return{name:s,error:o};if(o&&o.root&&o.root.type)return{name:`${s}.root`,error:o.root};i.pop()}return{name:r}}var Lj=(e,t,r,n)=>{r(e);const{name:i,...s}=e;return ei(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(a=>t[a]===(!n||fs.all))},Ej=(e,t,r)=>!e||!t||e===t||Li(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),Cj=(e,t,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:(r?n.isOnChange:i.isOnChange)?e:!0,Pj=(e,t)=>!qh(_t(e,t)).length&&Xr(e,t),bb=(e,t,r)=>{const n=Li(_t(e,r));return Ar(n,"root",t[r]),Ar(e,r,n),e};function L5(e,t,r="validate"){if(Vi(e)||Array.isArray(e)&&e.every(Vi)||aa(e)&&!e)return{type:r,message:Vi(e)?e:"",ref:t}}var ru=e=>vn(e)&&!oh(e)?e:{value:e,message:""},L1=async(e,t,r,n,i,s)=>{const{ref:a,refs:o,required:l,maxLength:d,minLength:f,min:h,max:m,pattern:g,validate:w,name:_,valueAsNumber:L,mount:x}=e._f,S=_t(r,_);if(!x||t.has(_))return{};const F=o?o[0]:a,T=E=>{i&&F.reportValidity&&(F.setCustomValidity(aa(E)?"":E||""),F.reportValidity())},V={},U=e2(a),$=jf(a),N=U||$,k=(L||Zm(a))&&Pr(a.value)&&Pr(S)||ah(a)&&a.value===""||S===""||Array.isArray(S)&&!S.length,M=bj.bind(null,_,n,V),P=(E,C,D,re=Fa.maxLength,q=Fa.minLength)=>{const z=E?C:D;V[_]={type:E?re:q,message:z,ref:a,...M(E?re:q,z)}};if(s?!Array.isArray(S)||!S.length:l&&(!N&&(k||Si(S))||aa(S)&&!S||$&&!vb(o).isValid||U&&!xb(o).isValid)){const{value:E,message:C}=Vi(l)?{value:!!l,message:l}:ru(l);if(E&&(V[_]={type:Fa.required,message:C,ref:F,...M(Fa.required,C)},!n))return T(C),V}if(!k&&(!Si(h)||!Si(m))){let E,C;const D=ru(m),re=ru(h);if(!Si(S)&&!isNaN(S)){const q=a.valueAsNumber||S&&+S;Si(D.value)||(E=q>D.value),Si(re.value)||(C=q<re.value)}else{const q=a.valueAsDate||new Date(S),z=ae=>new Date(new Date().toDateString()+" "+ae),Q=a.type=="time",J=a.type=="week";Vi(D.value)&&S&&(E=Q?z(S)>z(D.value):J?S>D.value:q>new Date(D.value)),Vi(re.value)&&S&&(C=Q?z(S)<z(re.value):J?S<re.value:q<new Date(re.value))}if((E||C)&&(P(!!E,D.message,re.message,Fa.max,Fa.min),!n))return T(V[_].message),V}if((d||f)&&!k&&(Vi(S)||s&&Array.isArray(S))){const E=ru(d),C=ru(f),D=!Si(E.value)&&S.length>+E.value,re=!Si(C.value)&&S.length<+C.value;if((D||re)&&(P(D,E.message,C.message),!n))return T(V[_].message),V}if(g&&!k&&Vi(S)){const{value:E,message:C}=ru(g);if(oh(E)&&!S.match(E)&&(V[_]={type:Fa.pattern,message:C,ref:a,...M(Fa.pattern,C)},!n))return T(C),V}if(w){if(Bs(w)){const E=await w(S,r),C=L5(E,F);if(C&&(V[_]={...C,...M(Fa.validate,C.message)},!n))return T(C.message),V}else if(vn(w)){let E={};for(const C in w){if(!ei(E)&&!n)break;const D=L5(await w[C](S,r),F,C);D&&(E={...D,...M(C,D.message)},T(D.message),n&&(V[_]=E))}if(!ei(E)&&(V[_]={ref:F,...E},!n))return V}}return T(!0),V};const Fj={mode:fs.onSubmit,reValidateMode:fs.onChange,shouldFocusError:!0};function Ij(e={}){let t={...Fj,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Bs(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},i=vn(t.defaultValues)||vn(t.values)?Rr(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:Rr(i),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,d=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...f};const m={array:w5(),state:w5()},g=t.criteriaMode===fs.all,w=ie=>de=>{clearTimeout(d),d=setTimeout(ie,de)},_=async ie=>{if(!t.disabled&&(f.isValid||h.isValid||ie)){const de=t.resolver?ei((await $()).errors):await k(n,!0);de!==r.isValid&&m.state.next({isValid:de})}},L=(ie,de)=>{!t.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&((ie||Array.from(o.mount)).forEach(me=>{me&&(de?Ar(r.validatingFields,me,de):Xr(r.validatingFields,me))}),m.state.next({validatingFields:r.validatingFields,isValidating:!ei(r.validatingFields)}))},x=(ie,de=[],me,Ve,Me=!0,Ue=!0)=>{if(Ve&&me&&!t.disabled){if(a.action=!0,Ue&&Array.isArray(_t(n,ie))){const Ye=me(_t(n,ie),Ve.argA,Ve.argB);Me&&Ar(n,ie,Ye)}if(Ue&&Array.isArray(_t(r.errors,ie))){const Ye=me(_t(r.errors,ie),Ve.argA,Ve.argB);Me&&Ar(r.errors,ie,Ye),Pj(r.errors,ie)}if((f.touchedFields||h.touchedFields)&&Ue&&Array.isArray(_t(r.touchedFields,ie))){const Ye=me(_t(r.touchedFields,ie),Ve.argA,Ve.argB);Me&&Ar(r.touchedFields,ie,Ye)}(f.dirtyFields||h.dirtyFields)&&(r.dirtyFields=au(i,s)),m.state.next({name:ie,isDirty:P(ie,de),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ar(s,ie,de)},S=(ie,de)=>{Ar(r.errors,ie,de),m.state.next({errors:r.errors})},F=ie=>{r.errors=ie,m.state.next({errors:r.errors,isValid:!1})},T=(ie,de,me,Ve)=>{const Me=_t(n,ie);if(Me){const Ue=_t(s,ie,Pr(me)?_t(i,ie):me);Pr(Ue)||Ve&&Ve.defaultChecked||de?Ar(s,ie,de?Ue:_5(Me._f)):D(ie,Ue),a.mount&&!a.action&&_()}},V=(ie,de,me,Ve,Me)=>{let Ue=!1,Ye=!1;const pt={name:ie};if(!t.disabled){if(!me||Ve){(f.isDirty||h.isDirty)&&(Ye=r.isDirty,r.isDirty=pt.isDirty=P(),Ue=Ye!==pt.isDirty);const yt=Lo(_t(i,ie),de);Ye=!!_t(r.dirtyFields,ie),yt?Xr(r.dirtyFields,ie):Ar(r.dirtyFields,ie,!0),pt.dirtyFields=r.dirtyFields,Ue=Ue||(f.dirtyFields||h.dirtyFields)&&Ye!==!yt}if(me){const yt=_t(r.touchedFields,ie);yt||(Ar(r.touchedFields,ie,me),pt.touchedFields=r.touchedFields,Ue=Ue||(f.touchedFields||h.touchedFields)&&yt!==me)}Ue&&Me&&m.state.next(pt)}return Ue?pt:{}},U=(ie,de,me,Ve)=>{const Me=_t(r.errors,ie),Ue=(f.isValid||h.isValid)&&aa(de)&&r.isValid!==de;if(t.delayError&&me?(l=w(()=>S(ie,me)),l(t.delayError)):(clearTimeout(d),l=null,me?Ar(r.errors,ie,me):Xr(r.errors,ie)),(me?!Lo(Me,me):Me)||!ei(Ve)||Ue){const Ye={...Ve,...Ue&&aa(de)?{isValid:de}:{},errors:r.errors,name:ie};r={...r,...Ye},m.state.next(Ye)}},$=async ie=>{L(ie,!0);const de=await t.resolver(s,t.context,_j(ie||o.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return L(ie),de},N=async ie=>{const{errors:de}=await $(ie);if(ie)for(const me of ie){const Ve=_t(de,me);Ve?Ar(r.errors,me,Ve):Xr(r.errors,me)}else r.errors=de;return de},k=async(ie,de,me={valid:!0})=>{for(const Ve in ie){const Me=ie[Ve];if(Me){const{_f:Ue,...Ye}=Me;if(Ue){const pt=o.array.has(Ue.name),yt=Me._f&&Aj(Me._f);yt&&f.validatingFields&&L([Ue.name],!0);const wt=await L1(Me,o.disabled,s,g,t.shouldUseNativeValidation&&!de,pt);if(yt&&f.validatingFields&&L([Ue.name]),wt[Ue.name]&&(me.valid=!1,de))break;!de&&(_t(wt,Ue.name)?pt?bb(r.errors,wt,Ue.name):Ar(r.errors,Ue.name,wt[Ue.name]):Xr(r.errors,Ue.name))}!ei(Ye)&&await k(Ye,de,me)}}return me.valid},M=()=>{for(const ie of o.unMount){const de=_t(n,ie);de&&(de._f.refs?de._f.refs.every(me=>!Qp(me)):!Qp(de._f.ref))&&we(ie)}o.unMount=new Set},P=(ie,de)=>!t.disabled&&(ie&&de&&Ar(s,ie,de),!Lo(ae(),i)),E=(ie,de,me)=>xj(ie,o,{...a.mount?s:Pr(de)?i:Vi(ie)?{[ie]:de}:de},me,de),C=ie=>qh(_t(a.mount?s:i,ie,t.shouldUnregister?_t(i,ie,[]):[])),D=(ie,de,me={})=>{const Ve=_t(n,ie);let Me=de;if(Ve){const Ue=Ve._f;Ue&&(!Ue.disabled&&Ar(s,ie,yb(de,Ue)),Me=ah(Ue.ref)&&Si(de)?"":de,mb(Ue.ref)?[...Ue.ref.options].forEach(Ye=>Ye.selected=Me.includes(Ye.value)):Ue.refs?jf(Ue.ref)?Ue.refs.forEach(Ye=>{(!Ye.defaultChecked||!Ye.disabled)&&(Array.isArray(Me)?Ye.checked=!!Me.find(pt=>pt===Ye.value):Ye.checked=Me===Ye.value||!!Me)}):Ue.refs.forEach(Ye=>Ye.checked=Ye.value===Me):Zm(Ue.ref)?Ue.ref.value="":(Ue.ref.value=Me,Ue.ref.type||m.state.next({name:ie,values:Rr(s)})))}(me.shouldDirty||me.shouldTouch)&&V(ie,Me,me.shouldTouch,me.shouldDirty,!0),me.shouldValidate&&J(ie)},re=(ie,de,me)=>{for(const Ve in de){if(!de.hasOwnProperty(Ve))return;const Me=de[Ve],Ue=ie+"."+Ve,Ye=_t(n,Ue);(o.array.has(ie)||vn(Me)||Ye&&!Ye._f)&&!Sl(Me)?re(Ue,Me,me):D(Ue,Me,me)}},q=(ie,de,me={})=>{const Ve=_t(n,ie),Me=o.array.has(ie),Ue=Rr(de);Ar(s,ie,Ue),Me?(m.array.next({name:ie,values:Rr(s)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&me.shouldDirty&&m.state.next({name:ie,dirtyFields:au(i,s),isDirty:P(ie,Ue)})):Ve&&!Ve._f&&!Si(Ue)?re(ie,Ue,me):D(ie,Ue,me),k1(ie,o)&&m.state.next({...r,name:ie}),m.state.next({name:a.mount?ie:void 0,values:Rr(s)})},z=async ie=>{a.mount=!0;const de=ie.target;let me=de.name,Ve=!0;const Me=_t(n,me),Ue=yt=>{Ve=Number.isNaN(yt)||Sl(yt)&&isNaN(yt.getTime())||Lo(yt,_t(s,me,yt))},Ye=Nu(t.mode),pt=Nu(t.reValidateMode);if(Me){let yt,wt;const kt=de.type?_5(Me._f):hj(ie),st=ie.type===b5.BLUR||ie.type===b5.FOCUS_OUT,Dt=!kj(Me._f)&&!t.resolver&&!_t(r.errors,me)&&!Me._f.deps||Cj(st,_t(r.touchedFields,me),r.isSubmitted,pt,Ye),Pt=k1(me,o,st);Ar(s,me,kt),st?(!de||!de.readOnly)&&(Me._f.onBlur&&Me._f.onBlur(ie),l&&l(0)):Me._f.onChange&&Me._f.onChange(ie);const ar=V(me,kt,st),Wt=!ei(ar)||Pt;if(!st&&m.state.next({name:me,type:ie.type,values:Rr(s)}),Dt)return(f.isValid||h.isValid)&&(t.mode==="onBlur"?st&&_():st||_()),Wt&&m.state.next({name:me,...Pt?{}:ar});if(!st&&Pt&&m.state.next({...r}),t.resolver){const{errors:gt}=await $([me]);if(Ue(kt),Ve){const an=k5(r.errors,n,me),Kt=k5(gt,n,an.name||me);yt=Kt.error,me=Kt.name,wt=ei(gt)}}else L([me],!0),yt=(await L1(Me,o.disabled,s,g,t.shouldUseNativeValidation))[me],L([me]),Ue(kt),Ve&&(yt?wt=!1:(f.isValid||h.isValid)&&(wt=await k(n,!0)));Ve&&(Me._f.deps&&(!Array.isArray(Me._f.deps)||Me._f.deps.length>0)&&J(Me._f.deps),U(me,wt,yt,ar))}},Q=(ie,de)=>{if(_t(r.errors,de)&&ie.focus)return ie.focus(),1},J=async(ie,de={})=>{let me,Ve;const Me=Li(ie);if(t.resolver){const Ue=await N(Pr(ie)?ie:Me);me=ei(Ue),Ve=ie?!Me.some(Ye=>_t(Ue,Ye)):me}else ie?(Ve=(await Promise.all(Me.map(async Ue=>{const Ye=_t(n,Ue);return await k(Ye&&Ye._f?{[Ue]:Ye}:Ye)}))).every(Boolean),!(!Ve&&!r.isValid)&&_()):Ve=me=await k(n);return m.state.next({...!Vi(ie)||(f.isValid||h.isValid)&&me!==r.isValid?{}:{name:ie},...t.resolver||!ie?{isValid:me}:{},errors:r.errors}),de.shouldFocus&&!Ve&&Fu(n,Q,ie?Me:o.mount),Ve},ae=(ie,de)=>{let me={...a.mount?s:i};return de&&(me=pb(de.dirtyFields?r.dirtyFields:r.touchedFields,me)),Pr(ie)?me:Vi(ie)?_t(me,ie):ie.map(Ve=>_t(me,Ve))},be=(ie,de)=>({invalid:!!_t((de||r).errors,ie),isDirty:!!_t((de||r).dirtyFields,ie),error:_t((de||r).errors,ie),isValidating:!!_t(r.validatingFields,ie),isTouched:!!_t((de||r).touchedFields,ie)}),R=ie=>{ie&&Li(ie).forEach(de=>Xr(r.errors,de)),m.state.next({errors:ie?r.errors:{}})},K=(ie,de,me)=>{const Ve=(_t(n,ie,{_f:{}})._f||{}).ref,Me=_t(r.errors,ie)||{},{ref:Ue,message:Ye,type:pt,...yt}=Me;Ar(r.errors,ie,{...yt,...de,ref:Ve}),m.state.next({name:ie,errors:r.errors,isValid:!1}),me&&me.shouldFocus&&Ve&&Ve.focus&&Ve.focus()},Z=(ie,de)=>Bs(ie)?m.state.subscribe({next:me=>"values"in me&&ie(E(void 0,de),me)}):E(ie,de,!0),ee=ie=>m.state.subscribe({next:de=>{Ej(ie.name,de.name,ie.exact)&&Lj(de,ie.formState||f,xt,ie.reRenderRoot)&&ie.callback({values:{...s},...r,...de,defaultValues:i})}}).unsubscribe,fe=ie=>(a.mount=!0,h={...h,...ie.formState},ee({...ie,formState:h})),we=(ie,de={})=>{for(const me of ie?Li(ie):o.mount)o.mount.delete(me),o.array.delete(me),de.keepValue||(Xr(n,me),Xr(s,me)),!de.keepError&&Xr(r.errors,me),!de.keepDirty&&Xr(r.dirtyFields,me),!de.keepTouched&&Xr(r.touchedFields,me),!de.keepIsValidating&&Xr(r.validatingFields,me),!t.shouldUnregister&&!de.keepDefaultValue&&Xr(i,me);m.state.next({values:Rr(s)}),m.state.next({...r,...de.keepDirty?{isDirty:P()}:{}}),!de.keepIsValid&&_()},ve=({disabled:ie,name:de})=>{(aa(ie)&&a.mount||ie||o.disabled.has(de))&&(ie?o.disabled.add(de):o.disabled.delete(de))},se=(ie,de={})=>{let me=_t(n,ie);const Ve=aa(de.disabled)||aa(t.disabled);return Ar(n,ie,{...me||{},_f:{...me&&me._f?me._f:{ref:{name:ie}},name:ie,mount:!0,...de}}),o.mount.add(ie),me?ve({disabled:aa(de.disabled)?de.disabled:t.disabled,name:ie}):T(ie,!0,de.value),{...Ve?{disabled:de.disabled||t.disabled}:{},...t.progressive?{required:!!de.required,min:Sc(de.min),max:Sc(de.max),minLength:Sc(de.minLength),maxLength:Sc(de.maxLength),pattern:Sc(de.pattern)}:{},name:ie,onChange:z,onBlur:z,ref:Me=>{if(Me){se(ie,de),me=_t(n,ie);const Ue=Pr(Me.value)&&Me.querySelectorAll&&Me.querySelectorAll("input,select,textarea")[0]||Me,Ye=wj(Ue),pt=me._f.refs||[];if(Ye?pt.find(yt=>yt===Ue):Ue===me._f.ref)return;Ar(n,ie,{_f:{...me._f,...Ye?{refs:[...pt.filter(Qp),Ue,...Array.isArray(_t(i,ie))?[{}]:[]],ref:{type:Ue.type,name:ie}}:{ref:Ue}}}),T(ie,!1,void 0,Ue)}else me=_t(n,ie,{}),me._f&&(me._f.mount=!1),(t.shouldUnregister||de.shouldUnregister)&&!(mj(o.array,ie)&&a.action)&&o.unMount.add(ie)}}},$e=()=>t.shouldFocusError&&Fu(n,Q,o.mount),Oe=ie=>{aa(ie)&&(m.state.next({disabled:ie}),Fu(n,(de,me)=>{const Ve=_t(n,me);Ve&&(de.disabled=Ve._f.disabled||ie,Array.isArray(Ve._f.refs)&&Ve._f.refs.forEach(Me=>{Me.disabled=Ve._f.disabled||ie}))},0,!1))},Re=(ie,de)=>async me=>{let Ve;me&&(me.preventDefault&&me.preventDefault(),me.persist&&me.persist());let Me=Rr(s);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:Ue,values:Ye}=await $();r.errors=Ue,Me=Rr(Ye)}else await k(n);if(o.disabled.size)for(const Ue of o.disabled)Xr(Me,Ue);if(Xr(r.errors,"root"),ei(r.errors)){m.state.next({errors:{}});try{await ie(Me,me)}catch(Ue){Ve=Ue}}else de&&await de({...r.errors},me),$e(),setTimeout($e);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ei(r.errors)&&!Ve,submitCount:r.submitCount+1,errors:r.errors}),Ve)throw Ve},Ze=(ie,de={})=>{_t(n,ie)&&(Pr(de.defaultValue)?q(ie,Rr(_t(i,ie))):(q(ie,de.defaultValue),Ar(i,ie,Rr(de.defaultValue))),de.keepTouched||Xr(r.touchedFields,ie),de.keepDirty||(Xr(r.dirtyFields,ie),r.isDirty=de.defaultValue?P(ie,Rr(_t(i,ie))):P()),de.keepError||(Xr(r.errors,ie),f.isValid&&_()),m.state.next({...r}))},dt=(ie,de={})=>{const me=ie?Rr(ie):i,Ve=Rr(me),Me=ei(ie),Ue=Me?i:Ve;if(de.keepDefaultValues||(i=me),!de.keepValues){if(de.keepDirtyValues){const Ye=new Set([...o.mount,...Object.keys(au(i,s))]);for(const pt of Array.from(Ye))_t(r.dirtyFields,pt)?Ar(Ue,pt,_t(s,pt)):q(pt,_t(Ue,pt))}else{if(Ym&&Pr(ie))for(const Ye of o.mount){const pt=_t(n,Ye);if(pt&&pt._f){const yt=Array.isArray(pt._f.refs)?pt._f.refs[0]:pt._f.ref;if(ah(yt)){const wt=yt.closest("form");if(wt){wt.reset();break}}}}if(de.keepFieldsRef)for(const Ye of o.mount)q(Ye,_t(Ue,Ye));else n={}}s=t.shouldUnregister?de.keepDefaultValues?Rr(i):{}:Rr(Ue),m.array.next({values:{...Ue}}),m.state.next({values:{...Ue}})}o={mount:de.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!f.isValid||!!de.keepIsValid||!!de.keepDirtyValues||!t.shouldUnregister&&!ei(Ue),a.watch=!!t.shouldUnregister,a.action=!1,de.keepErrors||(r.errors={}),m.state.next({submitCount:de.keepSubmitCount?r.submitCount:0,isDirty:Me?!1:de.keepDirty?r.isDirty:!!(de.keepDefaultValues&&!Lo(ie,i)),isSubmitted:de.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Me?{}:de.keepDirtyValues?de.keepDefaultValues&&s?au(i,s):r.dirtyFields:de.keepDefaultValues&&ie?au(i,ie):de.keepDirty?r.dirtyFields:{},touchedFields:de.keepTouched?r.touchedFields:{},errors:de.keepErrors?r.errors:{},isSubmitSuccessful:de.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Ee=(ie,de)=>dt(Bs(ie)?ie(s):ie,de),le=(ie,de={})=>{const me=_t(n,ie),Ve=me&&me._f;if(Ve){const Me=Ve.refs?Ve.refs[0]:Ve.ref;Me.focus&&(Me.focus(),de.shouldSelect&&Bs(Me.select)&&Me.select())}},xt=ie=>{r={...r,...ie}},We={control:{register:se,unregister:we,getFieldState:be,handleSubmit:Re,setError:K,_subscribe:ee,_runSchema:$,_focusError:$e,_getWatch:E,_getDirty:P,_setValid:_,_setFieldArray:x,_setDisabledField:ve,_setErrors:F,_getFieldArray:C,_reset:dt,_resetDefaultValues:()=>Bs(t.defaultValues)&&t.defaultValues().then(ie=>{Ee(ie,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:M,_disableForm:Oe,_subjects:m,_proxyFormState:f,get _fields(){return n},get _formValues(){return s},get _state(){return a},set _state(ie){a=ie},get _defaultValues(){return i},get _names(){return o},set _names(ie){o=ie},get _formState(){return r},get _options(){return t},set _options(ie){t={...t,...ie}}},subscribe:fe,trigger:J,register:se,handleSubmit:Re,watch:Z,setValue:q,getValues:ae,reset:Ee,resetField:Ze,clearErrors:R,unregister:we,setError:K,setFocus:le,getFieldState:be};return{...We,formControl:We}}var wo=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const r=(Math.random()*16+e)%16|0;return(t=="x"?r:r&3|8).toString(16)})},Jp=(e,t,r={})=>r.shouldFocus||Pr(r.shouldFocus)?r.focusName||`${e}.${Pr(r.focusIndex)?t:r.focusIndex}.`:"",Yp=(e,t)=>[...e,...Li(t)],Xp=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Zp(e,t,r){return[...e.slice(0,t),...Li(r),...e.slice(t)]}var e0=(e,t,r)=>Array.isArray(e)?(Pr(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[],t0=(e,t)=>[...Li(t),...Li(e)];function Oj(e,t){let r=0;const n=[...e];for(const i of t)n.splice(i-r,1),r++;return qh(n).length?n:[]}var r0=(e,t)=>Pr(t)?[]:Oj(e,Li(t).sort((r,n)=>r-n)),n0=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]},E5=(e,t,r)=>(e[t]=r,e);function Rj(e){const t=vj(),{control:r=t.control,name:n,keyName:i="id",shouldUnregister:s,rules:a}=e,[o,l]=Zt.useState(r._getFieldArray(n)),d=Zt.useRef(r._getFieldArray(n).map(wo)),f=Zt.useRef(!1);r._names.array.add(n),Zt.useMemo(()=>a&&o.length>=0&&r.register(n,a),[r,n,o.length,a]),hb(()=>r._subjects.array.subscribe({next:({values:T,name:V})=>{if(V===n||!V){const U=_t(T,n);Array.isArray(U)&&(l(U),d.current=U.map(wo))}}}).unsubscribe,[r,n]);const h=Zt.useCallback(T=>{f.current=!0,r._setFieldArray(n,T)},[r,n]),m=(T,V)=>{const U=Li(Rr(T)),$=Yp(r._getFieldArray(n),U);r._names.focus=Jp(n,$.length-1,V),d.current=Yp(d.current,U.map(wo)),h($),l($),r._setFieldArray(n,$,Yp,{argA:Xp(T)})},g=(T,V)=>{const U=Li(Rr(T)),$=t0(r._getFieldArray(n),U);r._names.focus=Jp(n,0,V),d.current=t0(d.current,U.map(wo)),h($),l($),r._setFieldArray(n,$,t0,{argA:Xp(T)})},w=T=>{const V=r0(r._getFieldArray(n),T);d.current=r0(d.current,T),h(V),l(V),!Array.isArray(_t(r._fields,n))&&Ar(r._fields,n,void 0),r._setFieldArray(n,V,r0,{argA:T})},_=(T,V,U)=>{const $=Li(Rr(V)),N=Zp(r._getFieldArray(n),T,$);r._names.focus=Jp(n,T,U),d.current=Zp(d.current,T,$.map(wo)),h(N),l(N),r._setFieldArray(n,N,Zp,{argA:T,argB:Xp(V)})},L=(T,V)=>{const U=r._getFieldArray(n);n0(U,T,V),n0(d.current,T,V),h(U),l(U),r._setFieldArray(n,U,n0,{argA:T,argB:V},!1)},x=(T,V)=>{const U=r._getFieldArray(n);e0(U,T,V),e0(d.current,T,V),h(U),l(U),r._setFieldArray(n,U,e0,{argA:T,argB:V},!1)},S=(T,V)=>{const U=Rr(V),$=E5(r._getFieldArray(n),T,U);d.current=[...$].map((N,k)=>!N||k===T?wo():d.current[k]),h($),l([...$]),r._setFieldArray(n,$,E5,{argA:T,argB:U},!0,!1)},F=T=>{const V=Li(Rr(T));d.current=V.map(wo),h([...V]),l([...V]),r._setFieldArray(n,[...V],U=>U,{},!0,!1)};return Zt.useEffect(()=>{if(r._state.action=!1,k1(n,r._names)&&r._subjects.state.next({...r._formState}),f.current&&(!Nu(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!Nu(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([n]).then(T=>{const V=_t(T.errors,n),U=_t(r._formState.errors,n);(U?!V&&U.type||V&&(U.type!==V.type||U.message!==V.message):V&&V.type)&&(V?Ar(r._formState.errors,n,V):Xr(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const T=_t(r._fields,n);T&&T._f&&!(Nu(r._options.reValidateMode).isOnSubmit&&Nu(r._options.mode).isOnSubmit)&&L1(T,r._names.disabled,r._formValues,r._options.criteriaMode===fs.all,r._options.shouldUseNativeValidation,!0).then(V=>!ei(V)&&r._subjects.state.next({errors:bb(r._formState.errors,V,n)}))}r._subjects.state.next({name:n,values:Rr(r._formValues)}),r._names.focus&&Fu(r._fields,(T,V)=>{if(r._names.focus&&V.startsWith(r._names.focus)&&T.focus)return T.focus(),1}),r._names.focus="",r._setValid(),f.current=!1},[o,n,r]),Zt.useEffect(()=>(!_t(r._formValues,n)&&r._setFieldArray(n),()=>{const T=(V,U)=>{const $=_t(r._fields,V);$&&$._f&&($._f.mount=U)};r._options.shouldUnregister||s?r.unregister(n):T(n,!1)}),[n,r,i,s]),{swap:Zt.useCallback(L,[h,n,r]),move:Zt.useCallback(x,[h,n,r]),prepend:Zt.useCallback(g,[h,n,r]),append:Zt.useCallback(m,[h,n,r]),remove:Zt.useCallback(w,[h,n,r]),insert:Zt.useCallback(_,[h,n,r]),update:Zt.useCallback(S,[h,n,r]),replace:Zt.useCallback(F,[h,n,r]),fields:Zt.useMemo(()=>o.map((T,V)=>({...T,[i]:d.current[V]||wo()})),[o,i])}}function Ka(e={}){const t=Zt.useRef(void 0),r=Zt.useRef(void 0),[n,i]=Zt.useState({isDirty:!1,isValidating:!1,isLoading:Bs(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Bs(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Bs(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:a,...o}=Ij(e);t.current={...o,formState:n}}const s=t.current.control;return s._options=e,hb(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),s._formState.isReady=!0,a},[s]),Zt.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),Zt.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),Zt.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),Zt.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),Zt.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==n.isDirty&&s._subjects.state.next({isDirty:a})}},[s,n.isDirty]),Zt.useEffect(()=>{var a;e.values&&!Lo(e.values,r.current)?(s._reset(e.values,{keepFieldsRef:!0,...s._options.resetOptions}),!((a=s._options.resetOptions)===null||a===void 0)&&a.keepIsValid||s._setValid(),r.current=e.values,i(o=>({...o}))):s._resetDefaultValues()},[s,e.values]),Zt.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=yj(n,s),t.current}const Tj=()=>{var _,L;const e=ec(),t=Wa(),{login:r,isLoading:n,error:i,clearError:s}=hs(),{company:a,loginLogoUrl:o}=Wm(),[l,d]=_e.useState(!1),f=((L=(_=t.state)==null?void 0:_.from)==null?void 0:L.pathname)||"/dashboard",{register:h,handleSubmit:m,formState:{errors:g}}=Ka(),w=async x=>{s(),await r(x.email,x.password)&&e(f,{replace:!0})};return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4",children:u.jsx("div",{className:"max-w-md w-full",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[o?u.jsx("img",{src:o,alt:(a==null?void 0:a.name)||"Logo",className:"h-24 w-auto mx-auto mb-6 object-contain",onError:x=>{var F,T;console.error("Erreur chargement logo login:",o),x.currentTarget.style.display="none";const S=document.createElement("div");S.className="text-xs text-red-500 mb-4",S.innerText=`Erreur logo: ${o}`,(F=x.currentTarget.parentElement)==null||F.appendChild(S),(T=x.currentTarget.nextElementSibling)==null||T.classList.remove("hidden")}}):null,u.jsx("div",{className:`w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-6 ${o?"hidden":""}`,children:u.jsx(cf,{className:"text-white",size:32})}),u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Connexion"}),u.jsx("p",{className:"text-gray-600 mt-2",children:(a==null?void 0:a.name)||"Gestion des Feuilles de Travail"})]}),i&&u.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:i}),u.jsxs("form",{onSubmit:m(w),className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),u.jsx("input",{id:"email",type:"email",autoComplete:"email",...h("email",{required:"Email requis",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email invalide"}}),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${g.email?"border-red-500":"border-gray-300"}`,placeholder:"votre@email.com"}),g.email&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.email.message})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mot de passe"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{id:"password",type:l?"text":"password",autoComplete:"current-password",...h("password",{required:"Mot de passe requis"}),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-10 ${g.password?"border-red-500":"border-gray-300"}`,placeholder:"Votre mot de passe"}),u.jsx("button",{type:"button",onClick:()=>d(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:l?u.jsx(ib,{size:20}):u.jsx(sh,{size:20})})]}),u.jsx("div",{className:"mt-1 text-right",children:u.jsx(Dl,{to:"/forgot-password",className:"text-xs text-blue-600 hover:text-blue-800 transition-colors",children:"Mot de passe oubli ?"})}),g.password&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.password.message})]}),u.jsx("button",{type:"submit",disabled:n,className:"w-full flex items-center justify-center gap-2 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 focus:ring-4 focus:ring-blue-300 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n?u.jsxs(u.Fragment,{children:[u.jsx(fr,{className:"animate-spin",size:20}),"Connexion..."]}):u.jsxs(u.Fragment,{children:[u.jsx(sb,{size:20}),"Se connecter"]})})]}),!1]})})})};class Dj{constructor(){eu(this,"isOnline",navigator.onLine);window.addEventListener("online",()=>{this.isOnline=!0,this.processQueue(),console.log("Online - Processing Queue")}),window.addEventListener("offline",()=>{this.isOnline=!1,console.log("Offline - Queue Paused")})}getOnlineStatus(){return this.isOnline}async addToQueue(t,r){await Zr.syncQueue.add({action:t,payload:r,status:"PENDING",createdAt:Date.now()}),this.isOnline&&this.processQueue()}async processQueue(){if(!this.isOnline)return;const t=await Zr.syncQueue.where("status").equals("PENDING").sortBy("createdAt");if(t.length!==0)for(const r of t)try{await this.executeItem(r),await Zr.syncQueue.delete(r.id)}catch(n){console.error(`Sync failed for item ${r.id}`,n),await Zr.syncQueue.update(r.id,{status:"ERROR",error:JSON.stringify(n)})}}async executeItem(t){switch(t.action){case"CREATE_FEUILLE":const{id:r,...n}=t.payload;await Rt.post("/feuilles",n);break;case"UPDATE_FEUILLE":await Rt.put(`/feuilles/${t.payload.id}`,t.payload.data);break;case"DELETE_FEUILLE":await Rt.delete(`/feuilles/${t.payload.id}`);break}}async syncReferenceData(){if(this.isOnline)try{const[t,r]=await Promise.all([Rt.get("/monteurs"),Rt.get("/chantiers")]);await Zr.transaction("rw",Zr.monteurs,Zr.chantiers,async()=>{await Zr.monteurs.clear(),await Zr.monteurs.bulkAdd(t.data.data||t.data),await Zr.chantiers.clear(),await Zr.chantiers.bulkAdd(r.data.data||r.data)}),console.log("Reference data synced")}catch(t){console.error("Failed to sync reference data",t)}}}const nu=new Dj;var wb={},Vh={},$h={};Object.defineProperty($h,"__esModule",{value:!0});$h.default=zj;var C5=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),Mj=new Uint8Array(16);function zj(){if(!C5)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return C5(Mj)}var nc={};Object.defineProperty(nc,"__esModule",{value:!0});nc.default=void 0;var Nb=[];for(var ad=0;ad<256;++ad)Nb[ad]=(ad+256).toString(16).substr(1);function Bj(e,t){var r=t||0,n=Nb;return[n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]]].join("")}var Uj=Bj;nc.default=Uj;Object.defineProperty(Vh,"__esModule",{value:!0});Vh.default=void 0;var qj=Sb($h),Vj=Sb(nc);function Sb(e){return e&&e.__esModule?e:{default:e}}var P5,i0,s0=0,a0=0;function $j(e,t,r){var n=t&&r||0,i=t||[];e=e||{};var s=e.node||P5,a=e.clockseq!==void 0?e.clockseq:i0;if(s==null||a==null){var o=e.random||(e.rng||qj.default)();s==null&&(s=P5=[o[0]|1,o[1],o[2],o[3],o[4],o[5]]),a==null&&(a=i0=(o[6]<<8|o[7])&16383)}var l=e.msecs!==void 0?e.msecs:new Date().getTime(),d=e.nsecs!==void 0?e.nsecs:a0+1,f=l-s0+(d-a0)/1e4;if(f<0&&e.clockseq===void 0&&(a=a+1&16383),(f<0||l>s0)&&e.nsecs===void 0&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s0=l,a0=d,i0=a,l+=122192928e5;var h=((l&268435455)*1e4+d)%4294967296;i[n++]=h>>>24&255,i[n++]=h>>>16&255,i[n++]=h>>>8&255,i[n++]=h&255;var m=l/4294967296*1e4&268435455;i[n++]=m>>>8&255,i[n++]=m&255,i[n++]=m>>>24&15|16,i[n++]=m>>>16&255,i[n++]=a>>>8|128,i[n++]=a&255;for(var g=0;g<6;++g)i[n+g]=s[g];return t||(0,Vj.default)(i)}var Hj=$j;Vh.default=Hj;var Hh={},Ko={};Object.defineProperty(Ko,"__esModule",{value:!0});Ko.default=Jj;Ko.URL=Ko.DNS=void 0;var Wj=Kj(nc);function Kj(e){return e&&e.__esModule?e:{default:e}}function Gj(e){var t=[];return e.replace(/[a-fA-F0-9]{2}/g,function(r){t.push(parseInt(r,16))}),t}function Qj(e){e=unescape(encodeURIComponent(e));for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}const jb="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Ko.DNS=jb;const _b="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Ko.URL=_b;function Jj(e,t,r){var n=function(i,s,a,o){var l=a&&o||0;if(typeof i=="string"&&(i=Qj(i)),typeof s=="string"&&(s=Gj(s)),!Array.isArray(i))throw TypeError("value must be an array of bytes");if(!Array.isArray(s)||s.length!==16)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var d=r(s.concat(i));if(d[6]=d[6]&15|t,d[8]=d[8]&63|128,a)for(var f=0;f<16;++f)a[l+f]=d[f];return a||(0,Wj.default)(d)};try{n.name=e}catch{}return n.DNS=jb,n.URL=_b,n}var Wh={};Object.defineProperty(Wh,"__esModule",{value:!0});Wh.default=void 0;function Yj(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Array(t.length);for(var r=0;r<t.length;r++)e[r]=t.charCodeAt(r)}return Xj(Zj(e_(e),e.length*8))}function Xj(e){var t,r,n=[],i=e.length*32,s="0123456789abcdef",a;for(t=0;t<i;t+=8)r=e[t>>5]>>>t%32&255,a=parseInt(s.charAt(r>>>4&15)+s.charAt(r&15),16),n.push(a);return n}function Zj(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;var r,n,i,s,a,o=1732584193,l=-271733879,d=-1732584194,f=271733878;for(r=0;r<e.length;r+=16)n=o,i=l,s=d,a=f,o=Hn(o,l,d,f,e[r],7,-680876936),f=Hn(f,o,l,d,e[r+1],12,-389564586),d=Hn(d,f,o,l,e[r+2],17,606105819),l=Hn(l,d,f,o,e[r+3],22,-1044525330),o=Hn(o,l,d,f,e[r+4],7,-176418897),f=Hn(f,o,l,d,e[r+5],12,1200080426),d=Hn(d,f,o,l,e[r+6],17,-1473231341),l=Hn(l,d,f,o,e[r+7],22,-45705983),o=Hn(o,l,d,f,e[r+8],7,1770035416),f=Hn(f,o,l,d,e[r+9],12,-1958414417),d=Hn(d,f,o,l,e[r+10],17,-42063),l=Hn(l,d,f,o,e[r+11],22,-1990404162),o=Hn(o,l,d,f,e[r+12],7,1804603682),f=Hn(f,o,l,d,e[r+13],12,-40341101),d=Hn(d,f,o,l,e[r+14],17,-1502002290),l=Hn(l,d,f,o,e[r+15],22,1236535329),o=Wn(o,l,d,f,e[r+1],5,-165796510),f=Wn(f,o,l,d,e[r+6],9,-1069501632),d=Wn(d,f,o,l,e[r+11],14,643717713),l=Wn(l,d,f,o,e[r],20,-373897302),o=Wn(o,l,d,f,e[r+5],5,-701558691),f=Wn(f,o,l,d,e[r+10],9,38016083),d=Wn(d,f,o,l,e[r+15],14,-660478335),l=Wn(l,d,f,o,e[r+4],20,-405537848),o=Wn(o,l,d,f,e[r+9],5,568446438),f=Wn(f,o,l,d,e[r+14],9,-1019803690),d=Wn(d,f,o,l,e[r+3],14,-187363961),l=Wn(l,d,f,o,e[r+8],20,1163531501),o=Wn(o,l,d,f,e[r+13],5,-1444681467),f=Wn(f,o,l,d,e[r+2],9,-51403784),d=Wn(d,f,o,l,e[r+7],14,1735328473),l=Wn(l,d,f,o,e[r+12],20,-1926607734),o=Kn(o,l,d,f,e[r+5],4,-378558),f=Kn(f,o,l,d,e[r+8],11,-2022574463),d=Kn(d,f,o,l,e[r+11],16,1839030562),l=Kn(l,d,f,o,e[r+14],23,-35309556),o=Kn(o,l,d,f,e[r+1],4,-1530992060),f=Kn(f,o,l,d,e[r+4],11,1272893353),d=Kn(d,f,o,l,e[r+7],16,-155497632),l=Kn(l,d,f,o,e[r+10],23,-1094730640),o=Kn(o,l,d,f,e[r+13],4,681279174),f=Kn(f,o,l,d,e[r],11,-358537222),d=Kn(d,f,o,l,e[r+3],16,-722521979),l=Kn(l,d,f,o,e[r+6],23,76029189),o=Kn(o,l,d,f,e[r+9],4,-640364487),f=Kn(f,o,l,d,e[r+12],11,-421815835),d=Kn(d,f,o,l,e[r+15],16,530742520),l=Kn(l,d,f,o,e[r+2],23,-995338651),o=Gn(o,l,d,f,e[r],6,-198630844),f=Gn(f,o,l,d,e[r+7],10,1126891415),d=Gn(d,f,o,l,e[r+14],15,-1416354905),l=Gn(l,d,f,o,e[r+5],21,-57434055),o=Gn(o,l,d,f,e[r+12],6,1700485571),f=Gn(f,o,l,d,e[r+3],10,-1894986606),d=Gn(d,f,o,l,e[r+10],15,-1051523),l=Gn(l,d,f,o,e[r+1],21,-2054922799),o=Gn(o,l,d,f,e[r+8],6,1873313359),f=Gn(f,o,l,d,e[r+15],10,-30611744),d=Gn(d,f,o,l,e[r+6],15,-1560198380),l=Gn(l,d,f,o,e[r+13],21,1309151649),o=Gn(o,l,d,f,e[r+4],6,-145523070),f=Gn(f,o,l,d,e[r+11],10,-1120210379),d=Gn(d,f,o,l,e[r+2],15,718787259),l=Gn(l,d,f,o,e[r+9],21,-343485551),o=Fo(o,n),l=Fo(l,i),d=Fo(d,s),f=Fo(f,a);return[o,l,d,f]}function e_(e){var t,r=[];for(r[(e.length>>2)-1]=void 0,t=0;t<r.length;t+=1)r[t]=0;var n=e.length*8;for(t=0;t<n;t+=8)r[t>>5]|=(e[t/8]&255)<<t%32;return r}function Fo(e,t){var r=(e&65535)+(t&65535),n=(e>>16)+(t>>16)+(r>>16);return n<<16|r&65535}function t_(e,t){return e<<t|e>>>32-t}function Kh(e,t,r,n,i,s){return Fo(t_(Fo(Fo(t,e),Fo(n,s)),i),r)}function Hn(e,t,r,n,i,s,a){return Kh(t&r|~t&n,e,t,i,s,a)}function Wn(e,t,r,n,i,s,a){return Kh(t&n|r&~n,e,t,i,s,a)}function Kn(e,t,r,n,i,s,a){return Kh(t^r^n,e,t,i,s,a)}function Gn(e,t,r,n,i,s,a){return Kh(r^(t|~n),e,t,i,s,a)}var r_=Yj;Wh.default=r_;Object.defineProperty(Hh,"__esModule",{value:!0});Hh.default=void 0;var n_=Ab(Ko),i_=Ab(Wh);function Ab(e){return e&&e.__esModule?e:{default:e}}const s_=(0,n_.default)("v3",48,i_.default);var a_=s_;Hh.default=a_;var Gh={};Object.defineProperty(Gh,"__esModule",{value:!0});Gh.default=void 0;var o_=kb($h),l_=kb(nc);function kb(e){return e&&e.__esModule?e:{default:e}}function u_(e,t,r){var n=t&&r||0;typeof e=="string"&&(t=e==="binary"?new Array(16):null,e=null),e=e||{};var i=e.random||(e.rng||o_.default)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t)for(var s=0;s<16;++s)t[n+s]=i[s];return t||(0,l_.default)(i)}var c_=u_;Gh.default=c_;var Qh={},Jh={};Object.defineProperty(Jh,"__esModule",{value:!0});Jh.default=void 0;function f_(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function o0(e,t){return e<<t|e>>>32-t}function d_(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var n=unescape(encodeURIComponent(e));e=new Array(n.length);for(var i=0;i<n.length;i++)e[i]=n.charCodeAt(i)}e.push(128);for(var s=e.length/4+2,a=Math.ceil(s/16),o=new Array(a),i=0;i<a;i++){o[i]=new Array(16);for(var l=0;l<16;l++)o[i][l]=e[i*64+l*4]<<24|e[i*64+l*4+1]<<16|e[i*64+l*4+2]<<8|e[i*64+l*4+3]}o[a-1][14]=(e.length-1)*8/Math.pow(2,32),o[a-1][14]=Math.floor(o[a-1][14]),o[a-1][15]=(e.length-1)*8&4294967295;for(var i=0;i<a;i++){for(var d=new Array(80),f=0;f<16;f++)d[f]=o[i][f];for(var f=16;f<80;f++)d[f]=o0(d[f-3]^d[f-8]^d[f-14]^d[f-16],1);for(var h=r[0],m=r[1],g=r[2],w=r[3],_=r[4],f=0;f<80;f++){var L=Math.floor(f/20),x=o0(h,5)+f_(L,m,g,w)+_+t[L]+d[f]>>>0;_=w,w=g,g=o0(m,30)>>>0,m=h,h=x}r[0]=r[0]+h>>>0,r[1]=r[1]+m>>>0,r[2]=r[2]+g>>>0,r[3]=r[3]+w>>>0,r[4]=r[4]+_>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var h_=d_;Jh.default=h_;Object.defineProperty(Qh,"__esModule",{value:!0});Qh.default=void 0;var p_=Lb(Ko),m_=Lb(Jh);function Lb(e){return e&&e.__esModule?e:{default:e}}const g_=(0,p_.default)("v5",80,m_.default);var v_=g_;Qh.default=v_;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return i.default}});var t=s(Vh),r=s(Hh),n=s(Gh),i=s(Qh);function s(a){return a&&a.__esModule?a:{default:a}}})(wb);const Yh=hf(wb);Yh.v1;Yh.v3;const y_=Yh.v4;Yh.v5;const Vs={getAll:async e=>{if(nu.getOnlineStatus())try{const o=await Rt.get("/feuilles",{params:e}),d=(o.data.pagination,o.data.data).map(f=>({...f,syncStatus:"synced"}));return await Zr.feuilles.bulkPut(d),o.data.pagination?{data:d,pagination:o.data.pagination}:d}catch(o){console.warn("API Error, falling back to cache",o)}let t=Zr.feuilles.toCollection();e!=null&&e.statut&&(t=Zr.feuilles.where("statut").equals(e.statut));const r=await t.reverse().sortBy("dateTravail"),n=(e==null?void 0:e.page)||1,i=(e==null?void 0:e.limit)||20,s=(n-1)*i;return{data:r.slice(s,s+i),pagination:{page:n,pageSize:i,total:r.length,totalPages:Math.ceil(r.length/i)}}},getById:async e=>{if(nu.getOnlineStatus())try{return(await Rt.get(`/feuilles/${e}`)).data.data}catch{console.warn("Fetch error, trying cache")}const t=await Zr.feuilles.get(e);if(t)return t;throw new Error("Feuille non trouve (et pas de connexion)")},create:async e=>{if(nu.getOnlineStatus())try{const i={...(await Rt.post("/feuilles",e)).data.data,syncStatus:"synced"};return await Zr.feuilles.put(i),i}catch{console.warn("API Create failed, switching to offline mode")}const t=y_(),r={...e,id:t,statut:"BROUILLON",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),syncStatus:"pending"};return await Zr.feuilles.add(r),await nu.addToQueue("CREATE_FEUILLE",r),r},update:async(e,t)=>{if(nu.getOnlineStatus())try{const i={...(await Rt.put(`/feuilles/${e}`,t)).data.data,syncStatus:"synced"};return await Zr.feuilles.put(i),i}catch(n){console.warn("API Update failed, switching to offline",n)}const r=await Zr.feuilles.get(e);if(r){const n={...r,...t,updatedAt:new Date().toISOString(),syncStatus:"pending"};return await Zr.feuilles.put(n),await nu.addToQueue("UPDATE_FEUILLE",{id:e,data:t}),n}throw new Error("Feuille non trouve localement pour mise  jour")},delete:async e=>(await Rt.delete(`/feuilles/${e}`)).data,submit:async e=>(await Rt.post(`/feuilles/${e}/submit`)).data.data,validate:async e=>(await Rt.post(`/feuilles/${e}/validate`)).data.data,reject:async e=>(await Rt.post(`/feuilles/${e}/reject`)).data.data,addFrais:async(e,t)=>(await Rt.post(`/feuilles/${e}/frais`,t)).data.data,deleteFrais:async(e,t)=>(await Rt.delete(`/feuilles/${e}/frais/${t}`)).data},Vo={getAll:async(e,t,r)=>{const n={};e!==void 0&&(n.actif=e),t!==void 0&&(n.page=t),r!==void 0&&(n.limit=r);const i=await Rt.get("/monteurs",{params:n});return i.data.pagination?{data:i.data.data,pagination:i.data.pagination}:i.data.data},getById:async e=>(await Rt.get(`/monteurs/${e}`)).data.data,getStats:async(e,t,r)=>{const n={};return t&&(n.mois=t),r&&(n.annee=r),(await Rt.get(`/monteurs/${e}/stats`,{params:n})).data.data},create:async e=>(await Rt.post("/monteurs",e)).data.data,update:async(e,t)=>(await Rt.put(`/monteurs/${e}`,t)).data.data,delete:async e=>(await Rt.delete(`/monteurs/${e}`)).data},x_=Object.freeze(Object.defineProperty({__proto__:null,monteurService:Vo},Symbol.toStringTag,{value:"Module"})),Cl={getAll:async(e,t,r)=>{const n={};e!==void 0&&(n.actif=e),t!==void 0&&(n.page=t),r!==void 0&&(n.limit=r);const i=await Rt.get("/chantiers",{params:n});return i.data.pagination?{data:i.data.data,pagination:i.data.pagination}:i.data.data},getById:async e=>(await Rt.get(`/chantiers/${e}`)).data.data,getStats:async e=>(await Rt.get(`/chantiers/${e}/stats`)).data.data,create:async e=>(await Rt.post("/chantiers",e)).data.data,update:async(e,t)=>(await Rt.put(`/chantiers/${e}`,t)).data.data,delete:async e=>(await Rt.delete(`/chantiers/${e}`)).data},ps=({title:e,value:t,icon:r,color:n,loading:i})=>u.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500",children:e}),i?u.jsx(fr,{className:"animate-spin mt-2",size:24}):u.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:t})]}),u.jsx("div",{className:`p-3 rounded-full ${n}`,children:r})]})}),Eb=e=>{switch(e){case"VALIDE":return"bg-green-100 text-green-700";case"SOUMIS":return"bg-yellow-100 text-yellow-700";case"REJETE":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},t2=e=>new Date(e).toLocaleDateString("fr-FR"),b_=()=>{const[e,t]=_e.useState(!0),[r,n]=_e.useState([]),[i,s]=_e.useState([]),[a,o]=_e.useState([]);_e.useEffect(()=>{(async()=>{try{const[h,m,g]=await Promise.all([Vo.getAll(),Cl.getAll(),Vs.getAll()]),w="pagination"in h?h.data:h,_="pagination"in m?m.data:m,L="pagination"in g?g.data:g;n(w),s(_),o(L)}catch(h){console.error("Erreur chargement donnes:",h)}finally{t(!1)}})()},[]);const l=r.filter(f=>f.actif).length,d=i.filter(f=>f.actif).length;return u.jsxs("div",{className:"space-y-6",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Vue Administrateur"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsx(ps,{title:"Total Monteurs",value:r.length,icon:u.jsx(ff,{className:"text-blue-600",size:24}),color:"bg-blue-100",loading:e}),u.jsx(ps,{title:"Monteurs Actifs",value:l,icon:u.jsx(ff,{className:"text-green-600",size:24}),color:"bg-green-100",loading:e}),u.jsx(ps,{title:"Chantiers Actifs",value:d,icon:u.jsx(lf,{className:"text-purple-600",size:24}),color:"bg-purple-100",loading:e}),u.jsx(ps,{title:"Total Feuilles",value:a.length,icon:u.jsx(Wo,{className:"text-orange-600",size:24}),color:"bg-orange-100",loading:e})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Dernieres feuilles"}),e?u.jsx("div",{className:"flex justify-center py-8",children:u.jsx(fr,{className:"animate-spin",size:32})}):u.jsx("div",{className:"space-y-3",children:a.slice(0,5).map(f=>{var h,m,g;return u.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"font-medium",children:[(h=f.monteur)==null?void 0:h.prenom," ",(m=f.monteur)==null?void 0:m.nom]}),u.jsx("p",{className:"text-sm text-gray-500",children:(g=f.chantier)==null?void 0:g.nom})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${Eb(f.statut)}`,children:f.statut}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:t2(f.dateTravail)})]})]},f.id)})})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Chantiers actifs"}),e?u.jsx("div",{className:"flex justify-center py-8",children:u.jsx(fr,{className:"animate-spin",size:32})}):u.jsx("div",{className:"space-y-3",children:i.filter(f=>f.actif).slice(0,5).map(f=>u.jsxs("div",{className:"flex items-center gap-3 py-2 border-b",children:[u.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:f.nom}),u.jsx("p",{className:"text-sm text-gray-500",children:f.client})]})]},f.id))})]})]})]})},w_=()=>{const[e,t]=_e.useState(!0),[r,n]=_e.useState([]);_e.useEffect(()=>{(async()=>{try{const h=await Vs.getAll(),m="pagination"in h?h.data:h;n(m)}catch(h){console.error("Erreur chargement feuilles:",h)}finally{t(!1)}})()},[]);const i=async f=>{try{await Vs.validate(f),n(r.map(h=>h.id===f?{...h,statut:"VALIDE"}:h))}catch(h){console.error("Erreur validation:",h)}},s=async f=>{try{await Vs.reject(f),n(r.map(h=>h.id===f?{...h,statut:"REJETE"}:h))}catch(h){console.error("Erreur rejet:",h)}},a=r.filter(f=>f.statut==="SOUMIS"),o=r.filter(f=>f.statut==="VALIDE"),l=r.filter(f=>f.statut==="REJETE"),d=r.reduce((f,h)=>f+h.heuresTotales,0);return u.jsxs("div",{className:"space-y-6",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Vue Superviseur"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsx(ps,{title:"En attente",value:a.length,icon:u.jsx(Wu,{className:"text-yellow-600",size:24}),color:"bg-yellow-100",loading:e}),u.jsx(ps,{title:"Validees",value:o.length,icon:u.jsx(Mh,{className:"text-green-600",size:24}),color:"bg-green-100",loading:e}),u.jsx(ps,{title:"Rejetees",value:l.length,icon:u.jsx(rj,{className:"text-red-600",size:24}),color:"bg-red-100",loading:e}),u.jsx(ps,{title:"Heures totales",value:`${d}h`,icon:u.jsx(uf,{className:"text-blue-600",size:24}),color:"bg-blue-100",loading:e})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Feuilles en attente de validation"}),e?u.jsx("div",{className:"flex justify-center py-8",children:u.jsx(fr,{className:"animate-spin",size:32})}):a.length===0?u.jsx("p",{className:"text-gray-500 text-center py-4",children:"Aucune feuille en attente"}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-left text-sm text-gray-500 border-b",children:[u.jsx("th",{className:"pb-3",children:"Monteur"}),u.jsx("th",{className:"pb-3",children:"Chantier"}),u.jsx("th",{className:"pb-3",children:"Date"}),u.jsx("th",{className:"pb-3",children:"Heures"}),u.jsx("th",{className:"pb-3",children:"Actions"})]})}),u.jsx("tbody",{children:a.map(f=>{var h,m,g;return u.jsxs("tr",{className:"border-b",children:[u.jsxs("td",{className:"py-3",children:[(h=f.monteur)==null?void 0:h.prenom," ",(m=f.monteur)==null?void 0:m.nom]}),u.jsx("td",{className:"py-3",children:(g=f.chantier)==null?void 0:g.nom}),u.jsx("td",{className:"py-3",children:t2(f.dateTravail)}),u.jsxs("td",{className:"py-3",children:[f.heuresTotales,"h"]}),u.jsx("td",{className:"py-3",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>i(f.id),className:"px-3 py-1 bg-green-100 text-green-700 rounded text-sm hover:bg-green-200",children:"Valider"}),u.jsx("button",{onClick:()=>s(f.id),className:"px-3 py-1 bg-red-100 text-red-700 rounded text-sm hover:bg-red-200",children:"Rejeter"})]})})]},f.id)})})]})})]})]})},F5=()=>{var l;const{user:e}=hs(),[t,r]=_e.useState(!0),[n,i]=_e.useState([]);_e.useEffect(()=>{(async()=>{try{const f=await Vs.getAll(),h="pagination"in f?f.data:f;i(h)}catch(f){console.error("Erreur chargement feuilles:",f)}finally{r(!1)}})()},[]);const s=n.length,a=n.reduce((d,f)=>d+f.heuresTotales,0),o=n.filter(d=>d.statut==="SOUMIS").length;return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Bienvenue, ",((l=e==null?void 0:e.monteur)==null?void 0:l.prenom)||"Monteur"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsx(ps,{title:"Mes feuilles",value:s,icon:u.jsx(Wo,{className:"text-blue-600",size:24}),color:"bg-blue-100",loading:t}),u.jsx(ps,{title:"Heures totales",value:`${a}h`,icon:u.jsx(uf,{className:"text-green-600",size:24}),color:"bg-green-100",loading:t}),u.jsx(ps,{title:"En attente",value:o,icon:u.jsx(Wu,{className:"text-yellow-600",size:24}),color:"bg-yellow-100",loading:t}),u.jsx(ps,{title:"Ce mois",value:`${a}h`,icon:u.jsx(X8,{className:"text-purple-600",size:24}),color:"bg-purple-100",loading:t})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[u.jsx("div",{className:"flex items-center justify-between mb-4",children:u.jsx("h3",{className:"text-lg font-semibold",children:"Mes dernieres feuilles"})}),t?u.jsx("div",{className:"flex justify-center py-8",children:u.jsx(fr,{className:"animate-spin",size:32})}):n.length===0?u.jsx("p",{className:"text-gray-500 text-center py-4",children:"Aucune feuille"}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-left text-sm text-gray-500 border-b",children:[u.jsx("th",{className:"pb-3",children:"Date"}),u.jsx("th",{className:"pb-3",children:"Chantier"}),u.jsx("th",{className:"pb-3",children:"Heures"}),u.jsx("th",{className:"pb-3",children:"Statut"})]})}),u.jsx("tbody",{children:n.slice(0,5).map(d=>{var f;return u.jsxs("tr",{className:"border-b",children:[u.jsx("td",{className:"py-3",children:t2(d.dateTravail)}),u.jsx("td",{className:"py-3",children:(f=d.chantier)==null?void 0:f.nom}),u.jsxs("td",{className:"py-3",children:[d.heuresTotales,"h"]}),u.jsx("td",{className:"py-3",children:u.jsx("span",{className:`px-2 py-1 rounded-full text-sm ${Eb(d.statut)}`,children:d.statut})})]},d.id)})})]})})]})]})},N_=()=>{const{user:e}=hs();switch(e==null?void 0:e.role){case"ADMIN":return u.jsx(b_,{});case"SUPERVISEUR":return u.jsx(w_,{});case"MONTEUR":return u.jsx(F5,{});default:return u.jsx(F5,{})}},Gu=({isOpen:e,onClose:t,title:r,children:n,size:i="md"})=>{if(_e.useEffect(()=>{const a=o=>{o.key==="Escape"&&t()};return e&&(document.addEventListener("keydown",a),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",a),document.body.style.overflow="unset"}},[e,t]),!e)return null;const s={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[u.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:t}),u.jsxs("div",{className:`relative bg-white w-full flex flex-col shadow-xl 
        md:rounded-lg md:mx-4 md:max-h-[90vh] md:h-auto ${s[i]}
        h-full max-h-[100dvh] rounded-none sm:rounded-lg sm:mx-4 sm:h-auto
      `,children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b shrink-0",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r}),u.jsx("button",{onClick:t,className:"p-1 rounded-lg hover:bg-gray-100 text-gray-500",children:u.jsx(Ma,{size:24})})]}),u.jsx("div",{className:"p-4 overflow-y-auto",children:n})]})]})},S_=[{value:"TRANSPORT",label:"Transport"},{value:"MATERIEL",label:"Materiel"},{value:"REPAS",label:"Repas"},{value:"AUTRES",label:"Autres"}],j_=({feuille:e,onSubmit:t,onCancel:r,isLoading:n})=>{var T;const[i,s]=_e.useState([]),[a,o]=_e.useState([]),[l,d]=_e.useState(!0),{register:f,handleSubmit:h,control:m,watch:g,formState:{errors:w}}=Ka({defaultValues:e?{monteurId:e.monteurId,chantierId:e.chantierId,dateTravail:e.dateTravail.split("T")[0],heureDebut:e.heureDebut,heureFin:e.heureFin,descriptionTravail:e.descriptionTravail,frais:((T=e.frais)==null?void 0:T.map(V=>({typeFrais:V.typeFrais,montant:V.montant,description:V.description})))||[]}:{dateTravail:new Date().toISOString().split("T")[0],heureDebut:"08:00",heureFin:"17:00",frais:[]}}),{fields:_,append:L,remove:x}=Rj({control:m,name:"frais"}),S=g("frais"),F=(S==null?void 0:S.reduce((V,U)=>V+(Number(U.montant)||0),0))||0;return _e.useEffect(()=>{(async()=>{try{const[U,$]=await Promise.all([Vo.getAll(!0),Cl.getAll(!0)]),N="pagination"in U?U.data:U,k="pagination"in $?$.data:$;s(N),o(k)}catch(U){console.error("Erreur chargement donnees:",U)}finally{d(!1)}})()},[]),l?u.jsx("div",{className:"flex justify-center py-8",children:u.jsx(fr,{className:"animate-spin text-blue-600",size:32})}):u.jsxs("form",{onSubmit:h(t),className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monteur *"}),u.jsxs("select",{...f("monteurId",{required:"Monteur requis"}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${w.monteurId?"border-red-500":"border-gray-300"}`,disabled:!!e,children:[u.jsx("option",{value:"",children:"Selectionner un monteur"}),i.map(V=>u.jsxs("option",{value:V.id,children:[V.prenom," ",V.nom," (",V.numeroIdentification,")"]},V.id))]}),w.monteurId&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.monteurId.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chantier *"}),u.jsxs("select",{...f("chantierId",{required:"Chantier requis"}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${w.chantierId?"border-red-500":"border-gray-300"}`,children:[u.jsx("option",{value:"",children:"Selectionner un chantier"}),a.map(V=>u.jsxs("option",{value:V.id,children:[V.nom," (",V.reference,")"]},V.id))]}),w.chantierId&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.chantierId.message})]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de travail *"}),u.jsx("input",{type:"date",...f("dateTravail",{required:"Date requise"}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${w.dateTravail?"border-red-500":"border-gray-300"}`}),w.dateTravail&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.dateTravail.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Heure debut *"}),u.jsx("input",{type:"time",...f("heureDebut",{required:"Heure requise"}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${w.heureDebut?"border-red-500":"border-gray-300"}`}),w.heureDebut&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.heureDebut.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Heure fin *"}),u.jsx("input",{type:"time",...f("heureFin",{required:"Heure requise"}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${w.heureFin?"border-red-500":"border-gray-300"}`}),w.heureFin&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.heureFin.message})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description du travail *"}),u.jsx("textarea",{...f("descriptionTravail",{required:"Description requise"}),rows:3,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${w.descriptionTravail?"border-red-500":"border-gray-300"}`,placeholder:"Decrivez les travaux effectues..."}),w.descriptionTravail&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.descriptionTravail.message})]}),u.jsxs("div",{className:"border-t pt-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h4",{className:"font-medium text-gray-900",children:"Frais"}),u.jsxs("button",{type:"button",onClick:()=>L({typeFrais:"TRANSPORT",montant:0,description:""}),className:"flex items-center gap-1 text-sm text-blue-600 hover:text-blue-800",children:[u.jsx(Sf,{size:16}),"Ajouter un frais"]})]}),_.length===0?u.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Aucun frais ajoute"}):u.jsxs("div",{className:"space-y-3",children:[_.map((V,U)=>u.jsxs("div",{className:"flex gap-3 items-start p-3 bg-gray-50 rounded-lg",children:[u.jsxs("div",{className:"flex-1 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[u.jsx("div",{children:u.jsx("select",{...f(`frais.${U}.typeFrais`),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:S_.map($=>u.jsx("option",{value:$.value,children:$.label},$.value))})}),u.jsx("div",{children:u.jsx("input",{type:"number",step:"0.01",min:"0",...f(`frais.${U}.montant`,{valueAsNumber:!0}),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Montant"})}),u.jsx("div",{children:u.jsx("input",{type:"text",...f(`frais.${U}.description`),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Description"})})]}),u.jsx("button",{type:"button",onClick:()=>x(U),className:"p-1.5 text-red-500 hover:text-red-700 hover:bg-red-50 rounded",children:u.jsx(Jm,{size:16})})]},V.id)),u.jsx("div",{className:"flex justify-end pt-2 text-sm",children:u.jsxs("span",{className:"font-medium",children:["Total: ",F.toFixed(2)," EUR"]})})]})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border rounded-lg hover:bg-gray-50",disabled:n,children:"Annuler"}),u.jsx("button",{type:"submit",disabled:n,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:n?u.jsxs(u.Fragment,{children:[u.jsx(fr,{className:"animate-spin",size:18}),"Enregistrement..."]}):u.jsxs(u.Fragment,{children:[u.jsx(zh,{size:18}),e?"Modifier":"Creer"]})})]})]})},r2=({currentPage:e,totalPages:t,onPageChange:r,pageSize:n,total:i})=>{if(t<=1)return null;const s=()=>{const l=[];if(t<=5)for(let f=1;f<=t;f++)l.push(f);else{l.push(1),e>3&&l.push("...");const f=Math.max(2,e-1),h=Math.min(t-1,e+1);for(let m=f;m<=h;m++)l.push(m);e<t-2&&l.push("..."),l.push(t)}return l},a=(e-1)*n+1,o=Math.min(e*n,i);return u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t bg-white",children:[u.jsxs("div",{className:"text-sm text-gray-700",children:["Affichage de ",u.jsx("span",{className:"font-medium",children:a})," "," ",u.jsx("span",{className:"font-medium",children:o})," sur"," ",u.jsx("span",{className:"font-medium",children:i})," rsultat(s)"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>r(e-1),disabled:e===1,className:"p-2 rounded-lg border hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Page prcdente",children:u.jsx(N1,{size:18})}),u.jsx("div",{className:"flex gap-1",children:s().map((l,d)=>{if(l==="...")return u.jsx("span",{className:"px-3 py-2 text-gray-500",children:"..."},`ellipsis-${d}`);const f=l,h=f===e;return u.jsx("button",{onClick:()=>r(f),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${h?"bg-blue-600 text-white":"border hover:bg-gray-50 text-gray-700"}`,children:f},f)})}),u.jsx("button",{onClick:()=>r(e+1),disabled:e===t,className:"p-2 rounded-lg border hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Page suivante",children:u.jsx(kd,{size:18})})]})]})},l0={upload:async(e,t,r)=>{const n=new FormData;return Array.from(e).forEach(s=>{n.append("files",s)}),n.append("feuilleId",t),r&&n.append("description",r),(await Rt.post("/fichiers/upload",n,{headers:{"Content-Type":"multipart/form-data"}})).data},getByFeuille:async e=>(await Rt.get(`/fichiers/feuille/${e}`)).data.data,delete:async e=>(await Rt.delete(`/fichiers/${e}`)).data};function __(e,t){return t.forEach(function(r){r&&typeof r!="string"&&!Array.isArray(r)&&Object.keys(r).forEach(function(n){if(n!=="default"&&!(n in e)){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}})}),Object.freeze(e)}function Cb(e,t){return new Promise(function(r,n){let i;return A_(e).then(function(s){try{return i=s,r(new Blob([t.slice(0,2),i,t.slice(2)],{type:"image/jpeg"}))}catch(a){return n(a)}},n)})}const A_=e=>new Promise((t,r)=>{const n=new FileReader;n.addEventListener("load",({target:{result:i}})=>{const s=new DataView(i);let a=0;if(s.getUint16(a)!==65496)return r("not a valid JPEG");for(a+=2;;){const o=s.getUint16(a);if(o===65498)break;const l=s.getUint16(a+2);if(o===65505&&s.getUint32(a+4)===1165519206){const d=a+10;let f;switch(s.getUint16(d)){case 18761:f=!0;break;case 19789:f=!1;break;default:return r("TIFF header contains invalid endian")}if(s.getUint16(d+2,f)!==42)return r("TIFF header contains invalid version");const h=s.getUint32(d+4,f),m=d+h+2+12*s.getUint16(d+h,f);for(let g=d+h+2;g<m;g+=12)if(s.getUint16(g,f)==274){if(s.getUint16(g+2,f)!==3)return r("Orientation data type is invalid");if(s.getUint32(g+4,f)!==1)return r("Orientation data count is invalid");s.setUint16(g+8,1,f);break}return t(i.slice(a,a+2+l))}a+=2+l}return t(new Blob)}),n.readAsArrayBuffer(e)});var lh={},k_={get exports(){return lh},set exports(e){lh=e}};(function(e){var t,r,n={};k_.exports=n,n.parse=function(i,s){for(var a=n.bin.readUshort,o=n.bin.readUint,l=0,d={},f=new Uint8Array(i),h=f.length-4;o(f,h)!=101010256;)h--;l=h,l+=4;var m=a(f,l+=4);a(f,l+=2);var g=o(f,l+=2),w=o(f,l+=4);l+=4,l=w;for(var _=0;_<m;_++){o(f,l),l+=4,l+=4,l+=4,o(f,l+=4),g=o(f,l+=4);var L=o(f,l+=4),x=a(f,l+=4),S=a(f,l+2),F=a(f,l+4);l+=6;var T=o(f,l+=8);l+=4,l+=x+S+F,n._readLocal(f,T,d,g,L,s)}return d},n._readLocal=function(i,s,a,o,l,d){var f=n.bin.readUshort,h=n.bin.readUint;h(i,s),f(i,s+=4),f(i,s+=2);var m=f(i,s+=2);h(i,s+=2),h(i,s+=4),s+=4;var g=f(i,s+=8),w=f(i,s+=2);s+=2;var _=n.bin.readUTF8(i,s,g);if(s+=g,s+=w,d)a[_]={size:l,csize:o};else{var L=new Uint8Array(i.buffer,s);if(m==0)a[_]=new Uint8Array(L.buffer.slice(s,s+o));else{if(m!=8)throw"unknown compression method: "+m;var x=new Uint8Array(l);n.inflateRaw(L,x),a[_]=x}}},n.inflateRaw=function(i,s){return n.F.inflate(i,s)},n.inflate=function(i,s){return i[0],i[1],n.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),s)},n.deflate=function(i,s){s==null&&(s={level:6});var a=0,o=new Uint8Array(50+Math.floor(1.1*i.length));o[a]=120,o[a+1]=156,a+=2,a=n.F.deflateRaw(i,o,a,s.level);var l=n.adler(i,0,i.length);return o[a+0]=l>>>24&255,o[a+1]=l>>>16&255,o[a+2]=l>>>8&255,o[a+3]=l>>>0&255,new Uint8Array(o.buffer,0,a+4)},n.deflateRaw=function(i,s){s==null&&(s={level:6});var a=new Uint8Array(50+Math.floor(1.1*i.length)),o=n.F.deflateRaw(i,a,o,s.level);return new Uint8Array(a.buffer,0,o)},n.encode=function(i,s){s==null&&(s=!1);var a=0,o=n.bin.writeUint,l=n.bin.writeUshort,d={};for(var f in i){var h=!n._noNeed(f)&&!s,m=i[f],g=n.crc.crc(m,0,m.length);d[f]={cpr:h,usize:m.length,crc:g,file:h?n.deflateRaw(m):m}}for(var f in d)a+=d[f].file.length+30+46+2*n.bin.sizeUTF8(f);a+=22;var w=new Uint8Array(a),_=0,L=[];for(var f in d){var x=d[f];L.push(_),_=n._writeHeader(w,_,f,x,0)}var S=0,F=_;for(var f in d)x=d[f],L.push(_),_=n._writeHeader(w,_,f,x,1,L[S++]);var T=_-F;return o(w,_,101010256),_+=4,l(w,_+=4,S),l(w,_+=2,S),o(w,_+=2,T),o(w,_+=4,F),_+=4,_+=2,w.buffer},n._noNeed=function(i){var s=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(s)!=-1},n._writeHeader=function(i,s,a,o,l,d){var f=n.bin.writeUint,h=n.bin.writeUshort,m=o.file;return f(i,s,l==0?67324752:33639248),s+=4,l==1&&(s+=2),h(i,s,20),h(i,s+=2,0),h(i,s+=2,o.cpr?8:0),f(i,s+=2,0),f(i,s+=4,o.crc),f(i,s+=4,m.length),f(i,s+=4,o.usize),h(i,s+=4,n.bin.sizeUTF8(a)),h(i,s+=2,0),s+=2,l==1&&(s+=2,s+=2,f(i,s+=6,d),s+=4),s+=n.bin.writeUTF8(i,s,a),l==0&&(i.set(m,s),s+=m.length),s},n.crc={table:function(){for(var i=new Uint32Array(256),s=0;s<256;s++){for(var a=s,o=0;o<8;o++)1&a?a=3988292384^a>>>1:a>>>=1;i[s]=a}return i}(),update:function(i,s,a,o){for(var l=0;l<o;l++)i=n.crc.table[255&(i^s[a+l])]^i>>>8;return i},crc:function(i,s,a){return 4294967295^n.crc.update(4294967295,i,s,a)}},n.adler=function(i,s,a){for(var o=1,l=0,d=s,f=s+a;d<f;){for(var h=Math.min(d+5552,f);d<h;)l+=o+=i[d++];o%=65521,l%=65521}return l<<16|o},n.bin={readUshort:function(i,s){return i[s]|i[s+1]<<8},writeUshort:function(i,s,a){i[s]=255&a,i[s+1]=a>>8&255},readUint:function(i,s){return 16777216*i[s+3]+(i[s+2]<<16|i[s+1]<<8|i[s])},writeUint:function(i,s,a){i[s]=255&a,i[s+1]=a>>8&255,i[s+2]=a>>16&255,i[s+3]=a>>24&255},readASCII:function(i,s,a){for(var o="",l=0;l<a;l++)o+=String.fromCharCode(i[s+l]);return o},writeASCII:function(i,s,a){for(var o=0;o<a.length;o++)i[s+o]=a.charCodeAt(o)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,s,a){for(var o,l="",d=0;d<a;d++)l+="%"+n.bin.pad(i[s+d].toString(16));try{o=decodeURIComponent(l)}catch{return n.bin.readASCII(i,s,a)}return o},writeUTF8:function(i,s,a){for(var o=a.length,l=0,d=0;d<o;d++){var f=a.charCodeAt(d);if(!(4294967168&f))i[s+l]=f,l++;else if(!(4294965248&f))i[s+l]=192|f>>6,i[s+l+1]=128|f>>0&63,l+=2;else if(!(4294901760&f))i[s+l]=224|f>>12,i[s+l+1]=128|f>>6&63,i[s+l+2]=128|f>>0&63,l+=3;else{if(4292870144&f)throw"e";i[s+l]=240|f>>18,i[s+l+1]=128|f>>12&63,i[s+l+2]=128|f>>6&63,i[s+l+3]=128|f>>0&63,l+=4}}return l},sizeUTF8:function(i){for(var s=i.length,a=0,o=0;o<s;o++){var l=i.charCodeAt(o);if(!(4294967168&l))a++;else if(!(4294965248&l))a+=2;else if(!(4294901760&l))a+=3;else{if(4292870144&l)throw"e";a+=4}}return a}},n.F={},n.F.deflateRaw=function(i,s,a,o){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][o],d=n.F.U,f=n.F._goodIndex;n.F._hash;var h=n.F._putsE,m=0,g=a<<3,w=0,_=i.length;if(o==0){for(;m<_;)h(s,g,m+(P=Math.min(65535,_-m))==_?1:0),g=n.F._copyExact(i,m,P,s,g+8),m+=P;return g>>>3}var L=d.lits,x=d.strt,S=d.prev,F=0,T=0,V=0,U=0,$=0,N=0;for(_>2&&(x[N=n.F._hash(i,0)]=0),m=0;m<_;m++){if($=N,m+1<_-2){N=n.F._hash(i,m+1);var k=m+1&32767;S[k]=x[N],x[N]=k}if(w<=m){(F>14e3||T>26697)&&_-m>100&&(w<m&&(L[F]=m-w,F+=2,w=m),g=n.F._writeBlock(m==_-1||w==_?1:0,L,F,U,i,V,m-V,s,g),F=T=U=0,V=m);var M=0;m<_-2&&(M=n.F._bestMatch(i,m,S,$,Math.min(l[2],_-m),l[3]));var P=M>>>16,E=65535&M;if(M!=0){E=65535&M;var C=f(P=M>>>16,d.of0);d.lhst[257+C]++;var D=f(E,d.df0);d.dhst[D]++,U+=d.exb[C]+d.dxb[D],L[F]=P<<23|m-w,L[F+1]=E<<16|C<<8|D,F+=2,w=m+P}else d.lhst[i[m]]++;T++}}for(V==m&&i.length!=0||(w<m&&(L[F]=m-w,F+=2,w=m),g=n.F._writeBlock(1,L,F,U,i,V,m-V,s,g),F=0,T=0,F=T=U=0,V=m);7&g;)g++;return g>>>3},n.F._bestMatch=function(i,s,a,o,l,d){var f=32767&s,h=a[f],m=f-h+32768&32767;if(h==f||o!=n.F._hash(i,s-m))return 0;for(var g=0,w=0,_=Math.min(32767,s);m<=_&&--d!=0&&h!=f;){if(g==0||i[s+g]==i[s+g-m]){var L=n.F._howLong(i,s,m);if(L>g){if(w=m,(g=L)>=l)break;m+2<L&&(L=m+2);for(var x=0,S=0;S<L-2;S++){var F=s-m+S+32768&32767,T=F-a[F]+32768&32767;T>x&&(x=T,h=F)}}}m+=(f=h)-(h=a[f])+32768&32767}return g<<16|w},n.F._howLong=function(i,s,a){if(i[s]!=i[s-a]||i[s+1]!=i[s+1-a]||i[s+2]!=i[s+2-a])return 0;var o=s,l=Math.min(i.length,s+258);for(s+=3;s<l&&i[s]==i[s-a];)s++;return s-o},n.F._hash=function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<4)&65535},n.saved=0,n.F._writeBlock=function(i,s,a,o,l,d,f,h,m){var g,w,_,L,x,S,F,T,V,U=n.F.U,$=n.F._putsF,N=n.F._putsE;U.lhst[256]++,w=(g=n.F.getTrees())[0],_=g[1],L=g[2],x=g[3],S=g[4],F=g[5],T=g[6],V=g[7];var k=32+(m+3&7?8-(m+3&7):0)+(f<<3),M=o+n.F.contSize(U.fltree,U.lhst)+n.F.contSize(U.fdtree,U.dhst),P=o+n.F.contSize(U.ltree,U.lhst)+n.F.contSize(U.dtree,U.dhst);P+=14+3*F+n.F.contSize(U.itree,U.ihst)+(2*U.ihst[16]+3*U.ihst[17]+7*U.ihst[18]);for(var E=0;E<286;E++)U.lhst[E]=0;for(E=0;E<30;E++)U.dhst[E]=0;for(E=0;E<19;E++)U.ihst[E]=0;var C=k<M&&k<P?0:M<P?1:2;if($(h,m,i),$(h,m+1,C),m+=3,C==0){for(;7&m;)m++;m=n.F._copyExact(l,d,f,h,m)}else{var D,re;if(C==1&&(D=U.fltree,re=U.fdtree),C==2){n.F.makeCodes(U.ltree,w),n.F.revCodes(U.ltree,w),n.F.makeCodes(U.dtree,_),n.F.revCodes(U.dtree,_),n.F.makeCodes(U.itree,L),n.F.revCodes(U.itree,L),D=U.ltree,re=U.dtree,N(h,m,x-257),N(h,m+=5,S-1),N(h,m+=5,F-4),m+=4;for(var q=0;q<F;q++)N(h,m+3*q,U.itree[1+(U.ordr[q]<<1)]);m+=3*F,m=n.F._codeTiny(T,U.itree,h,m),m=n.F._codeTiny(V,U.itree,h,m)}for(var z=d,Q=0;Q<a;Q+=2){for(var J=s[Q],ae=J>>>23,be=z+(8388607&J);z<be;)m=n.F._writeLit(l[z++],D,h,m);if(ae!=0){var R=s[Q+1],K=R>>16,Z=R>>8&255,ee=255&R;N(h,m=n.F._writeLit(257+Z,D,h,m),ae-U.of0[Z]),m+=U.exb[Z],$(h,m=n.F._writeLit(ee,re,h,m),K-U.df0[ee]),m+=U.dxb[ee],z+=ae}}m=n.F._writeLit(256,D,h,m)}return m},n.F._copyExact=function(i,s,a,o,l){var d=l>>>3;return o[d]=a,o[d+1]=a>>>8,o[d+2]=255-o[d],o[d+3]=255-o[d+1],d+=4,o.set(new Uint8Array(i.buffer,s,a),d),l+(a+4<<3)},n.F.getTrees=function(){for(var i=n.F.U,s=n.F._hufTree(i.lhst,i.ltree,15),a=n.F._hufTree(i.dhst,i.dtree,15),o=[],l=n.F._lenCodes(i.ltree,o),d=[],f=n.F._lenCodes(i.dtree,d),h=0;h<o.length;h+=2)i.ihst[o[h]]++;for(h=0;h<d.length;h+=2)i.ihst[d[h]]++;for(var m=n.F._hufTree(i.ihst,i.itree,7),g=19;g>4&&i.itree[1+(i.ordr[g-1]<<1)]==0;)g--;return[s,a,m,l,f,g,o,d]},n.F.getSecond=function(i){for(var s=[],a=0;a<i.length;a+=2)s.push(i[a+1]);return s},n.F.nonZero=function(i){for(var s="",a=0;a<i.length;a+=2)i[a+1]!=0&&(s+=(a>>1)+",");return s},n.F.contSize=function(i,s){for(var a=0,o=0;o<s.length;o++)a+=s[o]*i[1+(o<<1)];return a},n.F._codeTiny=function(i,s,a,o){for(var l=0;l<i.length;l+=2){var d=i[l],f=i[l+1];o=n.F._writeLit(d,s,a,o);var h=d==16?2:d==17?3:7;d>15&&(n.F._putsE(a,o,f,h),o+=h)}return o},n.F._lenCodes=function(i,s){for(var a=i.length;a!=2&&i[a-1]==0;)a-=2;for(var o=0;o<a;o+=2){var l=i[o+1],d=o+3<a?i[o+3]:-1,f=o+5<a?i[o+5]:-1,h=o==0?-1:i[o-1];if(l==0&&d==l&&f==l){for(var m=o+5;m+2<a&&i[m+2]==l;)m+=2;(g=Math.min(m+1-o>>>1,138))<11?s.push(17,g-3):s.push(18,g-11),o+=2*g-2}else if(l==h&&d==l&&f==l){for(m=o+5;m+2<a&&i[m+2]==l;)m+=2;var g=Math.min(m+1-o>>>1,6);s.push(16,g-3),o+=2*g-2}else s.push(l,0)}return a>>>1},n.F._hufTree=function(i,s,a){var o=[],l=i.length,d=s.length,f=0;for(f=0;f<d;f+=2)s[f]=0,s[f+1]=0;for(f=0;f<l;f++)i[f]!=0&&o.push({lit:f,f:i[f]});var h=o.length,m=o.slice(0);if(h==0)return 0;if(h==1){var g=o[0].lit;return m=g==0?1:0,s[1+(g<<1)]=1,s[1+(m<<1)]=1,1}o.sort(function(T,V){return T.f-V.f});var w=o[0],_=o[1],L=0,x=1,S=2;for(o[0]={lit:-1,f:w.f+_.f,l:w,r:_,d:0};x!=h-1;)w=L!=x&&(S==h||o[L].f<o[S].f)?o[L++]:o[S++],_=L!=x&&(S==h||o[L].f<o[S].f)?o[L++]:o[S++],o[x++]={lit:-1,f:w.f+_.f,l:w,r:_};var F=n.F.setDepth(o[x-1],0);for(F>a&&(n.F.restrictDepth(m,a,F),F=a),f=0;f<h;f++)s[1+(m[f].lit<<1)]=m[f].d;return F},n.F.setDepth=function(i,s){return i.lit!=-1?(i.d=s,s):Math.max(n.F.setDepth(i.l,s+1),n.F.setDepth(i.r,s+1))},n.F.restrictDepth=function(i,s,a){var o=0,l=1<<a-s,d=0;for(i.sort(function(h,m){return m.d==h.d?h.f-m.f:m.d-h.d}),o=0;o<i.length&&i[o].d>s;o++){var f=i[o].d;i[o].d=s,d+=l-(1<<a-f)}for(d>>>=a-s;d>0;)(f=i[o].d)<s?(i[o].d++,d-=1<<s-f-1):o++;for(;o>=0;o--)i[o].d==s&&d<0&&(i[o].d--,d++);d!=0&&console.log("debt left")},n.F._goodIndex=function(i,s){var a=0;return s[16|a]<=i&&(a|=16),s[8|a]<=i&&(a|=8),s[4|a]<=i&&(a|=4),s[2|a]<=i&&(a|=2),s[1|a]<=i&&(a|=1),a},n.F._writeLit=function(i,s,a,o){return n.F._putsF(a,o,s[i<<1]),o+s[1+(i<<1)]},n.F.inflate=function(i,s){var a=Uint8Array;if(i[0]==3&&i[1]==0)return s||new a(0);var o=n.F,l=o._bitsF,d=o._bitsE,f=o._decodeTiny,h=o.makeCodes,m=o.codes2map,g=o._get17,w=o.U,_=s==null;_&&(s=new a(i.length>>>2<<3));for(var L,x,S=0,F=0,T=0,V=0,U=0,$=0,N=0,k=0,M=0;S==0;)if(S=l(i,M,1),F=l(i,M+1,2),M+=3,F!=0){if(_&&(s=n.F._check(s,k+(1<<17))),F==1&&(L=w.flmap,x=w.fdmap,$=511,N=31),F==2){T=d(i,M,5)+257,V=d(i,M+5,5)+1,U=d(i,M+10,4)+4,M+=14;for(var P=0;P<38;P+=2)w.itree[P]=0,w.itree[P+1]=0;var E=1;for(P=0;P<U;P++){var C=d(i,M+3*P,3);w.itree[1+(w.ordr[P]<<1)]=C,C>E&&(E=C)}M+=3*U,h(w.itree,E),m(w.itree,E,w.imap),L=w.lmap,x=w.dmap,M=f(w.imap,(1<<E)-1,T+V,i,M,w.ttree);var D=o._copyOut(w.ttree,0,T,w.ltree);$=(1<<D)-1;var re=o._copyOut(w.ttree,T,V,w.dtree);N=(1<<re)-1,h(w.ltree,D),m(w.ltree,D,L),h(w.dtree,re),m(w.dtree,re,x)}for(;;){var q=L[g(i,M)&$];M+=15&q;var z=q>>>4;if(!(z>>>8))s[k++]=z;else{if(z==256)break;var Q=k+z-254;if(z>264){var J=w.ldef[z-257];Q=k+(J>>>3)+d(i,M,7&J),M+=7&J}var ae=x[g(i,M)&N];M+=15&ae;var be=ae>>>4,R=w.ddef[be],K=(R>>>4)+l(i,M,15&R);for(M+=15&R,_&&(s=n.F._check(s,k+(1<<17)));k<Q;)s[k]=s[k++-K],s[k]=s[k++-K],s[k]=s[k++-K],s[k]=s[k++-K];k=Q}}}else{7&M&&(M+=8-(7&M));var Z=4+(M>>>3),ee=i[Z-4]|i[Z-3]<<8;_&&(s=n.F._check(s,k+ee)),s.set(new a(i.buffer,i.byteOffset+Z,ee),k),M=Z+ee<<3,k+=ee}return s.length==k?s:s.slice(0,k)},n.F._check=function(i,s){var a=i.length;if(s<=a)return i;var o=new Uint8Array(Math.max(a<<1,s));return o.set(i,0),o},n.F._decodeTiny=function(i,s,a,o,l,d){for(var f=n.F._bitsE,h=n.F._get17,m=0;m<a;){var g=i[h(o,l)&s];l+=15&g;var w=g>>>4;if(w<=15)d[m]=w,m++;else{var _=0,L=0;w==16?(L=3+f(o,l,2),l+=2,_=d[m-1]):w==17?(L=3+f(o,l,3),l+=3):w==18&&(L=11+f(o,l,7),l+=7);for(var x=m+L;m<x;)d[m]=_,m++}}return l},n.F._copyOut=function(i,s,a,o){for(var l=0,d=0,f=o.length>>>1;d<a;){var h=i[d+s];o[d<<1]=0,o[1+(d<<1)]=h,h>l&&(l=h),d++}for(;d<f;)o[d<<1]=0,o[1+(d<<1)]=0,d++;return l},n.F.makeCodes=function(i,s){for(var a,o,l,d,f=n.F.U,h=i.length,m=f.bl_count,g=0;g<=s;g++)m[g]=0;for(g=1;g<h;g+=2)m[i[g]]++;var w=f.next_code;for(a=0,m[0]=0,o=1;o<=s;o++)a=a+m[o-1]<<1,w[o]=a;for(l=0;l<h;l+=2)(d=i[l+1])!=0&&(i[l]=w[d],w[d]++)},n.F.codes2map=function(i,s,a){for(var o=i.length,l=n.F.U.rev15,d=0;d<o;d+=2)if(i[d+1]!=0)for(var f=d>>1,h=i[d+1],m=f<<4|h,g=s-h,w=i[d]<<g,_=w+(1<<g);w!=_;)a[l[w]>>>15-s]=m,w++},n.F.revCodes=function(i,s){for(var a=n.F.U.rev15,o=15-s,l=0;l<i.length;l+=2){var d=i[l]<<s-i[l+1];i[l]=a[d]>>>o}},n.F._putsE=function(i,s,a){a<<=7&s;var o=s>>>3;i[o]|=a,i[o+1]|=a>>>8},n.F._putsF=function(i,s,a){a<<=7&s;var o=s>>>3;i[o]|=a,i[o+1]|=a>>>8,i[o+2]|=a>>>16},n.F._bitsE=function(i,s,a){return(i[s>>>3]|i[1+(s>>>3)]<<8)>>>(7&s)&(1<<a)-1},n.F._bitsF=function(i,s,a){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)&(1<<a)-1},n.F._get17=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)},n.F._get25=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16|i[3+(s>>>3)]<<24)>>>(7&s)},n.F.U=(t=Uint16Array,r=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new r(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new r(286),dhst:new r(30),ihst:new r(19),lits:new r(15e3),strt:new t(65536),prev:new t(32768)}),function(){for(var i=n.F.U,s=0;s<32768;s++){var a=s;a=(4278255360&(a=(4042322160&(a=(3435973836&(a=(2863311530&a)>>>1|(1431655765&a)<<1))>>>2|(858993459&a)<<2))>>>4|(252645135&a)<<4))>>>8|(16711935&a)<<8,i.rev15[s]=(a>>>16|a<<16)>>>17}function o(l,d,f){for(;d--!=0;)l.push(0,f)}for(s=0;s<32;s++)i.ldef[s]=i.of0[s]<<3|i.exb[s],i.ddef[s]=i.df0[s]<<4|i.dxb[s];o(i.fltree,144,8),o(i.fltree,112,9),o(i.fltree,24,7),o(i.fltree,8,8),n.F.makeCodes(i.fltree,9),n.F.codes2map(i.fltree,9,i.flmap),n.F.revCodes(i.fltree,9),o(i.fdtree,32,5),n.F.makeCodes(i.fdtree,5),n.F.codes2map(i.fdtree,5,i.fdmap),n.F.revCodes(i.fdtree,5),o(i.itree,19,0),o(i.ltree,286,0),o(i.dtree,30,0),o(i.ttree,320,0)}()})();var L_=__({__proto__:null,default:lh},[lh]);const Rs=function(){var e={nextZero(f,h){for(;f[h]!=0;)h++;return h},readUshort:(f,h)=>f[h]<<8|f[h+1],writeUshort(f,h,m){f[h]=m>>8&255,f[h+1]=255&m},readUint:(f,h)=>16777216*f[h]+(f[h+1]<<16|f[h+2]<<8|f[h+3]),writeUint(f,h,m){f[h]=m>>24&255,f[h+1]=m>>16&255,f[h+2]=m>>8&255,f[h+3]=255&m},readASCII(f,h,m){let g="";for(let w=0;w<m;w++)g+=String.fromCharCode(f[h+w]);return g},writeASCII(f,h,m){for(let g=0;g<m.length;g++)f[h+g]=m.charCodeAt(g)},readBytes(f,h,m){const g=[];for(let w=0;w<m;w++)g.push(f[h+w]);return g},pad:f=>f.length<2?`0${f}`:f,readUTF8(f,h,m){let g,w="";for(let _=0;_<m;_++)w+=`%${e.pad(f[h+_].toString(16))}`;try{g=decodeURIComponent(w)}catch{return e.readASCII(f,h,m)}return g}};function t(f,h,m,g){const w=h*m,_=s(g),L=Math.ceil(h*_/8),x=new Uint8Array(4*w),S=new Uint32Array(x.buffer),{ctype:F}=g,{depth:T}=g,V=e.readUshort;if(F==6){const J=w<<2;if(T==8)for(var U=0;U<J;U+=4)x[U]=f[U],x[U+1]=f[U+1],x[U+2]=f[U+2],x[U+3]=f[U+3];if(T==16)for(U=0;U<J;U++)x[U]=f[U<<1]}else if(F==2){const J=g.tabs.tRNS;if(J==null){if(T==8)for(U=0;U<w;U++){var $=3*U;S[U]=255<<24|f[$+2]<<16|f[$+1]<<8|f[$]}if(T==16)for(U=0;U<w;U++)$=6*U,S[U]=255<<24|f[$+4]<<16|f[$+2]<<8|f[$]}else{var N=J[0];const ae=J[1],be=J[2];if(T==8)for(U=0;U<w;U++){var k=U<<2;$=3*U,S[U]=255<<24|f[$+2]<<16|f[$+1]<<8|f[$],f[$]==N&&f[$+1]==ae&&f[$+2]==be&&(x[k+3]=0)}if(T==16)for(U=0;U<w;U++)k=U<<2,$=6*U,S[U]=255<<24|f[$+4]<<16|f[$+2]<<8|f[$],V(f,$)==N&&V(f,$+2)==ae&&V(f,$+4)==be&&(x[k+3]=0)}}else if(F==3){const J=g.tabs.PLTE,ae=g.tabs.tRNS,be=ae?ae.length:0;if(T==1)for(var M=0;M<m;M++){var P=M*L,E=M*h;for(U=0;U<h;U++){k=E+U<<2;var C=3*(D=f[P+(U>>3)]>>7-((7&U)<<0)&1);x[k]=J[C],x[k+1]=J[C+1],x[k+2]=J[C+2],x[k+3]=D<be?ae[D]:255}}if(T==2)for(M=0;M<m;M++)for(P=M*L,E=M*h,U=0;U<h;U++)k=E+U<<2,C=3*(D=f[P+(U>>2)]>>6-((3&U)<<1)&3),x[k]=J[C],x[k+1]=J[C+1],x[k+2]=J[C+2],x[k+3]=D<be?ae[D]:255;if(T==4)for(M=0;M<m;M++)for(P=M*L,E=M*h,U=0;U<h;U++)k=E+U<<2,C=3*(D=f[P+(U>>1)]>>4-((1&U)<<2)&15),x[k]=J[C],x[k+1]=J[C+1],x[k+2]=J[C+2],x[k+3]=D<be?ae[D]:255;if(T==8)for(U=0;U<w;U++){var D;k=U<<2,C=3*(D=f[U]),x[k]=J[C],x[k+1]=J[C+1],x[k+2]=J[C+2],x[k+3]=D<be?ae[D]:255}}else if(F==4){if(T==8)for(U=0;U<w;U++){k=U<<2;var re=f[q=U<<1];x[k]=re,x[k+1]=re,x[k+2]=re,x[k+3]=f[q+1]}if(T==16)for(U=0;U<w;U++){var q;k=U<<2,re=f[q=U<<2],x[k]=re,x[k+1]=re,x[k+2]=re,x[k+3]=f[q+2]}}else if(F==0)for(N=g.tabs.tRNS?g.tabs.tRNS:-1,M=0;M<m;M++){const J=M*L,ae=M*h;if(T==1)for(var z=0;z<h;z++){var Q=(re=255*(f[J+(z>>>3)]>>>7-(7&z)&1))==255*N?0:255;S[ae+z]=Q<<24|re<<16|re<<8|re}else if(T==2)for(z=0;z<h;z++)Q=(re=85*(f[J+(z>>>2)]>>>6-((3&z)<<1)&3))==85*N?0:255,S[ae+z]=Q<<24|re<<16|re<<8|re;else if(T==4)for(z=0;z<h;z++)Q=(re=17*(f[J+(z>>>1)]>>>4-((1&z)<<2)&15))==17*N?0:255,S[ae+z]=Q<<24|re<<16|re<<8|re;else if(T==8)for(z=0;z<h;z++)Q=(re=f[J+z])==N?0:255,S[ae+z]=Q<<24|re<<16|re<<8|re;else if(T==16)for(z=0;z<h;z++)re=f[J+(z<<1)],Q=V(f,J+(z<<1))==N?0:255,S[ae+z]=Q<<24|re<<16|re<<8|re}return x}function r(f,h,m,g){const w=s(f),_=Math.ceil(m*w/8),L=new Uint8Array((_+1+f.interlace)*g);return h=f.tabs.CgBI?i(h,L):n(h,L),f.interlace==0?h=a(h,f,0,m,g):f.interlace==1&&(h=function(S,F){const T=F.width,V=F.height,U=s(F),$=U>>3,N=Math.ceil(T*U/8),k=new Uint8Array(V*N);let M=0;const P=[0,0,4,0,2,0,1],E=[0,4,0,2,0,1,0],C=[8,8,8,4,4,2,2],D=[8,8,4,4,2,2,1];let re=0;for(;re<7;){const z=C[re],Q=D[re];let J=0,ae=0,be=P[re];for(;be<V;)be+=z,ae++;let R=E[re];for(;R<T;)R+=Q,J++;const K=Math.ceil(J*U/8);a(S,F,M,J,ae);let Z=0,ee=P[re];for(;ee<V;){let fe=E[re],we=M+Z*K<<3;for(;fe<T;){var q;if(U==1&&(q=(q=S[we>>3])>>7-(7&we)&1,k[ee*N+(fe>>3)]|=q<<7-((7&fe)<<0)),U==2&&(q=(q=S[we>>3])>>6-(7&we)&3,k[ee*N+(fe>>2)]|=q<<6-((3&fe)<<1)),U==4&&(q=(q=S[we>>3])>>4-(7&we)&15,k[ee*N+(fe>>1)]|=q<<4-((1&fe)<<2)),U>=8){const ve=ee*N+fe*$;for(let se=0;se<$;se++)k[ve+se]=S[(we>>3)+se]}we+=U,fe+=Q}Z++,ee+=z}J*ae!=0&&(M+=ae*(1+K)),re+=1}return k}(h,f)),h}function n(f,h){return i(new Uint8Array(f.buffer,2,f.length-6),h)}var i=function(){const f={H:{}};return f.H.N=function(h,m){const g=Uint8Array;let w,_,L=0,x=0,S=0,F=0,T=0,V=0,U=0,$=0,N=0;if(h[0]==3&&h[1]==0)return m||new g(0);const k=f.H,M=k.b,P=k.e,E=k.R,C=k.n,D=k.A,re=k.Z,q=k.m,z=m==null;for(z&&(m=new g(h.length>>>2<<5));L==0;)if(L=M(h,N,1),x=M(h,N+1,2),N+=3,x!=0){if(z&&(m=f.H.W(m,$+(1<<17))),x==1&&(w=q.J,_=q.h,V=511,U=31),x==2){S=P(h,N,5)+257,F=P(h,N+5,5)+1,T=P(h,N+10,4)+4,N+=14;let J=1;for(var Q=0;Q<38;Q+=2)q.Q[Q]=0,q.Q[Q+1]=0;for(Q=0;Q<T;Q++){const R=P(h,N+3*Q,3);q.Q[1+(q.X[Q]<<1)]=R,R>J&&(J=R)}N+=3*T,C(q.Q,J),D(q.Q,J,q.u),w=q.w,_=q.d,N=E(q.u,(1<<J)-1,S+F,h,N,q.v);const ae=k.V(q.v,0,S,q.C);V=(1<<ae)-1;const be=k.V(q.v,S,F,q.D);U=(1<<be)-1,C(q.C,ae),D(q.C,ae,w),C(q.D,be),D(q.D,be,_)}for(;;){const J=w[re(h,N)&V];N+=15&J;const ae=J>>>4;if(!(ae>>>8))m[$++]=ae;else{if(ae==256)break;{let be=$+ae-254;if(ae>264){const fe=q.q[ae-257];be=$+(fe>>>3)+P(h,N,7&fe),N+=7&fe}const R=_[re(h,N)&U];N+=15&R;const K=R>>>4,Z=q.c[K],ee=(Z>>>4)+M(h,N,15&Z);for(N+=15&Z;$<be;)m[$]=m[$++-ee],m[$]=m[$++-ee],m[$]=m[$++-ee],m[$]=m[$++-ee];$=be}}}}else{7&N&&(N+=8-(7&N));const J=4+(N>>>3),ae=h[J-4]|h[J-3]<<8;z&&(m=f.H.W(m,$+ae)),m.set(new g(h.buffer,h.byteOffset+J,ae),$),N=J+ae<<3,$+=ae}return m.length==$?m:m.slice(0,$)},f.H.W=function(h,m){const g=h.length;if(m<=g)return h;const w=new Uint8Array(g<<1);return w.set(h,0),w},f.H.R=function(h,m,g,w,_,L){const x=f.H.e,S=f.H.Z;let F=0;for(;F<g;){const T=h[S(w,_)&m];_+=15&T;const V=T>>>4;if(V<=15)L[F]=V,F++;else{let U=0,$=0;V==16?($=3+x(w,_,2),_+=2,U=L[F-1]):V==17?($=3+x(w,_,3),_+=3):V==18&&($=11+x(w,_,7),_+=7);const N=F+$;for(;F<N;)L[F]=U,F++}}return _},f.H.V=function(h,m,g,w){let _=0,L=0;const x=w.length>>>1;for(;L<g;){const S=h[L+m];w[L<<1]=0,w[1+(L<<1)]=S,S>_&&(_=S),L++}for(;L<x;)w[L<<1]=0,w[1+(L<<1)]=0,L++;return _},f.H.n=function(h,m){const g=f.H.m,w=h.length;let _,L,x,S;const F=g.j;for(var T=0;T<=m;T++)F[T]=0;for(T=1;T<w;T+=2)F[h[T]]++;const V=g.K;for(_=0,F[0]=0,L=1;L<=m;L++)_=_+F[L-1]<<1,V[L]=_;for(x=0;x<w;x+=2)S=h[x+1],S!=0&&(h[x]=V[S],V[S]++)},f.H.A=function(h,m,g){const w=h.length,_=f.H.m.r;for(let L=0;L<w;L+=2)if(h[L+1]!=0){const x=L>>1,S=h[L+1],F=x<<4|S,T=m-S;let V=h[L]<<T;const U=V+(1<<T);for(;V!=U;)g[_[V]>>>15-m]=F,V++}},f.H.l=function(h,m){const g=f.H.m.r,w=15-m;for(let _=0;_<h.length;_+=2){const L=h[_]<<m-h[_+1];h[_]=g[L]>>>w}},f.H.M=function(h,m,g){g<<=7&m;const w=m>>>3;h[w]|=g,h[w+1]|=g>>>8},f.H.I=function(h,m,g){g<<=7&m;const w=m>>>3;h[w]|=g,h[w+1]|=g>>>8,h[w+2]|=g>>>16},f.H.e=function(h,m,g){return(h[m>>>3]|h[1+(m>>>3)]<<8)>>>(7&m)&(1<<g)-1},f.H.b=function(h,m,g){return(h[m>>>3]|h[1+(m>>>3)]<<8|h[2+(m>>>3)]<<16)>>>(7&m)&(1<<g)-1},f.H.Z=function(h,m){return(h[m>>>3]|h[1+(m>>>3)]<<8|h[2+(m>>>3)]<<16)>>>(7&m)},f.H.i=function(h,m){return(h[m>>>3]|h[1+(m>>>3)]<<8|h[2+(m>>>3)]<<16|h[3+(m>>>3)]<<24)>>>(7&m)},f.H.m=function(){const h=Uint16Array,m=Uint32Array;return{K:new h(16),j:new h(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new h(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new m(32),J:new h(512),_:[],h:new h(32),$:[],w:new h(32768),C:[],v:[],d:new h(32768),D:[],u:new h(512),Q:[],r:new h(32768),s:new m(286),Y:new m(30),a:new m(19),t:new m(15e3),k:new h(65536),g:new h(32768)}}(),function(){const h=f.H.m;for(var m=0;m<32768;m++){let w=m;w=(2863311530&w)>>>1|(1431655765&w)<<1,w=(3435973836&w)>>>2|(858993459&w)<<2,w=(4042322160&w)>>>4|(252645135&w)<<4,w=(4278255360&w)>>>8|(16711935&w)<<8,h.r[m]=(w>>>16|w<<16)>>>17}function g(w,_,L){for(;_--!=0;)w.push(0,L)}for(m=0;m<32;m++)h.q[m]=h.S[m]<<3|h.T[m],h.c[m]=h.p[m]<<4|h.z[m];g(h._,144,8),g(h._,112,9),g(h._,24,7),g(h._,8,8),f.H.n(h._,9),f.H.A(h._,9,h.J),f.H.l(h._,9),g(h.$,32,5),f.H.n(h.$,5),f.H.A(h.$,5,h.h),f.H.l(h.$,5),g(h.Q,19,0),g(h.C,286,0),g(h.D,30,0),g(h.v,320,0)}(),f.H.N}();function s(f){return[1,null,3,1,2,null,4][f.ctype]*f.depth}function a(f,h,m,g,w){let _=s(h);const L=Math.ceil(g*_/8);let x,S;_=Math.ceil(_/8);let F=f[m],T=0;if(F>1&&(f[m]=[0,0,1][F-2]),F==3)for(T=_;T<L;T++)f[T+1]=f[T+1]+(f[T+1-_]>>>1)&255;for(let V=0;V<w;V++)if(x=m+V*L,S=x+V+1,F=f[S-1],T=0,F==0)for(;T<L;T++)f[x+T]=f[S+T];else if(F==1){for(;T<_;T++)f[x+T]=f[S+T];for(;T<L;T++)f[x+T]=f[S+T]+f[x+T-_]}else if(F==2)for(;T<L;T++)f[x+T]=f[S+T]+f[x+T-L];else if(F==3){for(;T<_;T++)f[x+T]=f[S+T]+(f[x+T-L]>>>1);for(;T<L;T++)f[x+T]=f[S+T]+(f[x+T-L]+f[x+T-_]>>>1)}else{for(;T<_;T++)f[x+T]=f[S+T]+o(0,f[x+T-L],0);for(;T<L;T++)f[x+T]=f[S+T]+o(f[x+T-_],f[x+T-L],f[x+T-_-L])}return f}function o(f,h,m){const g=f+h-m,w=g-f,_=g-h,L=g-m;return w*w<=_*_&&w*w<=L*L?f:_*_<=L*L?h:m}function l(f,h,m){m.width=e.readUint(f,h),h+=4,m.height=e.readUint(f,h),h+=4,m.depth=f[h],h++,m.ctype=f[h],h++,m.compress=f[h],h++,m.filter=f[h],h++,m.interlace=f[h],h++}function d(f,h,m,g,w,_,L,x,S){const F=Math.min(h,w),T=Math.min(m,_);let V=0,U=0;for(let re=0;re<T;re++)for(let q=0;q<F;q++)if(L>=0&&x>=0?(V=re*h+q<<2,U=(x+re)*w+L+q<<2):(V=(-x+re)*h-L+q<<2,U=re*w+q<<2),S==0)g[U]=f[V],g[U+1]=f[V+1],g[U+2]=f[V+2],g[U+3]=f[V+3];else if(S==1){var $=f[V+3]*.00392156862745098,N=f[V]*$,k=f[V+1]*$,M=f[V+2]*$,P=g[U+3]*(1/255),E=g[U]*P,C=g[U+1]*P,D=g[U+2]*P;const z=1-$,Q=$+P*z,J=Q==0?0:1/Q;g[U+3]=255*Q,g[U+0]=(N+E*z)*J,g[U+1]=(k+C*z)*J,g[U+2]=(M+D*z)*J}else if(S==2)$=f[V+3],N=f[V],k=f[V+1],M=f[V+2],P=g[U+3],E=g[U],C=g[U+1],D=g[U+2],$==P&&N==E&&k==C&&M==D?(g[U]=0,g[U+1]=0,g[U+2]=0,g[U+3]=0):(g[U]=N,g[U+1]=k,g[U+2]=M,g[U+3]=$);else if(S==3){if($=f[V+3],N=f[V],k=f[V+1],M=f[V+2],P=g[U+3],E=g[U],C=g[U+1],D=g[U+2],$==P&&N==E&&k==C&&M==D)continue;if($<220&&P>20)return!1}return!0}return{decode:function(h){const m=new Uint8Array(h);let g=8;const w=e,_=w.readUshort,L=w.readUint,x={tabs:{},frames:[]},S=new Uint8Array(m.length);let F,T=0,V=0;const U=[137,80,78,71,13,10,26,10];for(var $=0;$<8;$++)if(m[$]!=U[$])throw"The input is not a PNG file!";for(;g<m.length;){const re=w.readUint(m,g);g+=4;const q=w.readASCII(m,g,4);if(g+=4,q=="IHDR")l(m,g,x);else if(q=="iCCP"){for(var N=g;m[N]!=0;)N++;w.readASCII(m,g,N-g),m[N+1];const z=m.slice(N+2,g+re);let Q=null;try{Q=n(z)}catch{Q=i(z)}x.tabs[q]=Q}else if(q=="CgBI")x.tabs[q]=m.slice(g,g+4);else if(q=="IDAT"){for($=0;$<re;$++)S[T+$]=m[g+$];T+=re}else if(q=="acTL")x.tabs[q]={num_frames:L(m,g),num_plays:L(m,g+4)},F=new Uint8Array(m.length);else if(q=="fcTL"){V!=0&&((D=x.frames[x.frames.length-1]).data=r(x,F.slice(0,V),D.rect.width,D.rect.height),V=0);const z={x:L(m,g+12),y:L(m,g+16),width:L(m,g+4),height:L(m,g+8)};let Q=_(m,g+22);Q=_(m,g+20)/(Q==0?100:Q);const J={rect:z,delay:Math.round(1e3*Q),dispose:m[g+24],blend:m[g+25]};x.frames.push(J)}else if(q=="fdAT"){for($=0;$<re-4;$++)F[V+$]=m[g+$+4];V+=re-4}else if(q=="pHYs")x.tabs[q]=[w.readUint(m,g),w.readUint(m,g+4),m[g+8]];else if(q=="cHRM")for(x.tabs[q]=[],$=0;$<8;$++)x.tabs[q].push(w.readUint(m,g+4*$));else if(q=="tEXt"||q=="zTXt"){x.tabs[q]==null&&(x.tabs[q]={});var k=w.nextZero(m,g),M=w.readASCII(m,g,k-g),P=g+re-k-1;if(q=="tEXt")C=w.readASCII(m,k+1,P);else{var E=n(m.slice(k+2,k+2+P));C=w.readUTF8(E,0,E.length)}x.tabs[q][M]=C}else if(q=="iTXt"){x.tabs[q]==null&&(x.tabs[q]={}),k=0,N=g,k=w.nextZero(m,N),M=w.readASCII(m,N,k-N);const z=m[N=k+1];var C;m[N+1],N+=2,k=w.nextZero(m,N),w.readASCII(m,N,k-N),N=k+1,k=w.nextZero(m,N),w.readUTF8(m,N,k-N),P=re-((N=k+1)-g),z==0?C=w.readUTF8(m,N,P):(E=n(m.slice(N,N+P)),C=w.readUTF8(E,0,E.length)),x.tabs[q][M]=C}else if(q=="PLTE")x.tabs[q]=w.readBytes(m,g,re);else if(q=="hIST"){const z=x.tabs.PLTE.length/3;for(x.tabs[q]=[],$=0;$<z;$++)x.tabs[q].push(_(m,g+2*$))}else if(q=="tRNS")x.ctype==3?x.tabs[q]=w.readBytes(m,g,re):x.ctype==0?x.tabs[q]=_(m,g):x.ctype==2&&(x.tabs[q]=[_(m,g),_(m,g+2),_(m,g+4)]);else if(q=="gAMA")x.tabs[q]=w.readUint(m,g)/1e5;else if(q=="sRGB")x.tabs[q]=m[g];else if(q=="bKGD")x.ctype==0||x.ctype==4?x.tabs[q]=[_(m,g)]:x.ctype==2||x.ctype==6?x.tabs[q]=[_(m,g),_(m,g+2),_(m,g+4)]:x.ctype==3&&(x.tabs[q]=m[g]);else if(q=="IEND")break;g+=re,w.readUint(m,g),g+=4}var D;return V!=0&&((D=x.frames[x.frames.length-1]).data=r(x,F.slice(0,V),D.rect.width,D.rect.height)),x.data=r(x,S,x.width,x.height),delete x.compress,delete x.interlace,delete x.filter,x},toRGBA8:function(h){const m=h.width,g=h.height;if(h.tabs.acTL==null)return[t(h.data,m,g,h).buffer];const w=[];h.frames[0].data==null&&(h.frames[0].data=h.data);const _=m*g*4,L=new Uint8Array(_),x=new Uint8Array(_),S=new Uint8Array(_);for(let T=0;T<h.frames.length;T++){const V=h.frames[T],U=V.rect.x,$=V.rect.y,N=V.rect.width,k=V.rect.height,M=t(V.data,N,k,h);if(T!=0)for(var F=0;F<_;F++)S[F]=L[F];if(V.blend==0?d(M,N,k,L,m,g,U,$,0):V.blend==1&&d(M,N,k,L,m,g,U,$,1),w.push(L.buffer.slice(0)),V.dispose!=0){if(V.dispose==1)d(x,N,k,L,m,g,U,$,0);else if(V.dispose==2)for(F=0;F<_;F++)L[F]=S[F]}}return w},_paeth:o,_copyTile:d,_bin:e}}();(function(){const{_copyTile:e}=Rs,{_bin:t}=Rs,r=Rs._paeth;var n={table:function(){const N=new Uint32Array(256);for(let k=0;k<256;k++){let M=k;for(let P=0;P<8;P++)1&M?M=3988292384^M>>>1:M>>>=1;N[k]=M}return N}(),update(N,k,M,P){for(let E=0;E<P;E++)N=n.table[255&(N^k[M+E])]^N>>>8;return N},crc:(N,k,M)=>4294967295^n.update(4294967295,N,k,M)};function i(N,k,M,P){k[M]+=N[0]*P>>4,k[M+1]+=N[1]*P>>4,k[M+2]+=N[2]*P>>4,k[M+3]+=N[3]*P>>4}function s(N){return Math.max(0,Math.min(255,N))}function a(N,k){const M=N[0]-k[0],P=N[1]-k[1],E=N[2]-k[2],C=N[3]-k[3];return M*M+P*P+E*E+C*C}function o(N,k,M,P,E,C,D){D==null&&(D=1);const re=P.length,q=[];for(var z=0;z<re;z++){const ee=P[z];q.push([ee>>>0&255,ee>>>8&255,ee>>>16&255,ee>>>24&255])}for(z=0;z<re;z++){let ee=4294967295;for(var Q=0,J=0;J<re;J++){var ae=a(q[z],q[J]);J!=z&&ae<ee&&(ee=ae,Q=J)}}const be=new Uint32Array(E.buffer),R=new Int16Array(k*M*4),K=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(z=0;z<K.length;z++)K[z]=255*((K[z]+.5)/16-.5);for(let ee=0;ee<M;ee++)for(let fe=0;fe<k;fe++){var Z;z=4*(ee*k+fe),D!=2?Z=[s(N[z]+R[z]),s(N[z+1]+R[z+1]),s(N[z+2]+R[z+2]),s(N[z+3]+R[z+3])]:(ae=K[4*(3&ee)+(3&fe)],Z=[s(N[z]+ae),s(N[z+1]+ae),s(N[z+2]+ae),s(N[z+3]+ae)]),Q=0;let we=16777215;for(J=0;J<re;J++){const $e=a(Z,q[J]);$e<we&&(we=$e,Q=J)}const ve=q[Q],se=[Z[0]-ve[0],Z[1]-ve[1],Z[2]-ve[2],Z[3]-ve[3]];D==1&&(fe!=k-1&&i(se,R,z+4,7),ee!=M-1&&(fe!=0&&i(se,R,z+4*k-4,3),i(se,R,z+4*k,5),fe!=k-1&&i(se,R,z+4*k+4,1))),C[z>>2]=Q,be[z>>2]=P[Q]}}function l(N,k,M,P,E){E==null&&(E={});const{crc:C}=n,D=t.writeUint,re=t.writeUshort,q=t.writeASCII;let z=8;const Q=N.frames.length>1;let J,ae=!1,be=33+(Q?20:0);if(E.sRGB!=null&&(be+=13),E.pHYs!=null&&(be+=21),E.iCCP!=null&&(J=pako.deflate(E.iCCP),be+=21+J.length+4),N.ctype==3){for(var R=N.plte.length,K=0;K<R;K++)N.plte[K]>>>24!=255&&(ae=!0);be+=8+3*R+4+(ae?8+1*R+4:0)}for(var Z=0;Z<N.frames.length;Z++)Q&&(be+=38),be+=(ve=N.frames[Z]).cimg.length+12,Z!=0&&(be+=4);be+=12;const ee=new Uint8Array(be),fe=[137,80,78,71,13,10,26,10];for(K=0;K<8;K++)ee[K]=fe[K];if(D(ee,z,13),z+=4,q(ee,z,"IHDR"),z+=4,D(ee,z,k),z+=4,D(ee,z,M),z+=4,ee[z]=N.depth,z++,ee[z]=N.ctype,z++,ee[z]=0,z++,ee[z]=0,z++,ee[z]=0,z++,D(ee,z,C(ee,z-17,17)),z+=4,E.sRGB!=null&&(D(ee,z,1),z+=4,q(ee,z,"sRGB"),z+=4,ee[z]=E.sRGB,z++,D(ee,z,C(ee,z-5,5)),z+=4),E.iCCP!=null){const se=13+J.length;D(ee,z,se),z+=4,q(ee,z,"iCCP"),z+=4,q(ee,z,"ICC profile"),z+=11,z+=2,ee.set(J,z),z+=J.length,D(ee,z,C(ee,z-(se+4),se+4)),z+=4}if(E.pHYs!=null&&(D(ee,z,9),z+=4,q(ee,z,"pHYs"),z+=4,D(ee,z,E.pHYs[0]),z+=4,D(ee,z,E.pHYs[1]),z+=4,ee[z]=E.pHYs[2],z++,D(ee,z,C(ee,z-13,13)),z+=4),Q&&(D(ee,z,8),z+=4,q(ee,z,"acTL"),z+=4,D(ee,z,N.frames.length),z+=4,D(ee,z,E.loop!=null?E.loop:0),z+=4,D(ee,z,C(ee,z-12,12)),z+=4),N.ctype==3){for(D(ee,z,3*(R=N.plte.length)),z+=4,q(ee,z,"PLTE"),z+=4,K=0;K<R;K++){const se=3*K,$e=N.plte[K],Oe=255&$e,Re=$e>>>8&255,Ze=$e>>>16&255;ee[z+se+0]=Oe,ee[z+se+1]=Re,ee[z+se+2]=Ze}if(z+=3*R,D(ee,z,C(ee,z-3*R-4,3*R+4)),z+=4,ae){for(D(ee,z,R),z+=4,q(ee,z,"tRNS"),z+=4,K=0;K<R;K++)ee[z+K]=N.plte[K]>>>24&255;z+=R,D(ee,z,C(ee,z-R-4,R+4)),z+=4}}let we=0;for(Z=0;Z<N.frames.length;Z++){var ve=N.frames[Z];Q&&(D(ee,z,26),z+=4,q(ee,z,"fcTL"),z+=4,D(ee,z,we++),z+=4,D(ee,z,ve.rect.width),z+=4,D(ee,z,ve.rect.height),z+=4,D(ee,z,ve.rect.x),z+=4,D(ee,z,ve.rect.y),z+=4,re(ee,z,P[Z]),z+=2,re(ee,z,1e3),z+=2,ee[z]=ve.dispose,z++,ee[z]=ve.blend,z++,D(ee,z,C(ee,z-30,30)),z+=4);const se=ve.cimg;D(ee,z,(R=se.length)+(Z==0?0:4)),z+=4;const $e=z;q(ee,z,Z==0?"IDAT":"fdAT"),z+=4,Z!=0&&(D(ee,z,we++),z+=4),ee.set(se,z),z+=R,D(ee,z,C(ee,$e,z-$e)),z+=4}return D(ee,z,0),z+=4,q(ee,z,"IEND"),z+=4,D(ee,z,C(ee,z-4,4)),z+=4,ee.buffer}function d(N,k,M){for(let P=0;P<N.frames.length;P++){const E=N.frames[P];E.rect.width;const C=E.rect.height,D=new Uint8Array(C*E.bpl+C);E.cimg=g(E.img,C,E.bpp,E.bpl,D,k,M)}}function f(N,k,M,P,E){const C=E[0],D=E[1],re=E[2],q=E[3],z=E[4],Q=E[5];let J=6,ae=8,be=255;for(var R=0;R<N.length;R++){const le=new Uint8Array(N[R]);for(var K=le.length,Z=0;Z<K;Z+=4)be&=le[Z+3]}const ee=be!=255,fe=function(xt,Je,We,ie,de,me){const Ve=[];for(var Me=0;Me<xt.length;Me++){const kt=new Uint8Array(xt[Me]),st=new Uint32Array(kt.buffer);var Ue;let Dt=0,Pt=0,ar=Je,Wt=We,gt=ie?1:0;if(Me!=0){const an=me||ie||Me==1||Ve[Me-2].dispose!=0?1:2;let Kt=0,si=1e9;for(let ot=0;ot<an;ot++){var Ye=new Uint8Array(xt[Me-1-ot]);const Pn=new Uint32Array(xt[Me-1-ot]);let Kr=Je,ir=We,It=-1,Yt=-1;for(let wr=0;wr<We;wr++)for(let Lr=0;Lr<Je;Lr++)st[yt=wr*Je+Lr]!=Pn[yt]&&(Lr<Kr&&(Kr=Lr),Lr>It&&(It=Lr),wr<ir&&(ir=wr),wr>Yt&&(Yt=wr));It==-1&&(Kr=ir=It=Yt=0),de&&((1&Kr)==1&&Kr--,(1&ir)==1&&ir--);const Ji=(It-Kr+1)*(Yt-ir+1);Ji<si&&(si=Ji,Kt=ot,Dt=Kr,Pt=ir,ar=It-Kr+1,Wt=Yt-ir+1)}Ye=new Uint8Array(xt[Me-1-Kt]),Kt==1&&(Ve[Me-1].dispose=2),Ue=new Uint8Array(ar*Wt*4),e(Ye,Je,We,Ue,ar,Wt,-Dt,-Pt,0),gt=e(kt,Je,We,Ue,ar,Wt,-Dt,-Pt,3)?1:0,gt==1?m(kt,Je,We,Ue,{x:Dt,y:Pt,width:ar,height:Wt}):e(kt,Je,We,Ue,ar,Wt,-Dt,-Pt,0)}else Ue=kt.slice(0);Ve.push({rect:{x:Dt,y:Pt,width:ar,height:Wt},img:Ue,blend:gt,dispose:0})}if(ie)for(Me=0;Me<Ve.length;Me++){if((wt=Ve[Me]).blend==1)continue;const kt=wt.rect,st=Ve[Me-1].rect,Dt=Math.min(kt.x,st.x),Pt=Math.min(kt.y,st.y),ar={x:Dt,y:Pt,width:Math.max(kt.x+kt.width,st.x+st.width)-Dt,height:Math.max(kt.y+kt.height,st.y+st.height)-Pt};Ve[Me-1].dispose=1,Me-1!=0&&h(xt,Je,We,Ve,Me-1,ar,de),h(xt,Je,We,Ve,Me,ar,de)}let pt=0;if(xt.length!=1)for(var yt=0;yt<Ve.length;yt++){var wt;pt+=(wt=Ve[yt]).rect.width*wt.rect.height}return Ve}(N,k,M,C,D,re),we={},ve=[],se=[];if(P!=0){const le=[];for(Z=0;Z<fe.length;Z++)le.push(fe[Z].img.buffer);const xt=function(de){let me=0;for(var Ve=0;Ve<de.length;Ve++)me+=de[Ve].byteLength;const Me=new Uint8Array(me);let Ue=0;for(Ve=0;Ve<de.length;Ve++){const Ye=new Uint8Array(de[Ve]),pt=Ye.length;for(let yt=0;yt<pt;yt+=4){let wt=Ye[yt],kt=Ye[yt+1],st=Ye[yt+2];const Dt=Ye[yt+3];Dt==0&&(wt=kt=st=0),Me[Ue+yt]=wt,Me[Ue+yt+1]=kt,Me[Ue+yt+2]=st,Me[Ue+yt+3]=Dt}Ue+=pt}return Me.buffer}(le),Je=_(xt,P);for(Z=0;Z<Je.plte.length;Z++)ve.push(Je.plte[Z].est.rgba);let We=0;for(Z=0;Z<fe.length;Z++){const ie=(Oe=fe[Z]).img.length;var $e=new Uint8Array(Je.inds.buffer,We>>2,ie>>2);se.push($e);const de=new Uint8Array(Je.abuf,We,ie);Q&&o(Oe.img,Oe.rect.width,Oe.rect.height,ve,de,$e),Oe.img.set(de),We+=ie}}else for(R=0;R<fe.length;R++){var Oe=fe[R];const le=new Uint32Array(Oe.img.buffer);var Re=Oe.rect.width;for(K=le.length,$e=new Uint8Array(K),se.push($e),Z=0;Z<K;Z++){const xt=le[Z];if(Z!=0&&xt==le[Z-1])$e[Z]=$e[Z-1];else if(Z>Re&&xt==le[Z-Re])$e[Z]=$e[Z-Re];else{let Je=we[xt];if(Je==null&&(we[xt]=Je=ve.length,ve.push(xt),ve.length>=300))break;$e[Z]=Je}}}const Ze=ve.length;for(Ze<=256&&z==0&&(ae=Ze<=2?1:Ze<=4?2:Ze<=16?4:8,ae=Math.max(ae,q)),R=0;R<fe.length;R++){(Oe=fe[R]).rect.x,Oe.rect.y,Re=Oe.rect.width;const le=Oe.rect.height;let xt=Oe.img;new Uint32Array(xt.buffer);let Je=4*Re,We=4;if(Ze<=256&&z==0){Je=Math.ceil(ae*Re/8);var dt=new Uint8Array(Je*le);const ie=se[R];for(let de=0;de<le;de++){Z=de*Je;const me=de*Re;if(ae==8)for(var Ee=0;Ee<Re;Ee++)dt[Z+Ee]=ie[me+Ee];else if(ae==4)for(Ee=0;Ee<Re;Ee++)dt[Z+(Ee>>1)]|=ie[me+Ee]<<4-4*(1&Ee);else if(ae==2)for(Ee=0;Ee<Re;Ee++)dt[Z+(Ee>>2)]|=ie[me+Ee]<<6-2*(3&Ee);else if(ae==1)for(Ee=0;Ee<Re;Ee++)dt[Z+(Ee>>3)]|=ie[me+Ee]<<7-1*(7&Ee)}xt=dt,J=3,We=1}else if(ee==0&&fe.length==1){dt=new Uint8Array(Re*le*3);const ie=Re*le;for(Z=0;Z<ie;Z++){const de=3*Z,me=4*Z;dt[de]=xt[me],dt[de+1]=xt[me+1],dt[de+2]=xt[me+2]}xt=dt,J=2,We=3,Je=3*Re}Oe.img=xt,Oe.bpl=Je,Oe.bpp=We}return{ctype:J,depth:ae,plte:ve,frames:fe}}function h(N,k,M,P,E,C,D){const re=Uint8Array,q=Uint32Array,z=new re(N[E-1]),Q=new q(N[E-1]),J=E+1<N.length?new re(N[E+1]):null,ae=new re(N[E]),be=new q(ae.buffer);let R=k,K=M,Z=-1,ee=-1;for(let we=0;we<C.height;we++)for(let ve=0;ve<C.width;ve++){const se=C.x+ve,$e=C.y+we,Oe=$e*k+se,Re=be[Oe];Re==0||P[E-1].dispose==0&&Q[Oe]==Re&&(J==null||J[4*Oe+3]!=0)||(se<R&&(R=se),se>Z&&(Z=se),$e<K&&(K=$e),$e>ee&&(ee=$e))}Z==-1&&(R=K=Z=ee=0),D&&((1&R)==1&&R--,(1&K)==1&&K--),C={x:R,y:K,width:Z-R+1,height:ee-K+1};const fe=P[E];fe.rect=C,fe.blend=1,fe.img=new Uint8Array(C.width*C.height*4),P[E-1].dispose==0?(e(z,k,M,fe.img,C.width,C.height,-C.x,-C.y,0),m(ae,k,M,fe.img,C)):e(ae,k,M,fe.img,C.width,C.height,-C.x,-C.y,0)}function m(N,k,M,P,E){e(N,k,M,P,E.width,E.height,-E.x,-E.y,2)}function g(N,k,M,P,E,C,D){const re=[];let q,z=[0,1,2,3,4];C!=-1?z=[C]:(k*P>5e5||M==1)&&(z=[0]),D&&(q={level:0});const Q=L_;for(var J=0;J<z.length;J++){for(let R=0;R<k;R++)w(E,N,R,P,M,z[J]);re.push(Q.deflate(E,q))}let ae,be=1e9;for(J=0;J<re.length;J++)re[J].length<be&&(ae=J,be=re[J].length);return re[ae]}function w(N,k,M,P,E,C){const D=M*P;let re=D+M;if(N[re]=C,re++,C==0)if(P<500)for(var q=0;q<P;q++)N[re+q]=k[D+q];else N.set(new Uint8Array(k.buffer,D,P),re);else if(C==1){for(q=0;q<E;q++)N[re+q]=k[D+q];for(q=E;q<P;q++)N[re+q]=k[D+q]-k[D+q-E]+256&255}else if(M==0){for(q=0;q<E;q++)N[re+q]=k[D+q];if(C==2)for(q=E;q<P;q++)N[re+q]=k[D+q];if(C==3)for(q=E;q<P;q++)N[re+q]=k[D+q]-(k[D+q-E]>>1)+256&255;if(C==4)for(q=E;q<P;q++)N[re+q]=k[D+q]-r(k[D+q-E],0,0)+256&255}else{if(C==2)for(q=0;q<P;q++)N[re+q]=k[D+q]+256-k[D+q-P]&255;if(C==3){for(q=0;q<E;q++)N[re+q]=k[D+q]+256-(k[D+q-P]>>1)&255;for(q=E;q<P;q++)N[re+q]=k[D+q]+256-(k[D+q-P]+k[D+q-E]>>1)&255}if(C==4){for(q=0;q<E;q++)N[re+q]=k[D+q]+256-r(0,k[D+q-P],0)&255;for(q=E;q<P;q++)N[re+q]=k[D+q]+256-r(k[D+q-E],k[D+q-P],k[D+q-E-P])&255}}}function _(N,k){const M=new Uint8Array(N),P=M.slice(0),E=new Uint32Array(P.buffer),C=L(P,k),D=C[0],re=C[1],q=M.length,z=new Uint8Array(q>>2);let Q;if(M.length<2e7)for(var J=0;J<q;J+=4)Q=x(D,ae=M[J]*(1/255),be=M[J+1]*(1/255),R=M[J+2]*(1/255),K=M[J+3]*(1/255)),z[J>>2]=Q.ind,E[J>>2]=Q.est.rgba;else for(J=0;J<q;J+=4){var ae=M[J]*.00392156862745098,be=M[J+1]*(1/255),R=M[J+2]*(1/255),K=M[J+3]*(1/255);for(Q=D;Q.left;)Q=S(Q.est,ae,be,R,K)<=0?Q.left:Q.right;z[J>>2]=Q.ind,E[J>>2]=Q.est.rgba}return{abuf:P.buffer,inds:z,plte:re}}function L(N,k,M){M==null&&(M=1e-4);const P=new Uint32Array(N.buffer),E={i0:0,i1:N.length,bst:null,est:null,tdst:0,left:null,right:null};E.bst=V(N,E.i0,E.i1),E.est=U(E.bst);const C=[E];for(;C.length<k;){let re=0,q=0;for(var D=0;D<C.length;D++)C[D].est.L>re&&(re=C[D].est.L,q=D);if(re<M)break;const z=C[q],Q=F(N,P,z.i0,z.i1,z.est.e,z.est.eMq255);if(z.i0>=Q||z.i1<=Q){z.est.L=0;continue}const J={i0:z.i0,i1:Q,bst:null,est:null,tdst:0,left:null,right:null};J.bst=V(N,J.i0,J.i1),J.est=U(J.bst);const ae={i0:Q,i1:z.i1,bst:null,est:null,tdst:0,left:null,right:null};for(ae.bst={R:[],m:[],N:z.bst.N-J.bst.N},D=0;D<16;D++)ae.bst.R[D]=z.bst.R[D]-J.bst.R[D];for(D=0;D<4;D++)ae.bst.m[D]=z.bst.m[D]-J.bst.m[D];ae.est=U(ae.bst),z.left=J,z.right=ae,C[q]=J,C.push(ae)}for(C.sort((re,q)=>q.bst.N-re.bst.N),D=0;D<C.length;D++)C[D].ind=D;return[E,C]}function x(N,k,M,P,E){if(N.left==null)return N.tdst=function(J,ae,be,R,K){const Z=ae-J[0],ee=be-J[1],fe=R-J[2],we=K-J[3];return Z*Z+ee*ee+fe*fe+we*we}(N.est.q,k,M,P,E),N;const C=S(N.est,k,M,P,E);let D=N.left,re=N.right;C>0&&(D=N.right,re=N.left);const q=x(D,k,M,P,E);if(q.tdst<=C*C)return q;const z=x(re,k,M,P,E);return z.tdst<q.tdst?z:q}function S(N,k,M,P,E){const{e:C}=N;return C[0]*k+C[1]*M+C[2]*P+C[3]*E-N.eMq}function F(N,k,M,P,E,C){for(P-=4;M<P;){for(;T(N,M,E)<=C;)M+=4;for(;T(N,P,E)>C;)P-=4;if(M>=P)break;const D=k[M>>2];k[M>>2]=k[P>>2],k[P>>2]=D,M+=4,P-=4}for(;T(N,M,E)>C;)M-=4;return M+4}function T(N,k,M){return N[k]*M[0]+N[k+1]*M[1]+N[k+2]*M[2]+N[k+3]*M[3]}function V(N,k,M){const P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],E=[0,0,0,0],C=M-k>>2;for(let D=k;D<M;D+=4){const re=N[D]*.00392156862745098,q=N[D+1]*(1/255),z=N[D+2]*(1/255),Q=N[D+3]*(1/255);E[0]+=re,E[1]+=q,E[2]+=z,E[3]+=Q,P[0]+=re*re,P[1]+=re*q,P[2]+=re*z,P[3]+=re*Q,P[5]+=q*q,P[6]+=q*z,P[7]+=q*Q,P[10]+=z*z,P[11]+=z*Q,P[15]+=Q*Q}return P[4]=P[1],P[8]=P[2],P[9]=P[6],P[12]=P[3],P[13]=P[7],P[14]=P[11],{R:P,m:E,N:C}}function U(N){const{R:k}=N,{m:M}=N,{N:P}=N,E=M[0],C=M[1],D=M[2],re=M[3],q=P==0?0:1/P,z=[k[0]-E*E*q,k[1]-E*C*q,k[2]-E*D*q,k[3]-E*re*q,k[4]-C*E*q,k[5]-C*C*q,k[6]-C*D*q,k[7]-C*re*q,k[8]-D*E*q,k[9]-D*C*q,k[10]-D*D*q,k[11]-D*re*q,k[12]-re*E*q,k[13]-re*C*q,k[14]-re*D*q,k[15]-re*re*q],Q=z,J=$;let ae=[Math.random(),Math.random(),Math.random(),Math.random()],be=0,R=0;if(P!=0)for(let Z=0;Z<16&&(ae=J.multVec(Q,ae),R=Math.sqrt(J.dot(ae,ae)),ae=J.sml(1/R,ae),!(Z!=0&&Math.abs(R-be)<1e-9));Z++)be=R;const K=[E*q,C*q,D*q,re*q];return{Cov:z,q:K,e:ae,L:be,eMq255:J.dot(J.sml(255,K),ae),eMq:J.dot(ae,K),rgba:(Math.round(255*K[3])<<24|Math.round(255*K[2])<<16|Math.round(255*K[1])<<8|Math.round(255*K[0])<<0)>>>0}}var $={multVec:(N,k)=>[N[0]*k[0]+N[1]*k[1]+N[2]*k[2]+N[3]*k[3],N[4]*k[0]+N[5]*k[1]+N[6]*k[2]+N[7]*k[3],N[8]*k[0]+N[9]*k[1]+N[10]*k[2]+N[11]*k[3],N[12]*k[0]+N[13]*k[1]+N[14]*k[2]+N[15]*k[3]],dot:(N,k)=>N[0]*k[0]+N[1]*k[1]+N[2]*k[2]+N[3]*k[3],sml:(N,k)=>[N*k[0],N*k[1],N*k[2],N*k[3]]};Rs.encode=function(k,M,P,E,C,D,re){E==null&&(E=0),re==null&&(re=!1);const q=f(k,M,P,E,[!1,!1,!1,0,re,!1]);return d(q,-1),l(q,M,P,C,D)},Rs.encodeLL=function(k,M,P,E,C,D,re,q){const z={ctype:0+(E==1?0:2)+(C==0?0:4),depth:D,frames:[]},Q=(E+C)*D,J=Q*M;for(let ae=0;ae<k.length;ae++)z.frames.push({rect:{x:0,y:0,width:M,height:P},img:new Uint8Array(k[ae]),blend:0,dispose:1,bpp:Math.ceil(Q/8),bpl:Math.ceil(J/8)});return d(z,0,!0),l(z,M,P,re,q)},Rs.encode.compress=f,Rs.encode.dither=o,Rs.quantize=_,Rs.quantize.getKDtree=L,Rs.quantize.getNearest=x})();const Pb={toArrayBuffer(e,t){const r=e.width,n=e.height,i=r<<2,s=e.getContext("2d").getImageData(0,0,r,n),a=new Uint32Array(s.data.buffer),o=(32*r+31)/32<<2,l=o*n,d=122+l,f=new ArrayBuffer(d),h=new DataView(f),m=1<<20;let g,w,_,L,x=m,S=0,F=0,T=0;function V(N){h.setUint16(F,N,!0),F+=2}function U(N){h.setUint32(F,N,!0),F+=4}function $(N){F+=N}V(19778),U(d),$(4),U(122),U(108),U(r),U(-n>>>0),V(1),V(32),U(3),U(l),U(2835),U(2835),$(8),U(16711680),U(65280),U(255),U(4278190080),U(1466527264),function N(){for(;S<n&&x>0;){for(L=122+S*o,g=0;g<i;)x--,w=a[T++],_=w>>>24,h.setUint32(L+g,w<<8|_),g+=4;S++}T<a.length?(x=m,setTimeout(N,Pb._dly)):t(f)}()},toBlob(e,t){this.toArrayBuffer(e,r=>{t(new Blob([r],{type:"image/bmp"}))})},_dly:9};var Ai={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},E_={[Ai.CHROME]:16384,[Ai.FIREFOX]:11180,[Ai.DESKTOP_SAFARI]:16384,[Ai.IE]:8192,[Ai.IOS]:4096,[Ai.ETC]:8192};const n2=typeof window<"u",Fb=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,uh=n2&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),C_=(n2||Fb)&&(uh&&uh.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Ib=(n2||Fb)&&(uh&&uh.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function i2(e,t,r=Date.now()){return new Promise(n=>{const i=e.split(","),s=i[0].match(/:(.*?);/)[1],a=globalThis.atob(i[1]);let o=a.length;const l=new Uint8Array(o);for(;o--;)l[o]=a.charCodeAt(o);const d=new Blob([l],{type:s});d.name=t,d.lastModified=r,n(d)})}function Ob(e){return new Promise((t,r)=>{const n=new Ib;n.onload=()=>t(n.result),n.onerror=i=>r(i),n.readAsDataURL(e)})}function Rb(e){return new Promise((t,r)=>{const n=new Image;n.onload=()=>t(n),n.onerror=i=>r(i),n.src=e})}function jl(){if(jl.cachedResult!==void 0)return jl.cachedResult;let e=Ai.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?e=Ai.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?e=Ai.IOS:/Safari/i.test(t)?e=Ai.DESKTOP_SAFARI:/Firefox/i.test(t)?e=Ai.FIREFOX:(/MSIE/i.test(t)||document.documentMode)&&(e=Ai.IE),jl.cachedResult=e,jl.cachedResult}function Tb(e,t){const r=jl(),n=E_[r];let i=e,s=t,a=i*s;const o=i>s?s/i:i/s;for(;a>n*n;){const l=(n+i)/2,d=(n+s)/2;l<d?(s=d,i=d*o):(s=l*o,i=l),a=i*s}return{width:i,height:s}}function Xh(e,t){let r,n;try{if(r=new OffscreenCanvas(e,t),n=r.getContext("2d"),n===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{r=document.createElement("canvas"),n=r.getContext("2d")}return r.width=e,r.height=t,[r,n]}function Db(e,t){const{width:r,height:n}=Tb(e.width,e.height),[i,s]=Xh(r,n);return t&&/jpe?g/.test(t)&&(s.fillStyle="white",s.fillRect(0,0,i.width,i.height)),s.drawImage(e,0,0,i.width,i.height),i}function Ld(){return Ld.cachedResult!==void 0||(Ld.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Ld.cachedResult}function ch(e,t={}){return new Promise(function(r,n){let i,s;var a=function(){try{return s=Db(i,t.fileType||e.type),r([i,s])}catch(l){return n(l)}},o=function(l){try{var d=function(f){try{throw f}catch(h){return n(h)}};try{let f;return Ob(e).then(function(h){try{return f=h,Rb(f).then(function(m){try{return i=m,function(){try{return a()}catch(g){return n(g)}}()}catch(g){return d(g)}},d)}catch(m){return d(m)}},d)}catch(f){d(f)}}catch(f){return n(f)}};try{if(Ld()||[Ai.DESKTOP_SAFARI,Ai.MOBILE_SAFARI].includes(jl()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then(function(l){try{return i=l,a()}catch{return o()}},o)}catch{o()}})}function fh(e,t,r,n,i=1){return new Promise(function(s,a){let o;if(t==="image/png"){let d,f,h;return d=e.getContext("2d"),{data:f}=d.getImageData(0,0,e.width,e.height),h=Rs.encode([f.buffer],e.width,e.height,4096*i),o=new Blob([h],{type:t}),o.name=r,o.lastModified=n,l.call(this)}{let d=function(){return l.call(this)};if(t==="image/bmp")return new Promise(f=>Pb.toBlob(e,f)).then((function(f){try{return o=f,o.name=r,o.lastModified=n,d.call(this)}catch(h){return a(h)}}).bind(this),a);{let f=function(){return d.call(this)};if(typeof OffscreenCanvas=="function"&&e instanceof OffscreenCanvas)return e.convertToBlob({type:t,quality:i}).then((function(h){try{return o=h,o.name=r,o.lastModified=n,f.call(this)}catch(m){return a(m)}}).bind(this),a);{let h;return h=e.toDataURL(t,i),i2(h,r,n).then((function(m){try{return o=m,f.call(this)}catch(g){return a(g)}}).bind(this),a)}}}function l(){return s(o)}})}function oa(e){e.width=0,e.height=0}function Su(){return new Promise(function(e,t){let r,n,i,s;return Su.cachedResult!==void 0?e(Su.cachedResult):i2("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(a){try{return r=a,ch(r).then(function(o){try{return n=o[1],fh(n,r.type,r.name,r.lastModified).then(function(l){try{return i=l,oa(n),ch(i).then(function(d){try{return s=d[0],Su.cachedResult=s.width===1&&s.height===2,e(Su.cachedResult)}catch(f){return t(f)}},t)}catch(d){return t(d)}},t)}catch(l){return t(l)}},t)}catch(o){return t(o)}},t)})}function Mb(e){return new Promise((t,r)=>{const n=new Ib;n.onload=i=>{const s=new DataView(i.target.result);if(s.getUint16(0,!1)!=65496)return t(-2);const a=s.byteLength;let o=2;for(;o<a;){if(s.getUint16(o+2,!1)<=8)return t(-1);const l=s.getUint16(o,!1);if(o+=2,l==65505){if(s.getUint32(o+=2,!1)!=1165519206)return t(-1);const d=s.getUint16(o+=6,!1)==18761;o+=s.getUint32(o+4,d);const f=s.getUint16(o,d);o+=2;for(let h=0;h<f;h++)if(s.getUint16(o+12*h,d)==274)return t(s.getUint16(o+12*h+8,d))}else{if((65280&l)!=65280)break;o+=s.getUint16(o,!1)}}return t(-1)},n.onerror=i=>r(i),n.readAsArrayBuffer(e)})}function zb(e,t){const{width:r}=e,{height:n}=e,{maxWidthOrHeight:i}=t;let s,a=e;return isFinite(i)&&(r>i||n>i)&&([a,s]=Xh(r,n),r>n?(a.width=i,a.height=n/r*i):(a.width=r/n*i,a.height=i),s.drawImage(e,0,0,a.width,a.height),oa(e)),a}function Bb(e,t){const{width:r}=e,{height:n}=e,[i,s]=Xh(r,n);switch(t>4&&t<9?(i.width=n,i.height=r):(i.width=r,i.height=n),t){case 2:s.transform(-1,0,0,1,r,0);break;case 3:s.transform(-1,0,0,-1,r,n);break;case 4:s.transform(1,0,0,-1,0,n);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,n,0);break;case 7:s.transform(0,-1,-1,0,n,r);break;case 8:s.transform(0,-1,1,0,0,r)}return s.drawImage(e,0,0,r,n),oa(e),i}function I5(e,t,r=0){return new Promise(function(n,i){let s,a,o,l,d,f,h,m,g,w,_,L,x,S,F,T,V,U,$,N;function k(P=5){if(t.signal&&t.signal.aborted)throw t.signal.reason;s+=P,t.onProgress(Math.min(s,100))}function M(P){if(t.signal&&t.signal.aborted)throw t.signal.reason;s=Math.min(Math.max(P,s),100),t.onProgress(s)}return s=r,a=t.maxIteration||10,o=1024*t.maxSizeMB*1024,k(),ch(e,t).then((function(P){try{return[,l]=P,k(),d=zb(l,t),k(),new Promise(function(E,C){var D;if(!(D=t.exifOrientation))return Mb(e).then((function(q){try{return D=q,re.call(this)}catch(z){return C(z)}}).bind(this),C);function re(){return E(D)}return re.call(this)}).then((function(E){try{return f=E,k(),Su().then((function(C){try{return h=C?d:Bb(d,f),k(),m=t.initialQuality||1,g=t.fileType||e.type,fh(h,g,e.name,e.lastModified,m).then((function(D){try{{let q=function(){if(a--&&(F>o||F>x)){let Q,J;return Q=N?.95*$.width:$.width,J=N?.95*$.height:$.height,[V,U]=Xh(Q,J),U.drawImage($,0,0,Q,J),m*=g==="image/png"?.85:.95,fh(V,g,e.name,e.lastModified,m).then(function(ae){try{return T=ae,oa($),$=V,F=T.size,M(Math.min(99,Math.floor((S-F)/(S-o)*100))),q}catch(be){return i(be)}},i)}return[1]},z=function(){return oa($),oa(V),oa(d),oa(h),oa(l),M(100),n(T)};if(w=D,k(),_=w.size>o,L=w.size>e.size,!_&&!L)return M(100),n(w);var re;return x=e.size,S=w.size,F=S,$=h,N=!t.alwaysKeepResolution&&_,(re=(function(Q){for(;Q;){if(Q.then)return void Q.then(re,i);try{if(Q.pop){if(Q.length)return Q.pop()?z.call(this):Q;Q=q}else Q=Q.call(this)}catch(J){return i(J)}}}).bind(this))(q)}}catch(q){return i(q)}}).bind(this),i)}catch(D){return i(D)}}).bind(this),i)}catch(C){return i(C)}}).bind(this),i)}catch(E){return i(E)}}).bind(this),i)})}const P_=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let u0;function F_(e,t){return new Promise((r,n)=>{u0||(u0=function(a){const o=[];return o.push(a),URL.createObjectURL(new Blob(o))}(P_));const i=new Worker(u0);i.addEventListener("message",function(a){if(t.signal&&t.signal.aborted)i.terminate();else if(a.data.progress===void 0){if(a.data.error)return n(new Error(a.data.error)),void i.terminate();r(a.data.file),i.terminate()}else t.onProgress(a.data.progress)}),i.addEventListener("error",n),t.signal&&t.signal.addEventListener("abort",()=>{n(t.signal.reason),i.terminate()}),i.postMessage({file:e,imageCompressionLibUrl:t.libURL,options:{...t,onProgress:void 0,signal:void 0}})})}function Zn(e,t){return new Promise(function(r,n){let i,s,a,o,l,d;if(i={...t},a=0,{onProgress:o}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=g=>{a=g,typeof o=="function"&&o(a)},!(e instanceof Blob||e instanceof C_))return n(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return n(new Error("The file given is not an image"));if(d=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||d)return I5(e,i).then((function(g){try{return s=g,m.call(this)}catch(w){return n(w)}}).bind(this),n);var f=(function(){try{return m.call(this)}catch(g){return n(g)}}).bind(this),h=function(g){try{return I5(e,i).then(function(w){try{return s=w,f()}catch(_){return n(_)}},n)}catch(w){return n(w)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",F_(e,i).then(function(g){try{return s=g,f()}catch{return h()}},h)}catch{h()}function m(){try{s.name=e.name,s.lastModified=e.lastModified}catch{}try{i.preserveExif&&e.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===e.type)&&(s=Cb(e,s))}catch{}return r(s)}})}Zn.getDataUrlFromFile=Ob,Zn.getFilefromDataUrl=i2,Zn.loadImage=Rb,Zn.drawImageInCanvas=Db,Zn.drawFileInCanvas=ch,Zn.canvasToFile=fh,Zn.getExifOrientation=Mb,Zn.handleMaxWidthOrHeight=zb,Zn.followExifOrientation=Bb,Zn.cleanupCanvasMemory=oa,Zn.isAutoOrientationInBrowser=Su,Zn.approximateBelowMaximumCanvasSizeOfBrowser=Tb,Zn.copyExifWithoutOrientation=Cb,Zn.getBrowserName=jl,Zn.version="2.0.2";const I_=async e=>{const t={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0};try{const r=await Zn(e,t);return r instanceof Blob&&!(r instanceof File)?new File([r],e.name,{type:r.type,lastModified:Date.now()}):r}catch(r){return console.error("Erreur compression image:",r),e}},O_=({feuilleId:e,readOnly:t=!1})=>{const[r,n]=_e.useState([]),[i,s]=_e.useState(!0),[a,o]=_e.useState(!1),[l,d]=_e.useState(null),f=_e.useRef(null),{showToast:h}=Ul(),m=async()=>{try{const S=await l0.getByFeuille(e);n(S)}catch(S){console.error("Erreur chargement photos:",S),h("Impossible de charger les photos","error")}finally{s(!1)}};_e.useEffect(()=>{e&&m()},[e]);const g=async S=>{if(!(!S.target.files||S.target.files.length===0)){o(!0);try{const F=[];for(let T=0;T<S.target.files.length;T++){const V=S.target.files[T];try{console.log(`Compression de ${V.name} (${(V.size/1024).toFixed(0)} KB)...`);const U=await I_(V);console.log(`Compresse : ${(U.size/1024).toFixed(0)} KB`),F.push(U)}catch(U){console.warn("Echec compression, utilisation fichier original",U),F.push(V)}}await l0.upload(F,e,"Photo chantier"),h("Photo ajoutee avec succes","success"),await m()}catch(F){console.error("Erreur upload:",F),h("Erreur lors de l'upload","error")}finally{o(!1),f.current&&(f.current.value="")}}},w=S=>{console.log("Clic sur supprimer, photo:",S.id),d(S)},_=async()=>{var S,F,T;if(l){console.log("Confirmation de suppression de la photo:",l.id);try{await l0.delete(l.id),console.log("Photo supprime avec succs"),h("Photo supprimee","success"),n(r.filter(V=>V.id!==l.id)),d(null)}catch(V){console.error("Erreur suppression:",V),console.error("Dtails erreur:",(S=V.response)==null?void 0:S.data);const U=((T=(F=V.response)==null?void 0:F.data)==null?void 0:T.message)||"Erreur lors de la suppression";h(U,"error"),d(null)}}},L=()=>{console.log("Annulation de la suppression"),d(null)},x=S=>S?S.startsWith("http")?S:`http://localhost:5000${S}`:"";return i?u.jsx("div",{className:"flex justify-center p-4",children:u.jsx(fr,{className:"animate-spin text-gray-400"})}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h3",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[u.jsx(U8,{size:16}),"Photos du chantier (",r.length,")"]}),!t&&u.jsxs("button",{onClick:()=>{var S;return(S=f.current)==null?void 0:S.click()},disabled:a,className:"text-sm text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[a?u.jsx(fr,{size:16,className:"animate-spin"}):u.jsx(El,{size:16}),"Ajouter une photo"]}),u.jsx("input",{type:"file",ref:f,onChange:g,accept:"image/*",multiple:!0,className:"hidden"})]}),r.length===0?u.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-lg p-6 text-center text-gray-400",children:[u.jsx(Ll,{className:"mx-auto mb-2 opacity-50",size:32}),u.jsx("p",{className:"text-xs",children:"Aucune photo pour le moment"})]}):u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:r.map(S=>u.jsxs("div",{className:"group relative aspect-square bg-gray-100 rounded-lg overflow-hidden border",children:[u.jsx("img",{src:x(S.downloadUrl||S.url),alt:S.nom,className:"w-full h-full object-cover transition-transform group-hover:scale-105",onError:F=>{F.currentTarget.src="https://via.placeholder.com/150?text=Erreur+Image"}}),!t&&u.jsx("button",{onClick:()=>w(S),className:"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full shadow-sm hover:bg-red-700",title:"Supprimer",children:u.jsx(Jm,{size:14})}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 p-1 text-[10px] text-white truncate px-2",children:new Date(S.createdAt).toLocaleDateString()})]},S.id))}),l&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-sm mx-4",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Confirmer la suppression"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Voulez-vous vraiment supprimer cette photo ?"}),u.jsxs("div",{className:"flex justify-end gap-3",children:[u.jsx("button",{onClick:L,className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Annuler"}),u.jsx("button",{onClick:_,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Supprimer"})]})]})})]})},R_="modulepreload",T_=function(e){return"/"+e},O5={},dh=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=T_(l),l in O5)return;O5[l]=!0;const d=l.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":R_,d||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),d)return new Promise((m,g)=>{h.addEventListener("load",m),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})};function gr(e){"@babel/helpers - typeof";return gr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gr(e)}var ni=Uint8Array,Hi=Uint16Array,s2=Int32Array,Zh=new ni([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ep=new ni([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),E1=new ni([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ub=function(e,t){for(var r=new Hi(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new s2(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},qb=Ub(Zh,2),Vb=qb.b,C1=qb.r;Vb[28]=258,C1[258]=28;var $b=Ub(ep,0),D_=$b.b,R5=$b.r,P1=new Hi(32768);for(var Fr=0;Fr<32768;++Fr){var No=(Fr&43690)>>1|(Fr&21845)<<1;No=(No&52428)>>2|(No&13107)<<2,No=(No&61680)>>4|(No&3855)<<4,P1[Fr]=((No&65280)>>8|(No&255)<<8)>>1}var da=function(e,t,r){for(var n=e.length,i=0,s=new Hi(t);i<n;++i)e[i]&&++s[e[i]-1];var a=new Hi(t);for(i=1;i<t;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(r){o=new Hi(1<<t);var l=15-t;for(i=0;i<n;++i)if(e[i])for(var d=i<<4|e[i],f=t-e[i],h=a[e[i]-1]++<<f,m=h|(1<<f)-1;h<=m;++h)o[P1[h]>>l]=d}else for(o=new Hi(n),i=0;i<n;++i)e[i]&&(o[i]=P1[a[e[i]-1]++]>>15-e[i]);return o},Go=new ni(288);for(var Fr=0;Fr<144;++Fr)Go[Fr]=8;for(var Fr=144;Fr<256;++Fr)Go[Fr]=9;for(var Fr=256;Fr<280;++Fr)Go[Fr]=7;for(var Fr=280;Fr<288;++Fr)Go[Fr]=8;var df=new ni(32);for(var Fr=0;Fr<32;++Fr)df[Fr]=5;var M_=da(Go,9,0),z_=da(Go,9,1),B_=da(df,5,0),U_=da(df,5,1),c0=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Is=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},f0=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},a2=function(e){return(e+7)/8|0},Hb=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new ni(e.subarray(t,r))},q_=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ds=function(e,t,r){var n=new Error(t||q_[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,Ds),!r)throw n;return n},V_=function(e,t,r,n){var i=e.length,s=0;if(!i||t.f&&!t.l)return r||new ni(0);var a=!r,o=a||t.i!=2,l=t.i;a&&(r=new ni(i*3));var d=function(Oe){var Re=r.length;if(Oe>Re){var Ze=new ni(Math.max(Re*2,Oe));Ze.set(r),r=Ze}},f=t.f||0,h=t.p||0,m=t.b||0,g=t.l,w=t.d,_=t.m,L=t.n,x=i*8;do{if(!g){f=Is(e,h,1);var S=Is(e,h+1,3);if(h+=3,S)if(S==1)g=z_,w=U_,_=9,L=5;else if(S==2){var U=Is(e,h,31)+257,$=Is(e,h+10,15)+4,N=U+Is(e,h+5,31)+1;h+=14;for(var k=new ni(N),M=new ni(19),P=0;P<$;++P)M[E1[P]]=Is(e,h+P*3,7);h+=$*3;for(var E=c0(M),C=(1<<E)-1,D=da(M,E,1),P=0;P<N;){var re=D[Is(e,h,C)];h+=re&15;var F=re>>4;if(F<16)k[P++]=F;else{var q=0,z=0;for(F==16?(z=3+Is(e,h,3),h+=2,q=k[P-1]):F==17?(z=3+Is(e,h,7),h+=3):F==18&&(z=11+Is(e,h,127),h+=7);z--;)k[P++]=q}}var Q=k.subarray(0,U),J=k.subarray(U);_=c0(Q),L=c0(J),g=da(Q,_,1),w=da(J,L,1)}else Ds(1);else{var F=a2(h)+4,T=e[F-4]|e[F-3]<<8,V=F+T;if(V>i){l&&Ds(0);break}o&&d(m+T),r.set(e.subarray(F,V),m),t.b=m+=T,t.p=h=V*8,t.f=f;continue}if(h>x){l&&Ds(0);break}}o&&d(m+131072);for(var ae=(1<<_)-1,be=(1<<L)-1,R=h;;R=h){var q=g[f0(e,h)&ae],K=q>>4;if(h+=q&15,h>x){l&&Ds(0);break}if(q||Ds(2),K<256)r[m++]=K;else if(K==256){R=h,g=null;break}else{var Z=K-254;if(K>264){var P=K-257,ee=Zh[P];Z=Is(e,h,(1<<ee)-1)+Vb[P],h+=ee}var fe=w[f0(e,h)&be],we=fe>>4;fe||Ds(3),h+=fe&15;var J=D_[we];if(we>3){var ee=ep[we];J+=f0(e,h)&(1<<ee)-1,h+=ee}if(h>x){l&&Ds(0);break}o&&d(m+131072);var ve=m+Z;if(m<J){var se=s-J,$e=Math.min(J,ve);for(se+m<0&&Ds(3);m<$e;++m)r[m]=n[se+m]}for(;m<ve;++m)r[m]=r[m-J]}}t.l=g,t.p=R,t.b=m,t.f=f,g&&(f=1,t.m=_,t.d=w,t.n=L)}while(!f);return m!=r.length&&a?Hb(r,0,m):r.subarray(0,m)},Ia=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},jc=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},d0=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,s=r.slice();if(!i)return{t:Kb,l:0};if(i==1){var a=new ni(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(V,U){return V.f-U.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],d=0,f=1,h=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};f!=i-1;)o=r[r[d].f<r[h].f?d++:h++],l=r[d!=f&&r[d].f<r[h].f?d++:h++],r[f++]={s:-1,f:o.f+l.f,l:o,r:l};for(var m=s[0].s,n=1;n<i;++n)s[n].s>m&&(m=s[n].s);var g=new Hi(m+1),w=F1(r[f-1],g,0);if(w>t){var n=0,_=0,L=w-t,x=1<<L;for(s.sort(function(U,$){return g[$.s]-g[U.s]||U.f-$.f});n<i;++n){var S=s[n].s;if(g[S]>t)_+=x-(1<<w-g[S]),g[S]=t;else break}for(_>>=L;_>0;){var F=s[n].s;g[F]<t?_-=1<<t-g[F]++-1:++n}for(;n>=0&&_;--n){var T=s[n].s;g[T]==t&&(--g[T],++_)}w=t}return{t:new ni(g),l:w}},F1=function(e,t,r){return e.s==-1?Math.max(F1(e.l,t,r+1),F1(e.r,t,r+1)):t[e.s]=r},T5=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Hi(++t),n=0,i=e[0],s=1,a=function(l){r[n++]=l},o=1;o<=t;++o)if(e[o]==i&&o!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=e[o]}return{c:r.subarray(0,n),n:t}},_c=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},Wb=function(e,t,r){var n=r.length,i=a2(t+2);e[i]=n&255,e[i+1]=n>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var s=0;s<n;++s)e[i+s+4]=r[s];return(i+4+n)*8},D5=function(e,t,r,n,i,s,a,o,l,d,f){Ia(t,f++,r),++i[256];for(var h=d0(i,15),m=h.t,g=h.l,w=d0(s,15),_=w.t,L=w.l,x=T5(m),S=x.c,F=x.n,T=T5(_),V=T.c,U=T.n,$=new Hi(19),N=0;N<S.length;++N)++$[S[N]&31];for(var N=0;N<V.length;++N)++$[V[N]&31];for(var k=d0($,7),M=k.t,P=k.l,E=19;E>4&&!M[E1[E-1]];--E);var C=d+5<<3,D=_c(i,Go)+_c(s,df)+a,re=_c(i,m)+_c(s,_)+a+14+3*E+_c($,M)+2*$[16]+3*$[17]+7*$[18];if(l>=0&&C<=D&&C<=re)return Wb(t,f,e.subarray(l,l+d));var q,z,Q,J;if(Ia(t,f,1+(re<D)),f+=2,re<D){q=da(m,g,0),z=m,Q=da(_,L,0),J=_;var ae=da(M,P,0);Ia(t,f,F-257),Ia(t,f+5,U-1),Ia(t,f+10,E-4),f+=14;for(var N=0;N<E;++N)Ia(t,f+3*N,M[E1[N]]);f+=3*E;for(var be=[S,V],R=0;R<2;++R)for(var K=be[R],N=0;N<K.length;++N){var Z=K[N]&31;Ia(t,f,ae[Z]),f+=M[Z],Z>15&&(Ia(t,f,K[N]>>5&127),f+=K[N]>>12)}}else q=M_,z=Go,Q=B_,J=df;for(var N=0;N<o;++N){var ee=n[N];if(ee>255){var Z=ee>>18&31;jc(t,f,q[Z+257]),f+=z[Z+257],Z>7&&(Ia(t,f,ee>>23&31),f+=Zh[Z]);var fe=ee&31;jc(t,f,Q[fe]),f+=J[fe],fe>3&&(jc(t,f,ee>>5&8191),f+=ep[fe])}else jc(t,f,q[ee]),f+=z[ee]}return jc(t,f,q[256]),f+z[256]},$_=new s2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Kb=new ni(0),H_=function(e,t,r,n,i,s){var a=s.z||e.length,o=new ni(n+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(n,o.length-i),d=s.l,f=(s.r||0)&7;if(t){f&&(l[0]=s.r>>3);for(var h=$_[t-1],m=h>>13,g=h&8191,w=(1<<r)-1,_=s.p||new Hi(32768),L=s.h||new Hi(w+1),x=Math.ceil(r/3),S=2*x,F=function(dt){return(e[dt]^e[dt+1]<<x^e[dt+2]<<S)&w},T=new s2(25e3),V=new Hi(288),U=new Hi(32),$=0,N=0,k=s.i||0,M=0,P=s.w||0,E=0;k+2<a;++k){var C=F(k),D=k&32767,re=L[C];if(_[D]=re,L[C]=D,P<=k){var q=a-k;if(($>7e3||M>24576)&&(q>423||!d)){f=D5(e,l,0,T,V,U,N,M,E,k-E,f),M=$=N=0,E=k;for(var z=0;z<286;++z)V[z]=0;for(var z=0;z<30;++z)U[z]=0}var Q=2,J=0,ae=g,be=D-re&32767;if(q>2&&C==F(k-be))for(var R=Math.min(m,q)-1,K=Math.min(32767,k),Z=Math.min(258,q);be<=K&&--ae&&D!=re;){if(e[k+Q]==e[k+Q-be]){for(var ee=0;ee<Z&&e[k+ee]==e[k+ee-be];++ee);if(ee>Q){if(Q=ee,J=be,ee>R)break;for(var fe=Math.min(be,ee-2),we=0,z=0;z<fe;++z){var ve=k-be+z&32767,se=_[ve],$e=ve-se&32767;$e>we&&(we=$e,re=ve)}}}D=re,re=_[D],be+=D-re&32767}if(J){T[M++]=268435456|C1[Q]<<18|R5[J];var Oe=C1[Q]&31,Re=R5[J]&31;N+=Zh[Oe]+ep[Re],++V[257+Oe],++U[Re],P=k+Q,++$}else T[M++]=e[k],++V[e[k]]}}for(k=Math.max(k,P);k<a;++k)T[M++]=e[k],++V[e[k]];f=D5(e,l,d,T,V,U,N,M,E,k-E,f),d||(s.r=f&7|l[f/8|0]<<3,f-=7,s.h=L,s.p=_,s.i=k,s.w=P)}else{for(var k=s.w||0;k<a+d;k+=65535){var Ze=k+65535;Ze>=a&&(l[f/8|0]=d,Ze=a),f=Wb(l,f+1,e.subarray(k,Ze))}s.i=a}return Hb(o,0,n+a2(f)+i)},Gb=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,s=r.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=n+=r[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}e=n,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},W_=function(e,t,r,n,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),a=new ni(s.length+e.length);a.set(s),a.set(e,s.length),e=a,i.w=s.length}return H_(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,i)},Qb=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},K_=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=Gb();i.p(t.dictionary),Qb(e,2,i.d())}},G_=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Ds(6,"invalid zlib data"),(e[1]>>5&1)==1&&Ds(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function I1(e,t){t||(t={});var r=Gb();r.p(e);var n=W_(e,t,t.dictionary?6:2,4);return K_(n,t),Qb(n,n.length-4,r.d()),n}function Q_(e,t){return V_(e.subarray(G_(e),-4),{i:2},t,t)}var J_=typeof TextDecoder<"u"&&new TextDecoder,Y_=0;try{J_.decode(Kb,{stream:!0}),Y_=1}catch{}var Ut=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function h0(){Ut.console&&typeof Ut.console.log=="function"&&Ut.console.log.apply(Ut.console,arguments)}var jr={log:h0,warn:function(e){Ut.console&&(typeof Ut.console.warn=="function"?Ut.console.warn.apply(Ut.console,arguments):h0.call(null,arguments))},error:function(e){Ut.console&&(typeof Ut.console.error=="function"?Ut.console.error.apply(Ut.console,arguments):h0(e))}};function p0(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){vl(n.response,t,r)},n.onerror=function(){jr.error("could not download file")},n.send()}function M5(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function od(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Bc,O1,vl=Ut.saveAs||((typeof window>"u"?"undefined":gr(window))!=="object"||window!==Ut?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Ut.URL||Ut.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?M5(i.href)?p0(e,t,r):od(i,i.target="_blank"):od(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){od(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(M5(e))p0(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){od(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:gr(s)!=="object"&&(jr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return p0(e,t,r);var i=e.type==="application/octet-stream",s=/constructor/i.test(Ut.HTMLElement)||Ut.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":gr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var f=o.result;f=a?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},o.readAsDataURL(e)}else{var l=Ut.URL||Ut.webkitURL,d=l.createObjectURL(e);n?n.location=d:location.href=d,n=null,setTimeout(function(){l.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Jb(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,a=i.exec(e);a&&(t=s(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),d=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),d.length==1&&(d="0"+d),"#"+o+l+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function m0(e,t){var r=e[0],n=e[1],i=e[2],s=e[3];r=Qn(r,n,i,s,t[0],7,-680876936),s=Qn(s,r,n,i,t[1],12,-389564586),i=Qn(i,s,r,n,t[2],17,606105819),n=Qn(n,i,s,r,t[3],22,-1044525330),r=Qn(r,n,i,s,t[4],7,-176418897),s=Qn(s,r,n,i,t[5],12,1200080426),i=Qn(i,s,r,n,t[6],17,-1473231341),n=Qn(n,i,s,r,t[7],22,-45705983),r=Qn(r,n,i,s,t[8],7,1770035416),s=Qn(s,r,n,i,t[9],12,-1958414417),i=Qn(i,s,r,n,t[10],17,-42063),n=Qn(n,i,s,r,t[11],22,-1990404162),r=Qn(r,n,i,s,t[12],7,1804603682),s=Qn(s,r,n,i,t[13],12,-40341101),i=Qn(i,s,r,n,t[14],17,-1502002290),r=Jn(r,n=Qn(n,i,s,r,t[15],22,1236535329),i,s,t[1],5,-165796510),s=Jn(s,r,n,i,t[6],9,-1069501632),i=Jn(i,s,r,n,t[11],14,643717713),n=Jn(n,i,s,r,t[0],20,-373897302),r=Jn(r,n,i,s,t[5],5,-701558691),s=Jn(s,r,n,i,t[10],9,38016083),i=Jn(i,s,r,n,t[15],14,-660478335),n=Jn(n,i,s,r,t[4],20,-405537848),r=Jn(r,n,i,s,t[9],5,568446438),s=Jn(s,r,n,i,t[14],9,-1019803690),i=Jn(i,s,r,n,t[3],14,-187363961),n=Jn(n,i,s,r,t[8],20,1163531501),r=Jn(r,n,i,s,t[13],5,-1444681467),s=Jn(s,r,n,i,t[2],9,-51403784),i=Jn(i,s,r,n,t[7],14,1735328473),r=Yn(r,n=Jn(n,i,s,r,t[12],20,-1926607734),i,s,t[5],4,-378558),s=Yn(s,r,n,i,t[8],11,-2022574463),i=Yn(i,s,r,n,t[11],16,1839030562),n=Yn(n,i,s,r,t[14],23,-35309556),r=Yn(r,n,i,s,t[1],4,-1530992060),s=Yn(s,r,n,i,t[4],11,1272893353),i=Yn(i,s,r,n,t[7],16,-155497632),n=Yn(n,i,s,r,t[10],23,-1094730640),r=Yn(r,n,i,s,t[13],4,681279174),s=Yn(s,r,n,i,t[0],11,-358537222),i=Yn(i,s,r,n,t[3],16,-722521979),n=Yn(n,i,s,r,t[6],23,76029189),r=Yn(r,n,i,s,t[9],4,-640364487),s=Yn(s,r,n,i,t[12],11,-421815835),i=Yn(i,s,r,n,t[15],16,530742520),r=Xn(r,n=Yn(n,i,s,r,t[2],23,-995338651),i,s,t[0],6,-198630844),s=Xn(s,r,n,i,t[7],10,1126891415),i=Xn(i,s,r,n,t[14],15,-1416354905),n=Xn(n,i,s,r,t[5],21,-57434055),r=Xn(r,n,i,s,t[12],6,1700485571),s=Xn(s,r,n,i,t[3],10,-1894986606),i=Xn(i,s,r,n,t[10],15,-1051523),n=Xn(n,i,s,r,t[1],21,-2054922799),r=Xn(r,n,i,s,t[8],6,1873313359),s=Xn(s,r,n,i,t[15],10,-30611744),i=Xn(i,s,r,n,t[6],15,-1560198380),n=Xn(n,i,s,r,t[13],21,1309151649),r=Xn(r,n,i,s,t[4],6,-145523070),s=Xn(s,r,n,i,t[11],10,-1120210379),i=Xn(i,s,r,n,t[2],15,718787259),n=Xn(n,i,s,r,t[9],21,-343485551),e[0]=Io(r,e[0]),e[1]=Io(n,e[1]),e[2]=Io(i,e[2]),e[3]=Io(s,e[3])}function tp(e,t,r,n,i,s){return t=Io(Io(t,e),Io(n,s)),Io(t<<i|t>>>32-i,r)}function Qn(e,t,r,n,i,s,a){return tp(t&r|~t&n,e,t,i,s,a)}function Jn(e,t,r,n,i,s,a){return tp(t&n|r&~n,e,t,i,s,a)}function Yn(e,t,r,n,i,s,a){return tp(t^r^n,e,t,i,s,a)}function Xn(e,t,r,n,i,s,a){return tp(r^(t|~n),e,t,i,s,a)}function Yb(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)m0(n,X_(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(m0(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,m0(n,i),n}function X_(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}Bc=Ut.atob.bind(Ut),O1=Ut.btoa.bind(Ut);var z5="0123456789abcdef".split("");function Z_(e){for(var t="",r=0;r<4;r++)t+=z5[e>>8*r+4&15]+z5[e>>8*r&15];return t}function e7(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function R1(e){return Yb(e).map(e7).join("")}var t7=function(e){for(var t=0;t<e.length;t++)e[t]=Z_(e[t]);return e.join("")}(Yb("hello"))!="5d41402abc4b2a76b9719d911017c592";function Io(e,t){if(t7){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function T1(e,t){var r,n,i,s;if(e!==r){for(var a=(i=e,s=1+(256/e.length>>0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var d=0;for(l=0;l<256;l++){var f=o[l];d=(d+f+a.charCodeAt(l))%256,o[l]=o[d],o[d]=f}r=e,n=o}else o=n;var h=t.length,m=0,g=0,w="";for(l=0;l<h;l++)g=(g+(f=o[m=(m+1)%256]))%256,o[m]=o[g],o[g]=f,a=o[(o[m]+o[g])%256],w+=String.fromCharCode(t.charCodeAt(l)^a);return w}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var B5={print:4,modify:8,copy:16,"annot-forms":32};function ou(e,t,r,n){this.v=1,this.r=2;var i=192;e.forEach(function(o){if(B5.perm!==void 0)throw new Error("Invalid permission: "+o);i+=B5[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=R1(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=T1(this.encryptionKey,this.padding)}function lu(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=e[n]}return t}function U5(e){if(gr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var s=Math.random().toString(35);return t[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[r]){var a=t[r][s];try{a[0].apply(e,n)}catch(o){Ut.console&&jr.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function hh(e){if(!(this instanceof hh))return new hh(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function Xb(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function yl(e,t,r,n,i){if(!(this instanceof yl))return new yl(e,t,r,n,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,Xb.call(this,n,i)}function ju(e,t,r,n,i){if(!(this instanceof ju))return new ju(e,t,r,n,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,Xb.call(this,n,i)}function zt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,d="S",f=null;gr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,i=e.format||i,s=e.compress||e.compressPdf||s,(f=e.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),d=e.defaultPathOperation||"S"),a=e.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,m={},g={internal:{},__private__:{}};g.__private__.PubSub=U5;var w="1.3",_=g.__private__.getPdfVersion=function(){return w};g.__private__.setPdfVersion=function(b){w=b};var L={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return L};var x=g.__private__.getPageFormat=function(b){return L[b]};i=i||"a4";var S={COMPAT:"compat",ADVANCED:"advanced"},F=S.COMPAT;function T(){this.saveGraphicsState(),le(new Ot(st,0,0,-st,0,Ls()*st).toString()+" cm"),this.setFontSize(this.getFontSize()/st),d="n",F=S.ADVANCED}function V(){this.restoreGraphicsState(),d="S",F=S.COMPAT}var U=g.__private__.combineFontStyleAndFontWeight=function(b,H){if(b=="bold"&&H=="normal"||b=="bold"&&H==400||b=="normal"&&H=="italic"||b=="bold"&&H=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return H&&(b=H==400||H==="normal"?b==="italic"?"italic":"normal":H!=700&&H!=="bold"||b!=="normal"?(H==700?"bold":H)+""+b:"bold"),b};g.advancedAPI=function(b){var H=F===S.COMPAT;return H&&T.call(this),typeof b!="function"||(b(this),H&&V.call(this)),this},g.compatAPI=function(b){var H=F===S.ADVANCED;return H&&V.call(this),typeof b!="function"||(b(this),H&&T.call(this)),this},g.isAdvancedAPI=function(){return F===S.ADVANCED};var $,N=function(b){if(F!==S.ADVANCED)throw new Error(b+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},k=g.roundToPrecision=g.__private__.roundToPrecision=function(b,H){var ce=t||H;if(isNaN(b)||isNaN(ce))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return b.toFixed(ce).replace(/0+$/,"")};$=g.hpf=g.__private__.hpf=typeof l=="number"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return k(b,l)}:l==="smart"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return k(b,b>-1&&b<1?16:5)}:function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return k(b,16)};var M=g.f2=g.__private__.f2=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f2");return k(b,2)},P=g.__private__.f3=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f3");return k(b,3)},E=g.scale=g.__private__.scale=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.scale");return F===S.COMPAT?b*st:F===S.ADVANCED?b:void 0},C=function(b){return F===S.COMPAT?Ls()-b:F===S.ADVANCED?b:void 0},D=function(b){return E(C(b))};g.__private__.setPrecision=g.setPrecision=function(b){typeof parseInt(b,10)=="number"&&(t=parseInt(b,10))};var re,q="00000000000000000000000000000000",z=g.__private__.getFileId=function(){return q},Q=g.__private__.setFileId=function(b){return q=b!==void 0&&/^[a-fA-F0-9]{32}$/.test(b)?b.toUpperCase():q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Qr=new ou(f.userPermissions,f.userPassword,f.ownerPassword,q)),q};g.setFileId=function(b){return Q(b),this},g.getFileId=function(){return z()};var J=g.__private__.convertDateToPDFDate=function(b){var H=b.getTimezoneOffset(),ce=H<0?"+":"-",xe=Math.floor(Math.abs(H/60)),Te=Math.abs(H%60),Qe=[ce,Z(xe),"'",Z(Te),"'"].join("");return["D:",b.getFullYear(),Z(b.getMonth()+1),Z(b.getDate()),Z(b.getHours()),Z(b.getMinutes()),Z(b.getSeconds()),Qe].join("")},ae=g.__private__.convertPDFDateToDate=function(b){var H=parseInt(b.substr(2,4),10),ce=parseInt(b.substr(6,2),10)-1,xe=parseInt(b.substr(8,2),10),Te=parseInt(b.substr(10,2),10),Qe=parseInt(b.substr(12,2),10),at=parseInt(b.substr(14,2),10);return new Date(H,ce,xe,Te,Qe,at,0)},be=g.__private__.setCreationDate=function(b){var H;if(b===void 0&&(b=new Date),b instanceof Date)H=J(b);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(b))throw new Error("Invalid argument passed to jsPDF.setCreationDate");H=b}return re=H},R=g.__private__.getCreationDate=function(b){var H=re;return b==="jsDate"&&(H=ae(re)),H};g.setCreationDate=function(b){return be(b),this},g.getCreationDate=function(b){return R(b)};var K,Z=g.__private__.padd2=function(b){return("0"+parseInt(b)).slice(-2)},ee=g.__private__.padd2Hex=function(b){return("00"+(b=b.toString())).substr(b.length)},fe=0,we=[],ve=[],se=0,$e=[],Oe=[],Re=!1,Ze=ve,dt=function(){fe=0,se=0,ve=[],we=[],$e=[],xs=Er(),on=Er()};g.__private__.setCustomOutputDestination=function(b){Re=!0,Ze=b};var Ee=function(b){Re||(Ze=b)};g.__private__.resetCustomOutputDestination=function(){Re=!1,Ze=ve};var le=g.__private__.out=function(b){return b=b.toString(),se+=b.length+1,Ze.push(b),Ze},xt=g.__private__.write=function(b){return le(arguments.length===1?b.toString():Array.prototype.join.call(arguments," "))},Je=g.__private__.getArrayBuffer=function(b){for(var H=b.length,ce=new ArrayBuffer(H),xe=new Uint8Array(ce);H--;)xe[H]=b.charCodeAt(H);return ce},We=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return We};var ie=e.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(b){return ie=F===S.ADVANCED?b/st:b,this};var de,me=g.__private__.getFontSize=g.getFontSize=function(){return F===S.COMPAT?ie:ie*st},Ve=e.R2L||!1;g.__private__.setR2L=g.setR2L=function(b){return Ve=b,this},g.__private__.getR2L=g.getR2L=function(){return Ve};var Me,Ue=g.__private__.setZoomMode=function(b){var H=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(b))de=b;else if(isNaN(b)){if(H.indexOf(b)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+b+'" is not recognized.');de=b}else de=parseInt(b,10)};g.__private__.getZoomMode=function(){return de};var Ye,pt=g.__private__.setPageMode=function(b){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(b)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+b+'" is not recognized.');Me=b};g.__private__.getPageMode=function(){return Me};var yt=g.__private__.setLayoutMode=function(b){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(b)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+b+'" is not recognized.');Ye=b};g.__private__.getLayoutMode=function(){return Ye},g.__private__.setDisplayMode=g.setDisplayMode=function(b,H,ce){return Ue(b),yt(H),pt(ce),this};var wt={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(b){if(Object.keys(wt).indexOf(b)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return wt[b]},g.__private__.getDocumentProperties=function(){return wt},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(b){for(var H in wt)wt.hasOwnProperty(H)&&b[H]&&(wt[H]=b[H]);return this},g.__private__.setDocumentProperty=function(b,H){if(Object.keys(wt).indexOf(b)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return wt[b]=H};var kt,st,Dt,Pt,ar,Wt={},gt={},an=[],Kt={},si={},ot={},Pn={},Kr=null,ir=0,It=[],Yt=new U5(g),Ji=e.hotfixes||[],wr={},Lr={},Fn=[],Ot=function b(H,ce,xe,Te,Qe,at){if(!(this instanceof b))return new b(H,ce,xe,Te,Qe,at);isNaN(H)&&(H=1),isNaN(ce)&&(ce=0),isNaN(xe)&&(xe=0),isNaN(Te)&&(Te=1),isNaN(Qe)&&(Qe=0),isNaN(at)&&(at=0),this._matrix=[H,ce,xe,Te,Qe,at]};Object.defineProperty(Ot.prototype,"sx",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(Ot.prototype,"shy",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(Ot.prototype,"shx",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(Ot.prototype,"sy",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(Ot.prototype,"tx",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(Ot.prototype,"ty",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(Ot.prototype,"a",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(Ot.prototype,"b",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(Ot.prototype,"c",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(Ot.prototype,"d",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(Ot.prototype,"e",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(Ot.prototype,"f",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(Ot.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ot.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ot.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ot.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ot.prototype.join=function(b){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map($).join(b)},Ot.prototype.multiply=function(b){var H=b.sx*this.sx+b.shy*this.shx,ce=b.sx*this.shy+b.shy*this.sy,xe=b.shx*this.sx+b.sy*this.shx,Te=b.shx*this.shy+b.sy*this.sy,Qe=b.tx*this.sx+b.ty*this.shx+this.tx,at=b.tx*this.shy+b.ty*this.sy+this.ty;return new Ot(H,ce,xe,Te,Qe,at)},Ot.prototype.decompose=function(){var b=this.sx,H=this.shy,ce=this.shx,xe=this.sy,Te=this.tx,Qe=this.ty,at=Math.sqrt(b*b+H*H),St=(b/=at)*ce+(H/=at)*xe;ce-=b*St,xe-=H*St;var Ft=Math.sqrt(ce*ce+xe*xe);return St/=Ft,b*(xe/=Ft)<H*(ce/=Ft)&&(b=-b,H=-H,St=-St,at=-at),{scale:new Ot(at,0,0,Ft,0,0),translate:new Ot(1,0,0,1,Te,Qe),rotate:new Ot(b,H,-H,b,0,0),skew:new Ot(1,0,St,1,0,0)}},Ot.prototype.toString=function(b){return this.join(" ")},Ot.prototype.inversed=function(){var b=this.sx,H=this.shy,ce=this.shx,xe=this.sy,Te=this.tx,Qe=this.ty,at=1/(b*xe-H*ce),St=xe*at,Ft=-H*at,Ht=-ce*at,Bt=b*at;return new Ot(St,Ft,Ht,Bt,-St*Te-Ht*Qe,-Ft*Te-Bt*Qe)},Ot.prototype.applyToPoint=function(b){var H=b.x*this.sx+b.y*this.shx+this.tx,ce=b.x*this.shy+b.y*this.sy+this.ty;return new Xs(H,ce)},Ot.prototype.applyToRectangle=function(b){var H=this.applyToPoint(b),ce=this.applyToPoint(new Xs(b.x+b.w,b.y+b.h));return new Sa(H.x,H.y,ce.x-H.x,ce.y-H.y)},Ot.prototype.clone=function(){var b=this.sx,H=this.shy,ce=this.shx,xe=this.sy,Te=this.tx,Qe=this.ty;return new Ot(b,H,ce,xe,Te,Qe)},g.Matrix=Ot;var Dn=g.matrixMult=function(b,H){return H.multiply(b)},sr=new Ot(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=sr;var or=function(b,H){if(!si[b]){var ce=(H instanceof yl?"Sh":"P")+(Object.keys(Kt).length+1).toString(10);H.id=ce,si[b]=ce,Kt[ce]=H,Yt.publish("addPattern",H)}};g.ShadingPattern=yl,g.TilingPattern=ju,g.addShadingPattern=function(b,H){return N("addShadingPattern()"),or(b,H),this},g.beginTilingPattern=function(b){N("beginTilingPattern()"),Jr(b.boundingBox[0],b.boundingBox[1],b.boundingBox[2]-b.boundingBox[0],b.boundingBox[3]-b.boundingBox[1],b.matrix)},g.endTilingPattern=function(b,H){N("endTilingPattern()"),H.stream=Oe[K].join(`
`),or(b,H),Yt.publish("endTilingPattern",H),Fn.pop().restore()};var Gr=g.__private__.newObject=function(){var b=Er();return Sn(b,!0),b},Er=g.__private__.newObjectDeferred=function(){return fe++,we[fe]=function(){return se},fe},Sn=function(b,H){return H=typeof H=="boolean"&&H,we[b]=se,H&&le(b+" 0 obj"),b},ys=g.__private__.newAdditionalObject=function(){var b={objId:Er(),content:""};return $e.push(b),b},xs=Er(),on=Er(),jn=g.__private__.decodeColorString=function(b){var H=b.split(" ");if(H.length!==2||H[1]!=="g"&&H[1]!=="G")H.length===5&&(H[4]==="k"||H[4]==="K")&&(H=[(1-H[0])*(1-H[3]),(1-H[1])*(1-H[3]),(1-H[2])*(1-H[3]),"r"]);else{var ce=parseFloat(H[0]);H=[ce,ce,ce,"r"]}for(var xe="#",Te=0;Te<3;Te++)xe+=("0"+Math.floor(255*parseFloat(H[Te])).toString(16)).slice(-2);return xe},ln=g.__private__.encodeColorString=function(b){var H;typeof b=="string"&&(b={ch1:b});var ce=b.ch1,xe=b.ch2,Te=b.ch3,Qe=b.ch4,at=b.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ce=="string"&&ce.charAt(0)!=="#"){var St=new Jb(ce);if(St.ok)ce=St.toHex();else if(!/^\d*\.?\d*$/.test(ce))throw new Error('Invalid color "'+ce+'" passed to jsPDF.encodeColorString.')}if(typeof ce=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ce)&&(ce="#"+ce[1]+ce[1]+ce[2]+ce[2]+ce[3]+ce[3]),typeof ce=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ce)){var Ft=parseInt(ce.substr(1),16);ce=Ft>>16&255,xe=Ft>>8&255,Te=255&Ft}if(xe===void 0||Qe===void 0&&ce===xe&&xe===Te)if(typeof ce=="string")H=ce+" "+at[0];else switch(b.precision){case 2:H=M(ce/255)+" "+at[0];break;case 3:default:H=P(ce/255)+" "+at[0]}else if(Qe===void 0||gr(Qe)==="object"){if(Qe&&!isNaN(Qe.a)&&Qe.a===0)return H=["1.","1.","1.",at[1]].join(" ");if(typeof ce=="string")H=[ce,xe,Te,at[1]].join(" ");else switch(b.precision){case 2:H=[M(ce/255),M(xe/255),M(Te/255),at[1]].join(" ");break;default:case 3:H=[P(ce/255),P(xe/255),P(Te/255),at[1]].join(" ")}}else if(typeof ce=="string")H=[ce,xe,Te,Qe,at[2]].join(" ");else switch(b.precision){case 2:H=[M(ce),M(xe),M(Te),M(Qe),at[2]].join(" ");break;case 3:default:H=[P(ce),P(xe),P(Te),P(Qe),at[2]].join(" ")}return H},ai=g.__private__.getFilters=function(){return a},pi=g.__private__.putStream=function(b){var H=(b=b||{}).data||"",ce=b.filters||ai(),xe=b.alreadyAppliedFilters||[],Te=b.addLength1||!1,Qe=H.length,at=b.objectId,St=function(xn){return xn};if(f!==null&&at===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(St=Qr.encryptor(at,0));var Ft={};ce===!0&&(ce=["FlateEncode"]);var Ht=b.additionalKeyValues||[],Bt=(Ft=zt.API.processDataByFilters!==void 0?zt.API.processDataByFilters(H,ce):{data:H,reverseChain:[]}).reverseChain+(Array.isArray(xe)?xe.join(" "):xe.toString());if(Ft.data.length!==0&&(Ht.push({key:"Length",value:Ft.data.length}),Te===!0&&Ht.push({key:"Length1",value:Qe})),Bt.length!=0)if(Bt.split("/").length-1==1)Ht.push({key:"Filter",value:Bt});else{Ht.push({key:"Filter",value:"["+Bt+"]"});for(var rr=0;rr<Ht.length;rr+=1)if(Ht[rr].key==="DecodeParms"){for(var Nr=[],_r=0;_r<Ft.reverseChain.split("/").length-1;_r+=1)Nr.push("null");Nr.push(Ht[rr].value),Ht[rr].value="["+Nr.join(" ")+"]"}}le("<<");for(var Ur=0;Ur<Ht.length;Ur++)le("/"+Ht[Ur].key+" "+Ht[Ur].value);le(">>"),Ft.data.length!==0&&(le("stream"),le(St(Ft.data)),le("endstream"))},yn=g.__private__.putPage=function(b){var H=b.number,ce=b.data,xe=b.objId,Te=b.contentsObjId;Sn(xe,!0),le("<</Type /Page"),le("/Parent "+b.rootDictionaryObjId+" 0 R"),le("/Resources "+b.resourceDictionaryObjId+" 0 R"),le("/MediaBox ["+parseFloat($(b.mediaBox.bottomLeftX))+" "+parseFloat($(b.mediaBox.bottomLeftY))+" "+$(b.mediaBox.topRightX)+" "+$(b.mediaBox.topRightY)+"]"),b.cropBox!==null&&le("/CropBox ["+$(b.cropBox.bottomLeftX)+" "+$(b.cropBox.bottomLeftY)+" "+$(b.cropBox.topRightX)+" "+$(b.cropBox.topRightY)+"]"),b.bleedBox!==null&&le("/BleedBox ["+$(b.bleedBox.bottomLeftX)+" "+$(b.bleedBox.bottomLeftY)+" "+$(b.bleedBox.topRightX)+" "+$(b.bleedBox.topRightY)+"]"),b.trimBox!==null&&le("/TrimBox ["+$(b.trimBox.bottomLeftX)+" "+$(b.trimBox.bottomLeftY)+" "+$(b.trimBox.topRightX)+" "+$(b.trimBox.topRightY)+"]"),b.artBox!==null&&le("/ArtBox ["+$(b.artBox.bottomLeftX)+" "+$(b.artBox.bottomLeftY)+" "+$(b.artBox.topRightX)+" "+$(b.artBox.topRightY)+"]"),typeof b.userUnit=="number"&&b.userUnit!==1&&le("/UserUnit "+b.userUnit),Yt.publish("putPage",{objId:xe,pageContext:It[H],pageNumber:H,page:ce}),le("/Contents "+Te+" 0 R"),le(">>"),le("endobj");var Qe=ce.join(`
`);return F===S.ADVANCED&&(Qe+=`
Q`),Sn(Te,!0),pi({data:Qe,filters:ai(),objectId:Te}),le("endobj"),xe},Gs=g.__private__.putPages=function(){var b,H,ce=[];for(b=1;b<=ir;b++)It[b].objId=Er(),It[b].contentsObjId=Er();for(b=1;b<=ir;b++)ce.push(yn({number:b,data:Oe[b],objId:It[b].objId,contentsObjId:It[b].contentsObjId,mediaBox:It[b].mediaBox,cropBox:It[b].cropBox,bleedBox:It[b].bleedBox,trimBox:It[b].trimBox,artBox:It[b].artBox,userUnit:It[b].userUnit,rootDictionaryObjId:xs,resourceDictionaryObjId:on}));Sn(xs,!0),le("<</Type /Pages");var xe="/Kids [";for(H=0;H<ir;H++)xe+=ce[H]+" 0 R ";le(xe+"]"),le("/Count "+ir),le(">>"),le("endobj"),Yt.publish("postPutPages")},mi=function(b){Yt.publish("putFont",{font:b,out:le,newObject:Gr,putStream:pi}),b.isAlreadyPutted!==!0&&(b.objectNumber=Gr(),le("<<"),le("/Type /Font"),le("/BaseFont /"+lu(b.postScriptName)),le("/Subtype /Type1"),typeof b.encoding=="string"&&le("/Encoding /"+b.encoding),le("/FirstChar 32"),le("/LastChar 255"),le(">>"),le("endobj"))},pa=function(){for(var b in Wt)Wt.hasOwnProperty(b)&&(h===!1||h===!0&&m.hasOwnProperty(b))&&mi(Wt[b])},Qs=function(b){b.objectNumber=Gr();var H=[];H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Form"}),H.push({key:"BBox",value:"["+[$(b.x),$(b.y),$(b.x+b.width),$(b.y+b.height)].join(" ")+"]"}),H.push({key:"Matrix",value:"["+b.matrix.toString()+"]"});var ce=b.pages[1].join(`
`);pi({data:ce,additionalKeyValues:H,objectId:b.objectNumber}),le("endobj")},yr=function(){for(var b in wr)wr.hasOwnProperty(b)&&Qs(wr[b])},Yi=function(b,H){var ce,xe=[],Te=1/(H-1);for(ce=0;ce<1;ce+=Te)xe.push(ce);if(xe.push(1),b[0].offset!=0){var Qe={offset:0,color:b[0].color};b.unshift(Qe)}if(b[b.length-1].offset!=1){var at={offset:1,color:b[b.length-1].color};b.push(at)}for(var St="",Ft=0,Ht=0;Ht<xe.length;Ht++){for(ce=xe[Ht];ce>b[Ft+1].offset;)Ft++;var Bt=b[Ft].offset,rr=(ce-Bt)/(b[Ft+1].offset-Bt),Nr=b[Ft].color,_r=b[Ft+1].color;St+=ee(Math.round((1-rr)*Nr[0]+rr*_r[0]).toString(16))+ee(Math.round((1-rr)*Nr[1]+rr*_r[1]).toString(16))+ee(Math.round((1-rr)*Nr[2]+rr*_r[2]).toString(16))}return St.trim()},Ri=function(b,H){H||(H=21);var ce=Gr(),xe=Yi(b.colors,H),Te=[];Te.push({key:"FunctionType",value:"0"}),Te.push({key:"Domain",value:"[0.0 1.0]"}),Te.push({key:"Size",value:"["+H+"]"}),Te.push({key:"BitsPerSample",value:"8"}),Te.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Te.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pi({data:xe,additionalKeyValues:Te,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ce}),le("endobj"),b.objectNumber=Gr(),le("<< /ShadingType "+b.type),le("/ColorSpace /DeviceRGB");var Qe="/Coords ["+$(parseFloat(b.coords[0]))+" "+$(parseFloat(b.coords[1]))+" ";b.type===2?Qe+=$(parseFloat(b.coords[2]))+" "+$(parseFloat(b.coords[3])):Qe+=$(parseFloat(b.coords[2]))+" "+$(parseFloat(b.coords[3]))+" "+$(parseFloat(b.coords[4]))+" "+$(parseFloat(b.coords[5])),le(Qe+="]"),b.matrix&&le("/Matrix ["+b.matrix.toString()+"]"),le("/Function "+ce+" 0 R"),le("/Extend [true true]"),le(">>"),le("endobj")},Vl=function(b,H){var ce=Er(),xe=Gr();H.push({resourcesOid:ce,objectOid:xe}),b.objectNumber=xe;var Te=[];Te.push({key:"Type",value:"/Pattern"}),Te.push({key:"PatternType",value:"1"}),Te.push({key:"PaintType",value:"1"}),Te.push({key:"TilingType",value:"1"}),Te.push({key:"BBox",value:"["+b.boundingBox.map($).join(" ")+"]"}),Te.push({key:"XStep",value:$(b.xStep)}),Te.push({key:"YStep",value:$(b.yStep)}),Te.push({key:"Resources",value:ce+" 0 R"}),b.matrix&&Te.push({key:"Matrix",value:"["+b.matrix.toString()+"]"}),pi({data:b.stream,additionalKeyValues:Te,objectId:b.objectNumber}),le("endobj")},Ti=function(b){var H;for(H in Kt)Kt.hasOwnProperty(H)&&(Kt[H]instanceof yl?Ri(Kt[H]):Kt[H]instanceof ju&&Vl(Kt[H],b))},ma=function(b){for(var H in b.objectNumber=Gr(),le("<<"),b)switch(H){case"opacity":le("/ca "+M(b[H]));break;case"stroke-opacity":le("/CA "+M(b[H]))}le(">>"),le("endobj")},el=function(){var b;for(b in ot)ot.hasOwnProperty(b)&&ma(ot[b])},ga=function(){for(var b in le("/XObject <<"),wr)wr.hasOwnProperty(b)&&wr[b].objectNumber>=0&&le("/"+b+" "+wr[b].objectNumber+" 0 R");Yt.publish("putXobjectDict"),le(">>")},bs=function(){Qr.oid=Gr(),le("<<"),le("/Filter /Standard"),le("/V "+Qr.v),le("/R "+Qr.r),le("/U <"+Qr.toHexString(Qr.U)+">"),le("/O <"+Qr.toHexString(Qr.O)+">"),le("/P "+Qr.P),le(">>"),le("endobj")},tl=function(){for(var b in le("/Font <<"),Wt)Wt.hasOwnProperty(b)&&(h===!1||h===!0&&m.hasOwnProperty(b))&&le("/"+b+" "+Wt[b].objectNumber+" 0 R");le(">>")},Ga=function(){if(Object.keys(Kt).length>0){for(var b in le("/Shading <<"),Kt)Kt.hasOwnProperty(b)&&Kt[b]instanceof yl&&Kt[b].objectNumber>=0&&le("/"+b+" "+Kt[b].objectNumber+" 0 R");Yt.publish("putShadingPatternDict"),le(">>")}},va=function(b){if(Object.keys(Kt).length>0){for(var H in le("/Pattern <<"),Kt)Kt.hasOwnProperty(H)&&Kt[H]instanceof g.TilingPattern&&Kt[H].objectNumber>=0&&Kt[H].objectNumber<b&&le("/"+H+" "+Kt[H].objectNumber+" 0 R");Yt.publish("putTilingPatternDict"),le(">>")}},Xt=function(){if(Object.keys(ot).length>0){var b;for(b in le("/ExtGState <<"),ot)ot.hasOwnProperty(b)&&ot[b].objectNumber>=0&&le("/"+b+" "+ot[b].objectNumber+" 0 R");Yt.publish("putGStateDict"),le(">>")}},Or=function(b){Sn(b.resourcesOid,!0),le("<<"),le("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),tl(),Ga(),va(b.objectOid),Xt(),ga(),le(">>"),le("endobj")},rl=function(){var b=[];pa(),el(),yr(),Ti(b),Yt.publish("putResources"),b.forEach(Or),Or({resourcesOid:on,objectOid:Number.MAX_SAFE_INTEGER}),Yt.publish("postPutResources")},ya=function(){Yt.publish("putAdditionalObjects");for(var b=0;b<$e.length;b++){var H=$e[b];Sn(H.objId,!0),le(H.content),le("endobj")}Yt.publish("postPutAdditionalObjects")},Js=function(b){gt[b.fontName]=gt[b.fontName]||{},gt[b.fontName][b.fontStyle]=b.id},Qa=function(b,H,ce,xe,Te){var Qe={id:"F"+(Object.keys(Wt).length+1).toString(10),postScriptName:b,fontName:H,fontStyle:ce,encoding:xe,isStandardFont:Te||!1,metadata:{}};return Yt.publish("addFont",{font:Qe,instance:this}),Wt[Qe.id]=Qe,Js(Qe),Qe.id},$l=function(b){for(var H=0,ce=We.length;H<ce;H++){var xe=Qa.call(this,b[H][0],b[H][1],b[H][2],We[H][3],!0);h===!1&&(m[xe]=!0);var Te=b[H][0].split("-");Js({id:xe,fontName:Te[0],fontStyle:Te[1]||""})}Yt.publish("addFonts",{fonts:Wt,dictionary:gt})},gi=function(b){return b.foo=function(){try{return b.apply(this,arguments)}catch(xe){var H=xe.stack||"";~H.indexOf(" at ")&&(H=H.split(" at ")[1]);var ce="Error in function "+H.split(`
`)[0].split("<")[0]+": "+xe.message;if(!Ut.console)throw new Error(ce);Ut.console.error(ce,xe),Ut.alert&&alert(ce)}},b.foo.bar=b,b.foo},lr=function(b,H){var ce,xe,Te,Qe,at,St,Ft,Ht,Bt;if(Te=(H=H||{}).sourceEncoding||"Unicode",at=H.outputEncoding,(H.autoencode||at)&&Wt[kt].metadata&&Wt[kt].metadata[Te]&&Wt[kt].metadata[Te].encoding&&(Qe=Wt[kt].metadata[Te].encoding,!at&&Wt[kt].encoding&&(at=Wt[kt].encoding),!at&&Qe.codePages&&(at=Qe.codePages[0]),typeof at=="string"&&(at=Qe[at]),at)){for(Ft=!1,St=[],ce=0,xe=b.length;ce<xe;ce++)(Ht=at[b.charCodeAt(ce)])?St.push(String.fromCharCode(Ht)):St.push(b[ce]),St[ce].charCodeAt(0)>>8&&(Ft=!0);b=St.join("")}for(ce=b.length;Ft===void 0&&ce!==0;)b.charCodeAt(ce-1)>>8&&(Ft=!0),ce--;if(!Ft)return b;for(St=H.noBOM?[]:[254,255],ce=0,xe=b.length;ce<xe;ce++){if((Bt=(Ht=b.charCodeAt(ce))>>8)>>8)throw new Error("Character at position "+ce+" of string '"+b+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");St.push(Bt),St.push(Ht-(Bt<<8))}return String.fromCharCode.apply(void 0,St)},un=g.__private__.pdfEscape=g.pdfEscape=function(b,H){return lr(b,H).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ws=g.__private__.beginPage=function(b){Oe[++ir]=[],It[ir]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(b[0]),topRightY:Number(b[1])}},Ja(ir),Ee(Oe[K])},Ns=function(b,H){var ce,xe,Te;switch(r=H||r,typeof b=="string"&&(ce=x(b.toLowerCase()),Array.isArray(ce)&&(xe=ce[0],Te=ce[1])),Array.isArray(b)&&(xe=b[0]*st,Te=b[1]*st),isNaN(xe)&&(xe=i[0],Te=i[1]),(xe>14400||Te>14400)&&(jr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),xe=Math.min(14400,xe),Te=Math.min(14400,Te)),i=[xe,Te],r.substr(0,1)){case"l":Te>xe&&(i=[Te,xe]);break;case"p":xe>Te&&(i=[Te,xe])}ws(i),Gl(_s),le(li),ll!==0&&le(ll+" J"),ns!==0&&le(ns+" j"),Yt.publish("addPage",{pageNumber:ir})},nl=function(b){b>0&&b<=ir&&(Oe.splice(b,1),It.splice(b,1),ir--,K>ir&&(K=ir),this.setPage(K))},Ja=function(b){b>0&&b<=ir&&(K=b)},Ya=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Oe.length-1},il=function(b,H,ce){var xe,Te=void 0;return ce=ce||{},b=b!==void 0?b:Wt[kt].fontName,H=H!==void 0?H:Wt[kt].fontStyle,xe=b.toLowerCase(),gt[xe]!==void 0&&gt[xe][H]!==void 0?Te=gt[xe][H]:gt[b]!==void 0&&gt[b][H]!==void 0?Te=gt[b][H]:ce.disableWarning===!1&&jr.warn("Unable to look up font label for font '"+b+"', '"+H+"'. Refer to getFontList() for available fonts."),Te||ce.noFallback||(Te=gt.times[H])==null&&(Te=gt.times.normal),Te},Xa=g.__private__.putInfo=function(){var b=Gr(),H=function(xe){return xe};for(var ce in f!==null&&(H=Qr.encryptor(b,0)),le("<<"),le("/Producer ("+un(H("jsPDF "+zt.version))+")"),wt)wt.hasOwnProperty(ce)&&wt[ce]&&le("/"+ce.substr(0,1).toUpperCase()+ce.substr(1)+" ("+un(H(wt[ce]))+")");le("/CreationDate ("+un(H(re))+")"),le(">>"),le("endobj")},Za=g.__private__.putCatalog=function(b){var H=(b=b||{}).rootDictionaryObjId||xs;switch(Gr(),le("<<"),le("/Type /Catalog"),le("/Pages "+H+" 0 R"),de||(de="fullwidth"),de){case"fullwidth":le("/OpenAction [3 0 R /FitH null]");break;case"fullheight":le("/OpenAction [3 0 R /FitV null]");break;case"fullpage":le("/OpenAction [3 0 R /Fit]");break;case"original":le("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ce=""+de;ce.substr(ce.length-1)==="%"&&(de=parseInt(de)/100),typeof de=="number"&&le("/OpenAction [3 0 R /XYZ null null "+M(de)+"]")}switch(Ye||(Ye="continuous"),Ye){case"continuous":le("/PageLayout /OneColumn");break;case"single":le("/PageLayout /SinglePage");break;case"two":case"twoleft":le("/PageLayout /TwoColumnLeft");break;case"tworight":le("/PageLayout /TwoColumnRight")}Me&&le("/PageMode /"+Me),Yt.publish("putCatalog"),le(">>"),le("endobj")},ic=g.__private__.putTrailer=function(){le("trailer"),le("<<"),le("/Size "+(fe+1)),le("/Root "+fe+" 0 R"),le("/Info "+(fe-1)+" 0 R"),f!==null&&le("/Encrypt "+Qr.oid+" 0 R"),le("/ID [ <"+q+"> <"+q+"> ]"),le(">>")},tr=g.__private__.putHeader=function(){le("%PDF-"+w),le("%")},Hl=g.__private__.putXRef=function(){var b="0000000000";le("xref"),le("0 "+(fe+1)),le("0000000000 65535 f ");for(var H=1;H<=fe;H++)typeof we[H]=="function"?le((b+we[H]()).slice(-10)+" 00000 n "):we[H]!==void 0?le((b+we[H]).slice(-10)+" 00000 n "):le("0000000000 00000 n ")},Ss=g.__private__.buildDocument=function(){dt(),Ee(ve),Yt.publish("buildDocument"),tr(),Gs(),ya(),rl(),f!==null&&bs(),Xa(),Za();var b=se;return Hl(),ic(),le("startxref"),le(""+b),le("%%EOF"),Ee(Oe[K]),ve.join(`
`)},eo=g.__private__.getBlob=function(b){return new Blob([Je(b)],{type:"application/pdf"})},cn=g.output=g.__private__.output=gi(function(b,H){switch(typeof(H=H||{})=="string"?H={filename:H}:H.filename=H.filename||"generated.pdf",b){case void 0:return Ss();case"save":g.save(H.filename);break;case"arraybuffer":return Je(Ss());case"blob":return eo(Ss());case"bloburi":case"bloburl":if(Ut.URL!==void 0&&typeof Ut.URL.createObjectURL=="function")return Ut.URL&&Ut.URL.createObjectURL(eo(Ss()))||void 0;jr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ce="",xe=Ss();try{ce=O1(xe)}catch{ce=O1(unescape(encodeURIComponent(xe)))}return"data:application/pdf;filename="+H.filename+";base64,"+ce;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ut)==="[object Window]"){var Te="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Qe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';H.pdfObjectUrl&&(Te=H.pdfObjectUrl,Qe="");var at='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Te+'"'+Qe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(H)+");<\/script></body></html>",St=Ut.open();return St!==null&&St.document.write(at),St}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ut)==="[object Window]"){var Ft='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(H.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+H.filename+'" width="500px" height="400px" /></body></html>',Ht=Ut.open();if(Ht!==null){Ht.document.write(Ft);var Bt=this;Ht.document.documentElement.querySelector("#pdfViewer").onload=function(){Ht.document.title=H.filename,Ht.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Bt.output("bloburl"))}}return Ht}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ut)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var rr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",H)+'"></iframe></body></html>',Nr=Ut.open();if(Nr!==null&&(Nr.document.write(rr),Nr.document.title=H.filename),Nr||typeof safari>"u")return Nr;break;case"datauri":case"dataurl":return Ut.document.location.href=this.output("datauristring",H);default:return null}}),js=function(b){return Array.isArray(Ji)===!0&&Ji.indexOf(b)>-1};switch(n){case"pt":st=1;break;case"mm":st=72/25.4;break;case"cm":st=72/2.54;break;case"in":st=72;break;case"px":st=js("px_scaling")==1?.75:96/72;break;case"pc":case"em":st=12;break;case"ex":st=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);st=n}var Qr=null;be(),Q();var Xi=function(b){return f!==null?Qr.encryptor(b,0):function(H){return H}},sl=g.__private__.getPageInfo=g.getPageInfo=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:It[b].objId,pageNumber:b,pageContext:It[b]}},Vt=g.__private__.getPageInfoByObjId=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var H in It)if(It[H].objId===b)break;return sl(H)},Br=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:It[K].objId,pageNumber:K,pageContext:It[K]}};g.addPage=function(){return Ns.apply(this,arguments),this},g.setPage=function(){return Ja.apply(this,arguments),Ee.call(this,Oe[K]),this},g.insertPage=function(b){return this.addPage(),this.movePage(K,b),this},g.movePage=function(b,H){var ce,xe;if(b>H){ce=Oe[b],xe=It[b];for(var Te=b;Te>H;Te--)Oe[Te]=Oe[Te-1],It[Te]=It[Te-1];Oe[H]=ce,It[H]=xe,this.setPage(H)}else if(b<H){ce=Oe[b],xe=It[b];for(var Qe=b;Qe<H;Qe++)Oe[Qe]=Oe[Qe+1],It[Qe]=It[Qe+1];Oe[H]=ce,It[H]=xe,this.setPage(H)}return this},g.deletePage=function(){return nl.apply(this,arguments),this},g.__private__.text=g.text=function(b,H,ce,xe,Te){var Qe,at,St,Ft,Ht,Bt,rr,Nr,_r,Ur=(xe=xe||{}).scope||this;if(typeof b=="number"&&typeof H=="number"&&(typeof ce=="string"||Array.isArray(ce))){var xn=ce;ce=H,H=b,b=xn}if(arguments[3]instanceof Ot?(N("The transform parameter of text() with a Matrix value"),_r=Te):(St=arguments[4],Ft=arguments[5],gr(rr=arguments[3])==="object"&&rr!==null||(typeof St=="string"&&(Ft=St,St=null),typeof rr=="string"&&(Ft=rr,rr=null),typeof rr=="number"&&(St=rr,rr=null),xe={flags:rr,angle:St,align:Ft})),isNaN(H)||isNaN(ce)||b==null)throw new Error("Invalid arguments passed to jsPDF.text");if(b.length===0)return Ur;var fn="",xi=!1,zn=typeof xe.lineHeightFactor=="number"?xe.lineHeightFactor:ba,ss=Ur.internal.scaleFactor;function ul(nt){return nt=nt.split("	").join(Array(xe.TabLen||9).join(" ")),un(nt,rr)}function Aa(nt){for(var ft,Lt=nt.concat(),Ct=[],$t=Lt.length;$t--;)typeof(ft=Lt.shift())=="string"?Ct.push(ft):Array.isArray(nt)&&(ft.length===1||ft[1]===void 0&&ft[2]===void 0)?Ct.push(ft[0]):Ct.push([ft[0],ft[1],ft[2]]);return Ct}function lo(nt,ft){var Lt;if(typeof nt=="string")Lt=ft(nt)[0];else if(Array.isArray(nt)){for(var Ct,$t,bn=nt.concat(),Mt=[],Yr=bn.length;Yr--;)typeof(Ct=bn.shift())=="string"?Mt.push(ft(Ct)[0]):Array.isArray(Ct)&&typeof Ct[0]=="string"&&($t=ft(Ct[0],Ct[1],Ct[2]),Mt.push([$t[0],$t[1],$t[2]]));Lt=Mt}return Lt}var ka=!1,cl=!0;if(typeof b=="string")ka=!0;else if(Array.isArray(b)){var fl=b.concat();at=[];for(var uo,qr=fl.length;qr--;)(typeof(uo=fl.shift())!="string"||Array.isArray(uo)&&typeof uo[0]!="string")&&(cl=!1);ka=cl}if(ka===!1)throw new Error('Type of text must be string or Array. "'+b+'" is not recognized.');typeof b=="string"&&(b=b.match(/[\r?\n]/)?b.split(/\r\n|\r|\n/g):[b]);var Bn=ie/Ur.internal.scaleFactor,xr=Bn*(zn-1);switch(xe.baseline){case"bottom":ce-=xr;break;case"top":ce+=Bn-xr;break;case"hanging":ce+=Bn-2*xr;break;case"middle":ce+=Bn/2-xr}if((Bt=xe.maxWidth||0)>0&&(typeof b=="string"?b=Ur.splitTextToSize(b,Bt):Object.prototype.toString.call(b)==="[object Array]"&&(b=b.reduce(function(nt,ft){return nt.concat(Ur.splitTextToSize(ft,Bt))},[]))),Qe={text:b,x:H,y:ce,options:xe,mutex:{pdfEscape:un,activeFontKey:kt,fonts:Wt,activeFontSize:ie}},Yt.publish("preProcessText",Qe),b=Qe.text,St=(xe=Qe.options).angle,!(_r instanceof Ot)&&St&&typeof St=="number"){St*=Math.PI/180,xe.rotationDirection===0&&(St=-St),F===S.ADVANCED&&(St=-St);var Es=Math.cos(St),_n=Math.sin(St);_r=new Ot(Es,_n,-_n,Es,0,0)}else St&&St instanceof Ot&&(_r=St);F!==S.ADVANCED||_r||(_r=sr),(Ht=xe.charSpace||ks)!==void 0&&(fn+=$(E(Ht))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Nr=xe.horizontalScale)!==void 0&&(fn+=$(100*Nr)+` Tz
`),xe.lang;var Un=-1,dl=xe.renderingMode!==void 0?xe.renderingMode:xe.stroke,co=Ur.internal.getCurrentPageInfo().pageContext;switch(dl){case 0:case!1:case"fill":Un=0;break;case 1:case!0:case"stroke":Un=1;break;case 2:case"fillThenStroke":Un=2;break;case 3:case"invisible":Un=3;break;case 4:case"fillAndAddForClipping":Un=4;break;case 5:case"strokeAndAddPathForClipping":Un=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Un=6;break;case 7:case"addToPathForClipping":Un=7}var as=co.usedRenderingMode!==void 0?co.usedRenderingMode:-1;Un!==-1?fn+=Un+` Tr
`:as!==-1&&(fn+=`0 Tr
`),Un!==-1&&(co.usedRenderingMode=Un),Ft=xe.align||"left";var qn,Mi=ie*zn,zi=Ur.internal.pageSize.getWidth(),hl=Wt[kt];Ht=xe.charSpace||ks,Bt=xe.maxWidth||0,rr=Object.assign({autoencode:!0,noBOM:!0},xe.flags);var p=[],y=function(nt){return Ur.getStringUnitWidth(nt,{font:hl,charSpace:Ht,fontSize:ie,doKerning:!1})*ie/ss};if(Object.prototype.toString.call(b)==="[object Array]"){var A;at=Aa(b),Ft!=="left"&&(qn=at.map(y));var O,B=0;if(Ft==="right"){H-=qn[0],b=[],qr=at.length;for(var G=0;G<qr;G++)G===0?(O=es(H),A=As(ce)):(O=E(B-qn[G]),A=-Mi),b.push([at[G],O,A]),B=qn[G]}else if(Ft==="center"){H-=qn[0]/2,b=[],qr=at.length;for(var oe=0;oe<qr;oe++)oe===0?(O=es(H),A=As(ce)):(O=E((B-qn[oe])/2),A=-Mi),b.push([at[oe],O,A]),B=qn[oe]}else if(Ft==="left"){b=[],qr=at.length;for(var he=0;he<qr;he++)b.push(at[he])}else if(Ft==="justify"&&hl.encoding==="Identity-H"){b=[],qr=at.length,Bt=Bt!==0?Bt:zi;for(var ye=0,ge=0;ge<qr;ge++)if(A=ge===0?As(ce):-Mi,O=ge===0?es(H):ye,ge<qr-1){var Pe=E((Bt-qn[ge])/(at[ge].split(" ").length-1)),pe=at[ge].split(" ");b.push([pe[0]+" ",O,A]),ye=0;for(var Ce=1;Ce<pe.length;Ce++){var Ne=(y(pe[Ce-1]+" "+pe[Ce])-y(pe[Ce]))*ss+Pe;Ce==pe.length-1?b.push([pe[Ce],Ne,0]):b.push([pe[Ce]+" ",Ne,0]),ye-=Ne}}else b.push([at[ge],O,A]);b.push(["",ye,0])}else{if(Ft!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(b=[],qr=at.length,Bt=Bt!==0?Bt:zi,ge=0;ge<qr;ge++)A=ge===0?As(ce):-Mi,O=ge===0?es(H):0,ge<qr-1?p.push($(E((Bt-qn[ge])/(at[ge].split(" ").length-1)))):p.push(0),b.push([at[ge],O,A])}}var ke=typeof xe.R2L=="boolean"?xe.R2L:Ve;ke===!0&&(b=lo(b,function(nt,ft,Lt){return[nt.split("").reverse().join(""),ft,Lt]})),Qe={text:b,x:H,y:ce,options:xe,mutex:{pdfEscape:un,activeFontKey:kt,fonts:Wt,activeFontSize:ie}},Yt.publish("postProcessText",Qe),b=Qe.text,xi=Qe.mutex.isHex||!1;var Ae=Wt[kt].encoding;Ae!=="WinAnsiEncoding"&&Ae!=="StandardEncoding"||(b=lo(b,function(nt,ft,Lt){return[ul(nt),ft,Lt]})),at=Aa(b),b=[];for(var Fe,De,qe,Ke=0,Xe=1,ct=Array.isArray(at[0])?Xe:Ke,vt="",lt=function(nt,ft,Lt){var Ct="";return Lt instanceof Ot?(Lt=typeof xe.angle=="number"?Dn(Lt,new Ot(1,0,0,1,nt,ft)):Dn(new Ot(1,0,0,1,nt,ft),Lt),F===S.ADVANCED&&(Lt=Dn(new Ot(1,0,0,-1,0,0),Lt)),Ct=Lt.join(" ")+` Tm
`):Ct=$(nt)+" "+$(ft)+` Td
`,Ct},ut=0;ut<at.length;ut++){switch(vt="",ct){case Xe:qe=(xi?"<":"(")+at[ut][0]+(xi?">":")"),Fe=parseFloat(at[ut][1]),De=parseFloat(at[ut][2]);break;case Ke:qe=(xi?"<":"(")+at[ut]+(xi?">":")"),Fe=es(H),De=As(ce)}p!==void 0&&p[ut]!==void 0&&(vt=p[ut]+` Tw
`),ut===0?b.push(vt+lt(Fe,De,_r)+qe):ct===Ke?b.push(vt+qe):ct===Xe&&b.push(vt+lt(Fe,De,_r)+qe)}b=ct===Ke?b.join(` Tj
T* `):b.join(` Tj
`),b+=` Tj
`;var mt=`BT
/`;return mt+=kt+" "+ie+` Tf
`,mt+=$(ie*zn)+` TL
`,mt+=rs+`
`,mt+=fn,mt+=b,le(mt+="ET"),m[kt]=!0,Ur};var vi=g.__private__.clip=g.clip=function(b){return le(b==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return vi("evenodd")},g.__private__.discardPath=g.discardPath=function(){return le("n"),this};var Mn=g.__private__.isValidStyle=function(b){var H=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(b)!==-1&&(H=!0),H};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(b){return Mn(b)&&(d=b),this};var Ys=g.__private__.getStyle=g.getStyle=function(b){var H=d;switch(b){case"D":case"S":H="S";break;case"F":H="f";break;case"FD":case"DF":H="B";break;case"f":case"f*":case"B":case"B*":H=b}return H},to=g.close=function(){return le("h"),this};g.stroke=function(){return le("S"),this},g.fill=function(b){return oi("f",b),this},g.fillEvenOdd=function(b){return oi("f*",b),this},g.fillStroke=function(b){return oi("B",b),this},g.fillStrokeEvenOdd=function(b){return oi("B*",b),this};var oi=function(b,H){gr(H)==="object"?ol(H,b):le(b)},al=function(b){b===null||F===S.ADVANCED&&b===void 0||(b=Ys(b),le(b))};function yi(b,H,ce,xe,Te){var Qe=new ju(H||this.boundingBox,ce||this.xStep,xe||this.yStep,this.gState,Te||this.matrix);Qe.stream=this.stream;var at=b+"$$"+this.cloneIndex+++"$$";return or(at,Qe),Qe}var ol=function(b,H){var ce=si[b.key],xe=Kt[ce];if(xe instanceof yl)le("q"),le(Wl(H)),xe.gState&&g.setGState(xe.gState),le(b.matrix.toString()+" cm"),le("/"+ce+" sh"),le("Q");else if(xe instanceof ju){var Te=new Ot(1,0,0,-1,0,Ls());b.matrix&&(Te=Te.multiply(b.matrix||sr),ce=yi.call(xe,b.key,b.boundingBox,b.xStep,b.yStep,Te).id),le("q"),le("/Pattern cs"),le("/"+ce+" scn"),xe.gState&&g.setGState(xe.gState),le(H),le("Q")}},Wl=function(b){switch(b){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},xa=g.moveTo=function(b,H){return le($(E(b))+" "+$(D(H))+" m"),this},Di=g.lineTo=function(b,H){return le($(E(b))+" "+$(D(H))+" l"),this},Zi=g.curveTo=function(b,H,ce,xe,Te,Qe){return le([$(E(b)),$(D(H)),$(E(ce)),$(D(xe)),$(E(Te)),$(D(Qe)),"c"].join(" ")),this};g.__private__.line=g.line=function(b,H,ce,xe,Te){if(isNaN(b)||isNaN(H)||isNaN(ce)||isNaN(xe)||!Mn(Te))throw new Error("Invalid arguments passed to jsPDF.line");return F===S.COMPAT?this.lines([[ce-b,xe-H]],b,H,[1,1],Te||"S"):this.lines([[ce-b,xe-H]],b,H,[1,1]).stroke()},g.__private__.lines=g.lines=function(b,H,ce,xe,Te,Qe){var at,St,Ft,Ht,Bt,rr,Nr,_r,Ur,xn,fn,xi;if(typeof b=="number"&&(xi=ce,ce=H,H=b,b=xi),xe=xe||[1,1],Qe=Qe||!1,isNaN(H)||isNaN(ce)||!Array.isArray(b)||!Array.isArray(xe)||!Mn(Te)||typeof Qe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(xa(H,ce),at=xe[0],St=xe[1],Ht=b.length,xn=H,fn=ce,Ft=0;Ft<Ht;Ft++)(Bt=b[Ft]).length===2?(xn=Bt[0]*at+xn,fn=Bt[1]*St+fn,Di(xn,fn)):(rr=Bt[0]*at+xn,Nr=Bt[1]*St+fn,_r=Bt[2]*at+xn,Ur=Bt[3]*St+fn,xn=Bt[4]*at+xn,fn=Bt[5]*St+fn,Zi(rr,Nr,_r,Ur,xn,fn));return Qe&&to(),al(Te),this},g.path=function(b){for(var H=0;H<b.length;H++){var ce=b[H],xe=ce.c;switch(ce.op){case"m":xa(xe[0],xe[1]);break;case"l":Di(xe[0],xe[1]);break;case"c":Zi.apply(this,xe);break;case"h":to()}}return this},g.__private__.rect=g.rect=function(b,H,ce,xe,Te){if(isNaN(b)||isNaN(H)||isNaN(ce)||isNaN(xe)||!Mn(Te))throw new Error("Invalid arguments passed to jsPDF.rect");return F===S.COMPAT&&(xe=-xe),le([$(E(b)),$(D(H)),$(E(ce)),$(E(xe)),"re"].join(" ")),al(Te),this},g.__private__.triangle=g.triangle=function(b,H,ce,xe,Te,Qe,at){if(isNaN(b)||isNaN(H)||isNaN(ce)||isNaN(xe)||isNaN(Te)||isNaN(Qe)||!Mn(at))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ce-b,xe-H],[Te-ce,Qe-xe],[b-Te,H-Qe]],b,H,[1,1],at,!0),this},g.__private__.roundedRect=g.roundedRect=function(b,H,ce,xe,Te,Qe,at){if(isNaN(b)||isNaN(H)||isNaN(ce)||isNaN(xe)||isNaN(Te)||isNaN(Qe)||!Mn(at))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var St=4/3*(Math.SQRT2-1);return Te=Math.min(Te,.5*ce),Qe=Math.min(Qe,.5*xe),this.lines([[ce-2*Te,0],[Te*St,0,Te,Qe-Qe*St,Te,Qe],[0,xe-2*Qe],[0,Qe*St,-Te*St,Qe,-Te,Qe],[2*Te-ce,0],[-Te*St,0,-Te,-Qe*St,-Te,-Qe],[0,2*Qe-xe],[0,-Qe*St,Te*St,-Qe,Te,-Qe]],b+Te,H,[1,1],at,!0),this},g.__private__.ellipse=g.ellipse=function(b,H,ce,xe,Te){if(isNaN(b)||isNaN(H)||isNaN(ce)||isNaN(xe)||!Mn(Te))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Qe=4/3*(Math.SQRT2-1)*ce,at=4/3*(Math.SQRT2-1)*xe;return xa(b+ce,H),Zi(b+ce,H-at,b+Qe,H-xe,b,H-xe),Zi(b-Qe,H-xe,b-ce,H-at,b-ce,H),Zi(b-ce,H+at,b-Qe,H+xe,b,H+xe),Zi(b+Qe,H+xe,b+ce,H+at,b+ce,H),al(Te),this},g.__private__.circle=g.circle=function(b,H,ce,xe){if(isNaN(b)||isNaN(H)||isNaN(ce)||!Mn(xe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(b,H,ce,ce,xe)},g.setFont=function(b,H,ce){return ce&&(H=U(H,ce)),kt=il(b,H,{disableWarning:!1}),this};var Kl=g.__private__.getFont=g.getFont=function(){return Wt[il.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var b,H,ce={};for(b in gt)if(gt.hasOwnProperty(b))for(H in ce[b]=[],gt[b])gt[b].hasOwnProperty(H)&&ce[b].push(H);return ce},g.addFont=function(b,H,ce,xe,Te){var Qe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Qe.indexOf(arguments[3])!==-1?Te=arguments[3]:arguments[3]&&Qe.indexOf(arguments[3])==-1&&(ce=U(ce,xe)),Te=Te||"Identity-H",Qa.call(this,b,H,ce,Te)};var ba,_s=e.lineWidth||.200025,ro=g.__private__.getLineWidth=g.getLineWidth=function(){return _s},Gl=g.__private__.setLineWidth=g.setLineWidth=function(b){return _s=b,le($(E(b))+" w"),this};g.__private__.setLineDash=zt.API.setLineDash=zt.API.setLineDashPattern=function(b,H){if(b=b||[],H=H||0,isNaN(H)||!Array.isArray(b))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return b=b.map(function(ce){return $(E(ce))}).join(" "),H=$(E(H)),le("["+b+"] "+H+" d"),this};var wa=g.__private__.getLineHeight=g.getLineHeight=function(){return ie*ba};g.__private__.getLineHeight=g.getLineHeight=function(){return ie*ba};var Na=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(b){return typeof(b=b||1.15)=="number"&&(ba=b),this},no=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return ba};Na(e.lineHeight);var es=g.__private__.getHorizontalCoordinate=function(b){return E(b)},As=g.__private__.getVerticalCoordinate=function(b){return F===S.ADVANCED?b:It[K].mediaBox.topRightY-It[K].mediaBox.bottomLeftY-E(b)},sc=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(b){return $(es(b))},ts=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(b){return $(As(b))},li=e.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return jn(li)},g.__private__.setStrokeColor=g.setDrawColor=function(b,H,ce,xe){return li=ln({ch1:b,ch2:H,ch3:ce,ch4:xe,pdfColorType:"draw",precision:2}),le(li),this};var io=e.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return jn(io)},g.__private__.setFillColor=g.setFillColor=function(b,H,ce,xe){return io=ln({ch1:b,ch2:H,ch3:ce,ch4:xe,pdfColorType:"fill",precision:2}),le(io),this};var rs=e.textColor||"0 g",so=g.__private__.getTextColor=g.getTextColor=function(){return jn(rs)};g.__private__.setTextColor=g.setTextColor=function(b,H,ce,xe){return rs=ln({ch1:b,ch2:H,ch3:ce,ch4:xe,pdfColorType:"text",precision:3}),this};var ks=e.charSpace,Ql=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(ks||0)};g.__private__.setCharSpace=g.setCharSpace=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ks=b,this};var ll=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(b){var H=g.CapJoinStyles[b];if(H===void 0)throw new Error("Line cap style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ll=H,le(H+" J"),this};var ns=0;g.__private__.setLineJoin=g.setLineJoin=function(b){var H=g.CapJoinStyles[b];if(H===void 0)throw new Error("Line join style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ns=H,le(H+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(b){if(b=b||0,isNaN(b))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return le($(E(b))+" M"),this},g.GState=hh,g.setGState=function(b){(b=typeof b=="string"?ot[Pn[b]]:ao(null,b)).equals(Kr)||(le("/"+b.id+" gs"),Kr=b)};var ao=function(b,H){if(!b||!Pn[b]){var ce=!1;for(var xe in ot)if(ot.hasOwnProperty(xe)&&ot[xe].equals(H)){ce=!0;break}if(ce)H=ot[xe];else{var Te="GS"+(Object.keys(ot).length+1).toString(10);ot[Te]=H,H.id=Te}return b&&(Pn[b]=H.id),Yt.publish("addGState",H),H}};g.addGState=function(b,H){return ao(b,H),this},g.saveGraphicsState=function(){return le("q"),an.push({key:kt,size:ie,color:rs}),this},g.restoreGraphicsState=function(){le("Q");var b=an.pop();return kt=b.key,ie=b.size,rs=b.color,Kr=null,this},g.setCurrentTransformationMatrix=function(b){return le(b.toString()+" cm"),this},g.comment=function(b){return le("#"+b),this};var Xs=function(b,H){var ce=b||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ce},set:function(Qe){isNaN(Qe)||(ce=parseFloat(Qe))}});var xe=H||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return xe},set:function(Qe){isNaN(Qe)||(xe=parseFloat(Qe))}});var Te="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Te},set:function(Qe){Te=Qe.toString()}}),this},Sa=function(b,H,ce,xe){Xs.call(this,b,H),this.type="rect";var Te=ce||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Te},set:function(at){isNaN(at)||(Te=parseFloat(at))}});var Qe=xe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Qe},set:function(at){isNaN(at)||(Qe=parseFloat(at))}}),this},ja=function(){this.page=ir,this.currentPage=K,this.pages=Oe.slice(0),this.pagesContext=It.slice(0),this.x=Dt,this.y=Pt,this.matrix=ar,this.width=Zs(K),this.height=Ls(K),this.outputDestination=Ze,this.id="",this.objectNumber=-1};ja.prototype.restore=function(){ir=this.page,K=this.currentPage,It=this.pagesContext,Oe=this.pages,Dt=this.x,Pt=this.y,ar=this.matrix,ea(K,this.width),oo(K,this.height),Ze=this.outputDestination};var Jr=function(b,H,ce,xe,Te){Fn.push(new ja),ir=K=0,Oe=[],Dt=b,Pt=H,ar=Te,ws([ce,xe])},_a=function(b){if(Lr[b])Fn.pop().restore();else{var H=new ja,ce="Xo"+(Object.keys(wr).length+1).toString(10);H.id=ce,Lr[b]=ce,wr[ce]=H,Yt.publish("addFormObject",H),Fn.pop().restore()}};for(var is in g.beginFormObject=function(b,H,ce,xe,Te){return Jr(b,H,ce,xe,Te),this},g.endFormObject=function(b){return _a(b),this},g.doFormObject=function(b,H){var ce=wr[Lr[b]];return le("q"),le(H.toString()+" cm"),le("/"+ce.id+" Do"),le("Q"),this},g.getFormObject=function(b){var H=wr[Lr[b]];return{x:H.x,y:H.y,width:H.width,height:H.height,matrix:H.matrix}},g.save=function(b,H){return b=b||"generated.pdf",(H=H||{}).returnPromise=H.returnPromise||!1,H.returnPromise===!1?(vl(eo(Ss()),b),typeof vl.unload=="function"&&Ut.setTimeout&&setTimeout(vl.unload,911),this):new Promise(function(ce,xe){try{var Te=vl(eo(Ss()),b);typeof vl.unload=="function"&&Ut.setTimeout&&setTimeout(vl.unload,911),ce(Te)}catch(Qe){xe(Qe.message)}})},zt.API)zt.API.hasOwnProperty(is)&&(is==="events"&&zt.API.events.length?function(b,H){var ce,xe,Te;for(Te=H.length-1;Te!==-1;Te--)ce=H[Te][0],xe=H[Te][1],b.subscribe.apply(b,[ce].concat(typeof xe=="function"?[xe]:xe))}(Yt,zt.API.events):g[is]=zt.API[is]);var Zs=g.getPageWidth=function(b){return(It[b=b||K].mediaBox.topRightX-It[b].mediaBox.bottomLeftX)/st},ea=g.setPageWidth=function(b,H){It[b].mediaBox.topRightX=H*st+It[b].mediaBox.bottomLeftX},Ls=g.getPageHeight=function(b){return(It[b=b||K].mediaBox.topRightY-It[b].mediaBox.bottomLeftY)/st},oo=g.setPageHeight=function(b,H){It[b].mediaBox.topRightY=H*st+It[b].mediaBox.bottomLeftY};return g.internal={pdfEscape:un,getStyle:Ys,getFont:Kl,getFontSize:me,getCharSpace:Ql,getTextColor:so,getLineHeight:wa,getLineHeightFactor:no,getLineWidth:ro,write:xt,getHorizontalCoordinate:es,getVerticalCoordinate:As,getCoordinateString:sc,getVerticalCoordinateString:ts,collections:{},newObject:Gr,newAdditionalObject:ys,newObjectDeferred:Er,newObjectDeferredBegin:Sn,getFilters:ai,putStream:pi,events:Yt,scaleFactor:st,pageSize:{getWidth:function(){return Zs(K)},setWidth:function(b){ea(K,b)},getHeight:function(){return Ls(K)},setHeight:function(b){oo(K,b)}},encryptionOptions:f,encryption:Qr,getEncryptor:Xi,output:cn,getNumberOfPages:Ya,pages:Oe,out:le,f2:M,f3:P,getPageInfo:sl,getPageInfoByObjId:Vt,getCurrentPageInfo:Br,getPDFVersion:_,Point:Xs,Rectangle:Sa,Matrix:Ot,hasHotfix:js},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return Zs(K)},set:function(b){ea(K,b)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Ls(K)},set:function(b){oo(K,b)},enumerable:!0,configurable:!0}),$l.call(g,We),kt="F1",Ns(i,r),Yt.publish("initialized"),g}ou.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},ou.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ou.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},ou.prototype.processOwnerPassword=function(e,t){return T1(R1(t).substr(0,5),e)},ou.prototype.encryptor=function(e,t){var r=R1(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return T1(r,n)}},hh.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||gr(e)!==gr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},zt.API={events:[]},zt.version="2.5.2";var $r=zt.API,o2=1,ql=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},iu=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Gt=function(e){return e.toFixed(2)},So=function(e){return e.toFixed(5)};$r.__acroform__={};var Oi=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},q5=function(e){return e*o2},ia=function(e){var t=new ew,r=Et.internal.getHeight(e)||0,n=Et.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Gt(n)),Number(Gt(r))],t},r7=$r.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},n7=$r.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},i7=$r.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},tn=$r.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return i7(e,t-1)},rn=$r.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return r7(e,t-1)},nn=$r.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return n7(e,t-1)},s7=$r.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],s=e[1],a=e[2],o=e[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(s+o)||0,l.upperRight_X=r(i+a)||0,l.upperRight_Y=n(s)||0,[Number(Gt(l.lowerLeft_X)),Number(Gt(l.lowerLeft_Y)),Number(Gt(l.upperRight_X)),Number(Gt(l.upperRight_Y))]},a7=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=D1(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Gt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=ia(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},D1=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(P){return P.split(`
`)}):i.map(function(P){return[P]});var s=r,a=Et.internal.getHeight(e)||0;a=a<0?-a:a;var o=Et.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(P,E,C){if(P+1<i.length){var D=E+" "+i[P+1][0];return ld(D,e,C).width<=o-4}return!1};s++;e:for(;s>0;){t="",s--;var d,f,h=ld("3",e,s).height,m=e.multiline?a-s:(a-h)/2,g=m+=2,w=0,_=0,L=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+ld(t,e,s=12).width+", FieldWidth:"+o+`
`;break}for(var x="",S=0,F=0;F<i.length;F++)if(i.hasOwnProperty(F)){var T=!1;if(i[F].length!==1&&L!==i[F].length-1){if((h+2)*(S+2)+2>a)continue e;x+=i[F][L],T=!0,_=F,F--}else{x=(x+=i[F][L]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var V=parseInt(F),U=l(V,x,s),$=F>=i.length-1;if(U&&!$){x+=" ",L=0;continue}if(U||$){if($)_=V;else if(e.multiline&&(h+2)*(S+2)+2>a)continue e}else{if(!e.multiline||(h+2)*(S+2)+2>a)continue e;_=V}}for(var N="",k=w;k<=_;k++){var M=i[k];if(e.multiline){if(k===_){N+=M[L]+" ",L=(L+1)%M.length;continue}if(k===w){N+=M[M.length-1]+" ";continue}}N+=M[0]+" "}switch(N=N.substr(N.length-1)==" "?N.substr(0,N.length-1):N,f=ld(N,e,s).width,e.textAlign){case"right":d=o-f-2;break;case"center":d=(o-f)/2;break;case"left":default:d=2}t+=Gt(d)+" "+Gt(g)+` Td
`,t+="("+ql(N)+`) Tj
`,t+=-Gt(d)+` 0 Td
`,g=-(s+2),f=0,w=T?_:_+1,S++,x=""}break}return n.text=t,n.fontSize=s,n},ld=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},o7={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},l7=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},u7=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,i=e[r];t.internal.newObjectDeferredBegin(i.objId,!0),gr(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[n]}},c7=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Ws.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(o7)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");o2=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new tw,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&l7(s,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],l=[],d=o.Rect;if(o.Rect&&(o.Rect=s7(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Et.createDefaultAppearanceStream(o),gr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=d,o.hasAppearanceStream&&!o.appearanceStreamContent){var f=a7(o);l.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(o.appearanceStreamContent){var h="";for(var m in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(m)){var g=o.appearanceStreamContent[m];if(h+="/"+m+" ",h+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var a in g)if(g.hasOwnProperty(a)){var w=g[a];typeof w=="function"&&(w=w.call(i,o)),h+="/"+a+" "+w+" ",i.internal.acroformPlugin.xForms.indexOf(w)>=0||i.internal.acroformPlugin.xForms.push(w)}}else typeof(w=g)=="function"&&(w=w.call(i,o)),h+="/"+a+" "+w,i.internal.acroformPlugin.xForms.indexOf(w)>=0||i.internal.acroformPlugin.xForms.push(w);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&u7(i.internal.acroformPlugin.xForms,i)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},Zb=$r.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(a){return a};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(s!==0&&(i+=" "),gr(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),i+="("+ql(n(e[s].toString()))+")"):i+=e[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},g0=function(e,t,r){var n=function(i){return i};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+ql(n(e))+")"},ua=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ua.prototype.toString=function(){return this.objId+" 0 R"},ua.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},ua.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:Zb(i,this.objId,this.scope)}):i instanceof ua?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:n,value:i}))}return e};var ew=function(){ua.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Oi(ew,ua);var tw=function(){ua.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+ql(r(e))+")"}},set:function(r){e=r}})};Oi(tw,ua);var Ws=function e(){ua.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');t=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!tn(t,3)},set:function(x){x?this.F=rn(t,3):this.F=nn(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');r=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof ph)return;s="FieldObject"+e.FieldNum++}var x=function(S){return S};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+ql(x(s))+")"},set:function(x){s=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(x){s=x}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(x){a=x}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/o2:d},set:function(x){d=x}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(x){f=x}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof ph||this instanceof Pl))return g0(h,this.objId,this.scope)},set:function(x){x=x.toString(),h=x}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof En?m:g0(m,this.objId,this.scope)},set:function(x){x=x.toString(),m=this instanceof En?x:x.substr(0,1)==="("?iu(x.substr(1,x.length-2)):iu(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof En?iu(m.substr(1,m.length-1)):m},set:function(x){x=x.toString(),m=this instanceof En?"/"+x:x}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof En?g:g0(g,this.objId,this.scope)},set:function(x){x=x.toString(),g=this instanceof En?x:x.substr(0,1)==="("?iu(x.substr(1,x.length-2)):iu(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof En?iu(g.substr(1,g.length-1)):g},set:function(x){x=x.toString(),g=this instanceof En?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(x){x=!!x,_=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(x){w=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,1)},set:function(x){x?this.Ff=rn(this.Ff,1):this.Ff=nn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,2)},set:function(x){x?this.Ff=rn(this.Ff,2):this.Ff=nn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,3)},set:function(x){x?this.Ff=rn(this.Ff,3):this.Ff=nn(this.Ff,3)}});var L=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(L!==null)return L},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');L=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(L){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:L=2;break;case"center":case 1:L=1;break;case"left":case 0:default:L=0}}})};Oi(Ws,ua);var Iu=function(){Ws.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Zb(t,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,d=[];l=a.exec(s);)d.push(l[o]);return d}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,18)},set:function(r){r?this.Ff=rn(this.Ff,18):this.Ff=nn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=rn(this.Ff,19):this.Ff=nn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,20)},set:function(r){r?(this.Ff=rn(this.Ff,20),t.sort()):this.Ff=nn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,22)},set:function(r){r?this.Ff=rn(this.Ff,22):this.Ff=nn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,23)},set:function(r){r?this.Ff=rn(this.Ff,23):this.Ff=nn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,27)},set:function(r){r?this.Ff=rn(this.Ff,27):this.Ff=nn(this.Ff,27)}}),this.hasAppearanceStream=!1};Oi(Iu,Ws);var Ou=function(){Iu.call(this),this.fontName="helvetica",this.combo=!1};Oi(Ou,Iu);var Ru=function(){Ou.call(this),this.combo=!0};Oi(Ru,Ou);var Ed=function(){Ru.call(this),this.edit=!0};Oi(Ed,Ru);var En=function(){Ws.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,15)},set:function(r){r?this.Ff=rn(this.Ff,15):this.Ff=nn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,16)},set:function(r){r?this.Ff=rn(this.Ff,16):this.Ff=nn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,17)},set:function(r){r?this.Ff=rn(this.Ff,17):this.Ff=nn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,26)},set:function(r){r?this.Ff=rn(this.Ff,26):this.Ff=nn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+ql(r(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){gr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Oi(En,Ws);var Cd=function(){En.call(this),this.pushButton=!0};Oi(Cd,En);var Tu=function(){En.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Oi(Tu,En);var ph=function(){var e,t;Ws.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+ql(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){gr(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Et.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Oi(ph,Ws),Tu.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Tu.prototype.createOption=function(e){var t=new ph;return t.Parent=this,t.optionName=e,this.Kids.push(t),f7.call(this.scope,t),t};var Pd=function(){En.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Et.CheckBox.createAppearanceStream()};Oi(Pd,En);var Pl=function(){Ws.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,13)},set:function(t){t?this.Ff=rn(this.Ff,13):this.Ff=nn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,21)},set:function(t){t?this.Ff=rn(this.Ff,21):this.Ff=nn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,23)},set:function(t){t?this.Ff=rn(this.Ff,23):this.Ff=nn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,24)},set:function(t){t?this.Ff=rn(this.Ff,24):this.Ff=nn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,25)},set:function(t){t?this.Ff=rn(this.Ff,25):this.Ff=nn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,26)},set:function(t){t?this.Ff=rn(this.Ff,26):this.Ff=nn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Oi(Pl,Ws);var Fd=function(){Pl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,14)},set:function(e){e?this.Ff=rn(this.Ff,14):this.Ff=nn(this.Ff,14)}}),this.password=!0};Oi(Fd,Pl);var Et={CheckBox:{createAppearanceStream:function(){return{N:{On:Et.CheckBox.YesNormal},D:{On:Et.CheckBox.YesPushDown,Off:Et.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ia(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=D1(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Gt(Et.internal.getWidth(e))+" "+Gt(Et.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Gt(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=ia(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],s=Et.internal.getHeight(e),a=Et.internal.getWidth(e),o=D1(e,e.caption);return i.push("1 g"),i.push("0 0 "+Gt(a)+" "+Gt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Gt(a-1)+" "+Gt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Gt(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=ia(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Gt(Et.internal.getWidth(e))+" "+Gt(Et.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Et.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Et.RadioButton.Circle.YesNormal,t.D[e]=Et.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ia(e);t.scope=e.scope;var r=[],n=Et.internal.getWidth(e)<=Et.internal.getHeight(e)?Et.internal.getWidth(e)/4:Et.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Et.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+So(Et.internal.getWidth(e)/2)+" "+So(Et.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ia(e);t.scope=e.scope;var r=[],n=Et.internal.getWidth(e)<=Et.internal.getHeight(e)?Et.internal.getWidth(e)/4:Et.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Et.internal.Bezier_C).toFixed(5)),a=Number((n*Et.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+So(Et.internal.getWidth(e)/2)+" "+So(Et.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+So(Et.internal.getWidth(e)/2)+" "+So(Et.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=ia(e);t.scope=e.scope;var r=[],n=Et.internal.getWidth(e)<=Et.internal.getHeight(e)?Et.internal.getWidth(e)/4:Et.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Et.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+So(Et.internal.getWidth(e)/2)+" "+So(Et.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Et.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Et.RadioButton.Cross.YesNormal,t.D[e]=Et.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ia(e);t.scope=e.scope;var r=[],n=Et.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Gt(Et.internal.getWidth(e)-2)+" "+Gt(Et.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Gt(n.x1.x)+" "+Gt(n.x1.y)+" m"),r.push(Gt(n.x2.x)+" "+Gt(n.x2.y)+" l"),r.push(Gt(n.x4.x)+" "+Gt(n.x4.y)+" m"),r.push(Gt(n.x3.x)+" "+Gt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ia(e);t.scope=e.scope;var r=Et.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Gt(Et.internal.getWidth(e))+" "+Gt(Et.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Gt(Et.internal.getWidth(e)-2)+" "+Gt(Et.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Gt(r.x1.x)+" "+Gt(r.x1.y)+" m"),n.push(Gt(r.x2.x)+" "+Gt(r.x2.y)+" l"),n.push(Gt(r.x4.x)+" "+Gt(r.x4.y)+" m"),n.push(Gt(r.x3.x)+" "+Gt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=ia(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Gt(Et.internal.getWidth(e))+" "+Gt(Et.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Et.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Et.internal.getWidth(e),r=Et.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Et.internal.getWidth=function(e){var t=0;return gr(e)==="object"&&(t=q5(e.Rect[2])),t},Et.internal.getHeight=function(e){var t=0;return gr(e)==="object"&&(t=q5(e.Rect[3])),t};var f7=$r.addField=function(e){if(c7(this,e),!(e instanceof Ws))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};$r.AcroFormChoiceField=Iu,$r.AcroFormListBox=Ou,$r.AcroFormComboBox=Ru,$r.AcroFormEditBox=Ed,$r.AcroFormButton=En,$r.AcroFormPushButton=Cd,$r.AcroFormRadioButton=Tu,$r.AcroFormCheckBox=Pd,$r.AcroFormTextField=Pl,$r.AcroFormPasswordField=Fd,$r.AcroFormAppearance=Et,$r.AcroForm={ChoiceField:Iu,ListBox:Ou,ComboBox:Ru,EditBox:Ed,Button:En,PushButton:Cd,RadioButton:Tu,CheckBox:Pd,TextField:Pl,PasswordField:Fd,Appearance:Et},zt.AcroForm={ChoiceField:Iu,ListBox:Ou,ComboBox:Ru,EditBox:Ed,Button:En,PushButton:Cd,RadioButton:Tu,CheckBox:Pd,TextField:Pl,PasswordField:Fd,Appearance:Et};zt.AcroForm;function rw(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(P,E){var C,D,re,q,z,Q=t;if((E=E||t)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(U(P))for(z in r)for(re=r[z],C=0;C<re.length;C+=1){for(q=!0,D=0;D<re[C].length;D+=1)if(re[C][D]!==void 0&&re[C][D]!==P[D]){q=!1;break}if(q===!0){Q=z;break}}else for(z in r)for(re=r[z],C=0;C<re.length;C+=1){for(q=!0,D=0;D<re[C].length;D+=1)if(re[C][D]!==void 0&&re[C][D]!==P.charCodeAt(D)){q=!1;break}if(q===!0){Q=z;break}}return Q===t&&E!==t&&(Q=E),Q},i=function P(E){for(var C=this.internal.write,D=this.internal.putStream,re=(0,this.internal.getFilters)();re.indexOf("FlateEncode")!==-1;)re.splice(re.indexOf("FlateEncode"),1);E.objectId=this.internal.newObject();var q=[];if(q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Image"}),q.push({key:"Width",value:E.width}),q.push({key:"Height",value:E.height}),E.colorSpace===L.INDEXED?q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(E.palette.length/3-1)+" "+("sMask"in E&&E.sMask!==void 0?E.objectId+2:E.objectId+1)+" 0 R]"}):(q.push({key:"ColorSpace",value:"/"+E.colorSpace}),E.colorSpace===L.DEVICE_CMYK&&q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),q.push({key:"BitsPerComponent",value:E.bitsPerComponent}),"decodeParameters"in E&&E.decodeParameters!==void 0&&q.push({key:"DecodeParms",value:"<<"+E.decodeParameters+">>"}),"transparency"in E&&Array.isArray(E.transparency)){for(var z="",Q=0,J=E.transparency.length;Q<J;Q++)z+=E.transparency[Q]+" "+E.transparency[Q]+" ";q.push({key:"Mask",value:"["+z+"]"})}E.sMask!==void 0&&q.push({key:"SMask",value:E.objectId+1+" 0 R"});var ae=E.filter!==void 0?["/"+E.filter]:void 0;if(D({data:E.data,additionalKeyValues:q,alreadyAppliedFilters:ae,objectId:E.objectId}),C("endobj"),"sMask"in E&&E.sMask!==void 0){var be="/Predictor "+E.predictor+" /Colors 1 /BitsPerComponent "+E.bitsPerComponent+" /Columns "+E.width,R={width:E.width,height:E.height,colorSpace:"DeviceGray",bitsPerComponent:E.bitsPerComponent,decodeParameters:be,data:E.sMask};"filter"in E&&(R.filter=E.filter),P.call(this,R)}if(E.colorSpace===L.INDEXED){var K=this.internal.newObject();D({data:N(new Uint8Array(E.palette)),objectId:K}),C("endobj")}},s=function(){var P=this.internal.collections.addImage_images;for(var E in P)i.call(this,P[E])},a=function(){var P,E=this.internal.collections.addImage_images,C=this.internal.write;for(var D in E)C("/I"+(P=E[D]).index,P.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var P=this.internal.collections.addImage_images;return o.call(this),P},d=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(P){return typeof e["process"+P.toUpperCase()]=="function"},h=function(P){return gr(P)==="object"&&P.nodeType===1},m=function(P,E){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var C=""+P.getAttribute("src");if(C.indexOf("data:image/")===0)return Bc(unescape(C).split("base64,").pop());var D=e.loadFile(C,!0);if(D!==void 0)return D}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var re;switch(E){case"PNG":re="image/png";break;case"WEBP":re="image/webp";break;case"JPEG":case"JPG":default:re="image/jpeg"}return Bc(P.toDataURL(re,1).split("base64,").pop())}},g=function(P){var E=this.internal.collections.addImage_images;if(E){for(var C in E)if(P===E[C].alias)return E[C]}},w=function(P,E,C){return P||E||(P=-96,E=-96),P<0&&(P=-1*C.width*72/P/this.internal.scaleFactor),E<0&&(E=-1*C.height*72/E/this.internal.scaleFactor),P===0&&(P=E*C.width/C.height),E===0&&(E=P*C.height/C.width),[P,E]},_=function(P,E,C,D,re,q){var z=w.call(this,C,D,re),Q=this.internal.getCoordinateString,J=this.internal.getVerticalCoordinateString,ae=l.call(this);if(C=z[0],D=z[1],ae[re.index]=re,q){q*=Math.PI/180;var be=Math.cos(q),R=Math.sin(q),K=function(ee){return ee.toFixed(4)},Z=[K(be),K(R),K(-1*R),K(be),0,0,"cm"]}this.internal.write("q"),q?(this.internal.write([1,"0","0",1,Q(P),J(E+D),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([Q(C),"0","0",Q(D),"0","0","cm"].join(" "))):this.internal.write([Q(C),"0","0",Q(D),Q(P),J(E+D),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+re.index+" Do"),this.internal.write("Q")},L=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=e.__addimage__.sHashCode=function(P){var E,C,D=0;if(typeof P=="string")for(C=P.length,E=0;E<C;E++)D=(D<<5)-D+P.charCodeAt(E),D|=0;else if(U(P))for(C=P.byteLength/2,E=0;E<C;E++)D=(D<<5)-D+P[E],D|=0;return D},F=e.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var E=!0;return P.length===0&&(E=!1),P.length%4!=0&&(E=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(E=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(E=!1),E},T=e.__addimage__.extractImageFromDataUrl=function(P){var E=(P=P||"").split("base64,"),C=null;if(E.length===2){var D=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(E[0]);Array.isArray(D)&&(C={mimeType:D[1],charset:D[2],data:E[1]})}return C},V=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(P){return V()&&P instanceof ArrayBuffer};var U=e.__addimage__.isArrayBufferView=function(P){return V()&&typeof Uint32Array<"u"&&(P instanceof Int8Array||P instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array)},$=e.__addimage__.binaryStringToUint8Array=function(P){for(var E=P.length,C=new Uint8Array(E),D=0;D<E;D++)C[D]=P.charCodeAt(D);return C},N=e.__addimage__.arrayBufferToBinaryString=function(P){for(var E="",C=U(P)?P:new Uint8Array(P),D=0;D<C.length;D+=8192)E+=String.fromCharCode.apply(null,C.subarray(D,D+8192));return E};e.addImage=function(){var P,E,C,D,re,q,z,Q,J;if(typeof arguments[1]=="number"?(E=t,C=arguments[1],D=arguments[2],re=arguments[3],q=arguments[4],z=arguments[5],Q=arguments[6],J=arguments[7]):(E=arguments[1],C=arguments[2],D=arguments[3],re=arguments[4],q=arguments[5],z=arguments[6],Q=arguments[7],J=arguments[8]),gr(P=arguments[0])==="object"&&!h(P)&&"imageData"in P){var ae=P;P=ae.imageData,E=ae.format||E||t,C=ae.x||C||0,D=ae.y||D||0,re=ae.w||ae.width||re,q=ae.h||ae.height||q,z=ae.alias||z,Q=ae.compression||Q,J=ae.rotation||ae.angle||J}var be=this.internal.getFilters();if(Q===void 0&&be.indexOf("FlateEncode")!==-1&&(Q="SLOW"),isNaN(C)||isNaN(D))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var R=k.call(this,P,E,z,Q);return _.call(this,C,D,re,q,R,J),this};var k=function(P,E,C,D){var re,q,z;if(typeof P=="string"&&n(P)===t){P=unescape(P);var Q=M(P,!1);(Q!==""||(Q=e.loadFile(P,!0))!==void 0)&&(P=Q)}if(h(P)&&(P=m(P,E)),E=n(P,E),!f(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(((z=C)==null||z.length===0)&&(C=function(J){return typeof J=="string"||U(J)?S(J):U(J.data)?S(J.data):null}(P)),(re=g.call(this,C))||(V()&&(P instanceof Uint8Array||E==="RGBA"||(q=P,P=$(P))),re=this["process"+E.toUpperCase()](P,d.call(this),C,function(J){return J&&typeof J=="string"&&(J=J.toUpperCase()),J in e.image_compression?J:x.NONE}(D),q)),!re)throw new Error("An unknown error occurred whilst processing the image.");return re},M=e.__addimage__.convertBase64ToBinaryString=function(P,E){var C;E=typeof E!="boolean"||E;var D,re="";if(typeof P=="string"){D=(C=T(P))!==null?C.data:P;try{re=Bc(D)}catch(q){if(E)throw F(D)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return re};e.getImageProperties=function(P){var E,C,D="";if(h(P)&&(P=m(P)),typeof P=="string"&&n(P)===t&&((D=M(P,!1))===""&&(D=e.loadFile(P)||""),P=D),C=n(P),!f(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(!V()||P instanceof Uint8Array||(P=$(P)),!(E=this["process"+C.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return E.fileType=C,E}})(zt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};zt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,f=!1,h=0;h<d.length&&!f;h++)switch((n=d[h]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var m=0;m<d.length;m++){n=d[m];var g=this.internal.pdfEscape,w=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),L=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(_.objId),S=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+g(x(n.contents))+")",s+=" /Popup "+L.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+g(x(S))+") >>",_.content=s;var F=_.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+F,n.open&&(s+=" /Open true"),s+=" >>",L.content=s,this.internal.write(_.objId,"0 R",L.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var T=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(w(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+T+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var V=this.annotations._nameMap[n.options.name];n.options.pageNumber=V.page,n.options.top=V.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(w(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var U=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+U+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:d(n),w:l(r+i),h:d(n+s)},options:a,type:"link"})},e.textWithLink=function(r,n,i,s){var a,o,l=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var f=this.splitTextToSize(r,o).length;a=Math.ceil(d*f)}else o=l,a=d;return this.text(r,n,i,s),i+=.2*d,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,i-d,o,a,s),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(zt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(_){return t[_.charCodeAt(0)]!==void 0},a=e.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},o=e.__arabicParser__.isArabicEndLetter=function(_){return a(_)&&s(_)&&t[_.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(_){return a(_)&&i.indexOf(_.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return a(_)&&s(_)&&t[_.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(_){return a(_)&&s(_)&&t[_.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(_){return a(_)&&s(_)&&t[_.charCodeAt(0)].length>=3};var f=e.__arabicParser__.arabicLetterHasMedialForm=function(_){return a(_)&&s(_)&&t[_.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(_){var L=0,x=r,S="",F=0;for(L=0;L<_.length;L+=1)x[_.charCodeAt(L)]!==void 0?(F++,typeof(x=x[_.charCodeAt(L)])=="number"&&(S+=String.fromCharCode(x),x=r,F=0),L===_.length-1&&(x=r,S+=_.charAt(L-(F-1)),L-=F-1,F=0)):(x=r,S+=_.charAt(L-F),L-=F,F=0);return S};e.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&n[_.charCodeAt(0)]!==void 0};var m=e.__arabicParser__.getCorrectForm=function(_,L,x){return a(_)?s(_)===!1?-1:!d(_)||!a(L)&&!a(x)||!a(x)&&o(L)||o(_)&&!a(L)||o(_)&&l(L)||o(_)&&o(L)?0:f(_)&&a(L)&&!o(L)&&a(x)&&d(x)?3:o(_)||!a(x)?1:2:-1},g=function(_){var L=0,x=0,S=0,F="",T="",V="",U=(_=_||"").split("\\s+"),$=[];for(L=0;L<U.length;L+=1){for($.push(""),x=0;x<U[L].length;x+=1)F=U[L][x],T=U[L][x-1],V=U[L][x+1],a(F)?(S=m(F,T,V),$[L]+=S!==-1?String.fromCharCode(t[F.charCodeAt(0)][S]):F):$[L]+=F;$[L]=h($[L])}return $.join(" ")},w=e.__arabicParser__.processArabic=e.processArabic=function(){var _,L=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(L)){var S=0;for(x=[],S=0;S<L.length;S+=1)Array.isArray(L[S])?x.push([g(L[S][0]),L[S][1],L[S][2]]):x.push([g(L[S])]);_=x}else _=g(L);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};e.events.push(["preProcessText",w])}(zt.API),zt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(zt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(_){l=_}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(_){d=_}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(_){f=_}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(_){h=_}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(_){m=_}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(_){g=_}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(_){w=_}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,d){n.call(this);var f=(d=d||{}).fontSize||this.getFontSize(),h=d.font||this.getFont(),m=d.scaleFactor||this.internal.scaleFactor,g=0,w=0,_=0,L=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var x=d.maxWidth;x>0?typeof l=="string"?l=this.splitTextToSize(l,x):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(F,T){return F.concat(L.splitTextToSize(T,x))},[])):l=Array.isArray(l)?l:[l];for(var S=0;S<l.length;S++)g<(_=this.getStringUnitWidth(l[S],{font:h})*f)&&(g=_);return g!==0&&(w=l.length),{w:g/=m,h:Math.max((w*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/m,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var d=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,m=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===l.lineNumber?(l.x=(d.x||0)+(d.width||0),l.y=d.y||0):d.y+d.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,g&&m&&(this.printHeaderRow(l.lineNumber,!0),l.y+=m[0].height)):l.y=d.y+d.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-f,l.y+f,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+f,{align:"center",baseline:"top",maxWidth:l.width-f-f}):this.text(l.text,l.x+f,l.y+f,{align:"left",baseline:"top",maxWidth:l.width-f-f})),this.internal.__cell__.lastCell=l,this};e.table=function(l,d,f,h,m){if(n.call(this),!f)throw new Error("No data for PDF table.");var g,w,_,L,x=[],S=[],F=[],T={},V={},U=[],$=[],N=(m=m||{}).autoSize||!1,k=m.printHeaders!==!1,M=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,P=m.margins||Object.assign({width:this.getPageWidth()},t),E=typeof m.padding=="number"?m.padding:3,C=m.headerBackgroundColor||"#c8c8c8",D=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=M,this.internal.__cell__.padding=E,this.internal.__cell__.headerBackgroundColor=C,this.internal.__cell__.headerTextColor=D,this.setFontSize(M),h==null)S=x=Object.keys(f[0]),F=x.map(function(){return"left"});else if(Array.isArray(h)&&gr(h[0])==="object")for(x=h.map(function(ae){return ae.name}),S=h.map(function(ae){return ae.prompt||ae.name||""}),F=h.map(function(ae){return ae.align||"left"}),g=0;g<h.length;g+=1)V[h[g].name]=h[g].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(S=x=h,F=x.map(function(){return"left"}));if(N||Array.isArray(h)&&typeof h[0]=="string")for(g=0;g<x.length;g+=1){for(T[L=x[g]]=f.map(function(ae){return ae[L]}),this.setFont(void 0,"bold"),U.push(this.getTextDimensions(S[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=T[L],this.setFont(void 0,"normal"),_=0;_<w.length;_+=1)U.push(this.getTextDimensions(w[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);V[L]=Math.max.apply(null,U)+E+E,U=[]}if(k){var re={};for(g=0;g<x.length;g+=1)re[x[g]]={},re[x[g]].text=S[g],re[x[g]].align=F[g];var q=o.call(this,re,V);$=x.map(function(ae){return new s(l,d,V[ae],q,re[ae].text,void 0,re[ae].align)}),this.setTableHeaderRow($),this.printHeaderRow(1,!1)}var z=h.reduce(function(ae,be){return ae[be.name]=be.align,ae},{});for(g=0;g<f.length;g+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:g,data:f[g]},this);var Q=o.call(this,f[g],V);for(_=0;_<x.length;_+=1){var J=f[g][x[_]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:g,col:_,data:J},this),a.call(this,new s(l,d,V[x[_]],Q,J,g+2,z[x[_]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=d,this};var o=function(l,d){var f=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(l).map(function(g){var w=l[g];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,d[g]-f-f)},this).map(function(g){return this.getLineHeightFactor()*g.length*h/m+f+f},this).reduce(function(g,w){return Math.max(g,w)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){f=this.internal.__cell__.tableHeaderRow[g].clone(),d&&(f.y=this.internal.__cell__.margins.top||0,m.push(f)),f.lineNumber=l;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,f),this.setTextColor(w)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),r=!1}}(zt.API);var nw={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},iw=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],M1=rw(iw),sw=[100,200,300,400,500,600,700,800,900],d7=rw(sw);function z1(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return nw[s=s||"normal"]?s:"normal"}(e.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(s){return typeof M1[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,n].join(" ")}}}function V5(e,t,r,n){var i;for(i=r;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var h7={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},$5={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function H5(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function p7(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",i=Object.assign({},h7,r.genericFontFamilies||{}),s=null,a=null,o=0;o<t.length;++o)if(i[(s=z1(t[o])).family]&&(s.family=i[s.family]),e.hasOwnProperty(s.family)){a=e[s.family];break}if(!(a=a||e[n]))throw new Error("Could not find a font-family for the rule '"+H5(s)+"' and default family '"+n+"'.");if(a=function(l,d){if(d[l])return d[l];var f=M1[l],h=f<=M1.normal?-1:1,m=V5(d,iw,f,h);if(!m)throw new Error("Could not find a matching font-stretch value for "+l);return m}(s.stretch,a),a=function(l,d){if(d[l])return d[l];for(var f=nw[l],h=0;h<f.length;++h)if(d[f[h]])return d[f[h]];throw new Error("Could not find a matching font-style for "+l)}(s.style,a),!(a=function(l,d){if(d[l])return d[l];if(l===400&&d[500])return d[500];if(l===500&&d[400])return d[400];var f=d7[l],h=V5(d,sw,f,l<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+l);return h}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+H5(s)+"'.");return a}function W5(e){return e.trimLeft()}function m7(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function g7(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var ud,K5,G5,v0=["times"];(function(e){var t,r,n,i,s,a,o,l,d,f=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new l,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new a,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new a,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,d=new f}]);var h=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=R;Object.defineProperty(this,"pdf",{get:function(){return K}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(Ee){Z=!!Ee}});var ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ee},set:function(Ee){ee=!!Ee}});var fe=0;Object.defineProperty(this,"posX",{get:function(){return fe},set:function(Ee){isNaN(Ee)||(fe=Ee)}});var we=0;Object.defineProperty(this,"posY",{get:function(){return we},set:function(Ee){isNaN(Ee)||(we=Ee)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Ee){var le;typeof Ee=="number"?le=[Ee,Ee,Ee,Ee]:((le=new Array(4))[0]=Ee[0],le[1]=Ee.length>=2?Ee[1]:le[0],le[2]=Ee.length>=3?Ee[2]:le[0],le[3]=Ee.length>=4?Ee[3]:le[1]),d.margin=le}});var ve=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ve},set:function(Ee){ve=Ee}});var se=0;Object.defineProperty(this,"lastBreak",{get:function(){return se},set:function(Ee){se=Ee}});var $e=[];Object.defineProperty(this,"pageBreaks",{get:function(){return $e},set:function(Ee){$e=Ee}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Ee){Ee instanceof f&&(d=Ee)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Ee){d.path=Ee}});var Oe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Oe},set:function(Ee){Oe=Ee}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ee){var le;le=m(Ee),this.ctx.fillStyle=le.style,this.ctx.isFillTransparent=le.a===0,this.ctx.fillOpacity=le.a,this.pdf.setFillColor(le.r,le.g,le.b,{a:le.a}),this.pdf.setTextColor(le.r,le.g,le.b,{a:le.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ee){var le=m(Ee);this.ctx.strokeStyle=le.style,this.ctx.isStrokeTransparent=le.a===0,this.ctx.strokeOpacity=le.a,le.a===0?this.pdf.setDrawColor(255,255,255):(le.a,this.pdf.setDrawColor(le.r,le.g,le.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ee){["butt","round","square"].indexOf(Ee)!==-1&&(this.ctx.lineCap=Ee,this.pdf.setLineCap(Ee))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ee){isNaN(Ee)||(this.ctx.lineWidth=Ee,this.pdf.setLineWidth(Ee))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ee){["bevel","round","miter"].indexOf(Ee)!==-1&&(this.ctx.lineJoin=Ee,this.pdf.setLineJoin(Ee))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ee){isNaN(Ee)||(this.ctx.miterLimit=Ee,this.pdf.setMiterLimit(Ee))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ee){this.ctx.textBaseline=Ee}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ee){["right","end","center","left","start"].indexOf(Ee)!==-1&&(this.ctx.textAlign=Ee)}});var Re=null;function Ze(Ee,le){if(Re===null){var xt=function(Je){var We=[];return Object.keys(Je).forEach(function(ie){Je[ie].forEach(function(de){var me=null;switch(de){case"bold":me={family:ie,weight:"bold"};break;case"italic":me={family:ie,style:"italic"};break;case"bolditalic":me={family:ie,weight:"bold",style:"italic"};break;case"":case"normal":me={family:ie}}me!==null&&(me.ref={name:ie,style:de},We.push(me))})}),We}(Ee.getFontList());Re=function(Je){for(var We={},ie=0;ie<Je.length;++ie){var de=z1(Je[ie]),me=de.family,Ve=de.stretch,Me=de.style,Ue=de.weight;We[me]=We[me]||{},We[me][Ve]=We[me][Ve]||{},We[me][Ve][Me]=We[me][Ve][Me]||{},We[me][Ve][Me][Ue]=de}return We}(xt.concat(le))}return Re}var dt=null;Object.defineProperty(this,"fontFaces",{get:function(){return dt},set:function(Ee){Re=null,dt=Ee}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ee){var le;if(this.ctx.font=Ee,(le=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ee))!==null){var xt=le[1],Je=(le[2],le[3]),We=le[4],ie=(le[5],le[6]),de=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(We)[2];We=Math.floor(de==="px"?parseFloat(We)*this.pdf.internal.scaleFactor:de==="em"?parseFloat(We)*this.pdf.getFontSize():parseFloat(We)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(We);var me=function(wt){var kt,st,Dt=[],Pt=wt.trim();if(Pt==="")return v0;if(Pt in $5)return[$5[Pt]];for(;Pt!=="";){switch(st=null,kt=(Pt=W5(Pt)).charAt(0)){case'"':case"'":st=m7(Pt.substring(1),kt);break;default:st=g7(Pt)}if(st===null||(Dt.push(st[0]),(Pt=W5(st[1]))!==""&&Pt.charAt(0)!==","))return v0;Pt=Pt.replace(/^,/,"")}return Dt}(ie);if(this.fontFaces){var Ve=p7(Ze(this.pdf,this.fontFaces),me.map(function(wt){return{family:wt,stretch:"normal",weight:Je,style:xt}}));this.pdf.setFont(Ve.ref.name,Ve.ref.style)}else{var Me="";(Je==="bold"||parseInt(Je,10)>=700||xt==="bold")&&(Me="bold"),xt==="italic"&&(Me+="italic"),Me.length===0&&(Me="normal");for(var Ue="",Ye={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},pt=0;pt<me.length;pt++){if(this.pdf.internal.getFont(me[pt],Me,{noFallback:!0,disableWarning:!0})!==void 0){Ue=me[pt];break}if(Me==="bolditalic"&&this.pdf.internal.getFont(me[pt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ue=me[pt],Me="bold";else if(this.pdf.internal.getFont(me[pt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ue=me[pt],Me="normal";break}}if(Ue===""){for(var yt=0;yt<me.length;yt++)if(Ye[me[yt]]){Ue=Ye[me[yt]];break}}Ue=Ue===""?"Times":Ue,this.pdf.setFont(Ue,Me)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ee){this.ctx.globalCompositeOperation=Ee}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ee){this.ctx.globalAlpha=Ee}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ee){this.ctx.lineDashOffset=Ee,be.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ee){this.ctx.lineDash=Ee,be.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ee){this.ctx.ignoreClearRect=!!Ee}})};h.prototype.setLineDash=function(R){this.lineDash=R},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){T.call(this,"fill",!1)},h.prototype.stroke=function(){T.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(R,K){if(isNaN(R)||isNaN(K))throw jr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new a(R,K));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new a(R,K)},h.prototype.closePath=function(){var R=new a(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&gr(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){R=new a(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(R.x,R.y)},h.prototype.lineTo=function(R,K){if(isNaN(R)||isNaN(K))throw jr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new a(R,K));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new a(Z.x,Z.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),T.call(this,null,!0)},h.prototype.quadraticCurveTo=function(R,K,Z,ee){if(isNaN(Z)||isNaN(ee)||isNaN(R)||isNaN(K))throw jr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var fe=this.ctx.transform.applyToPoint(new a(Z,ee)),we=this.ctx.transform.applyToPoint(new a(R,K));this.path.push({type:"qct",x1:we.x,y1:we.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new a(fe.x,fe.y)},h.prototype.bezierCurveTo=function(R,K,Z,ee,fe,we){if(isNaN(fe)||isNaN(we)||isNaN(R)||isNaN(K)||isNaN(Z)||isNaN(ee))throw jr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ve=this.ctx.transform.applyToPoint(new a(fe,we)),se=this.ctx.transform.applyToPoint(new a(R,K)),$e=this.ctx.transform.applyToPoint(new a(Z,ee));this.path.push({type:"bct",x1:se.x,y1:se.y,x2:$e.x,y2:$e.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new a(ve.x,ve.y)},h.prototype.arc=function(R,K,Z,ee,fe,we){if(isNaN(R)||isNaN(K)||isNaN(Z)||isNaN(ee)||isNaN(fe))throw jr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(we=!!we,!this.ctx.transform.isIdentity){var ve=this.ctx.transform.applyToPoint(new a(R,K));R=ve.x,K=ve.y;var se=this.ctx.transform.applyToPoint(new a(0,Z)),$e=this.ctx.transform.applyToPoint(new a(0,0));Z=Math.sqrt(Math.pow(se.x-$e.x,2)+Math.pow(se.y-$e.y,2))}Math.abs(fe-ee)>=2*Math.PI&&(ee=0,fe=2*Math.PI),this.path.push({type:"arc",x:R,y:K,radius:Z,startAngle:ee,endAngle:fe,counterclockwise:we})},h.prototype.arcTo=function(R,K,Z,ee,fe){throw new Error("arcTo not implemented.")},h.prototype.rect=function(R,K,Z,ee){if(isNaN(R)||isNaN(K)||isNaN(Z)||isNaN(ee))throw jr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,K),this.lineTo(R+Z,K),this.lineTo(R+Z,K+ee),this.lineTo(R,K+ee),this.lineTo(R,K),this.lineTo(R+Z,K),this.lineTo(R,K)},h.prototype.fillRect=function(R,K,Z,ee){if(isNaN(R)||isNaN(K)||isNaN(Z)||isNaN(ee))throw jr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var fe={};this.lineCap!=="butt"&&(fe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(fe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,K,Z,ee),this.fill(),fe.hasOwnProperty("lineCap")&&(this.lineCap=fe.lineCap),fe.hasOwnProperty("lineJoin")&&(this.lineJoin=fe.lineJoin)}},h.prototype.strokeRect=function(R,K,Z,ee){if(isNaN(R)||isNaN(K)||isNaN(Z)||isNaN(ee))throw jr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(R,K,Z,ee),this.stroke())},h.prototype.clearRect=function(R,K,Z,ee){if(isNaN(R)||isNaN(K)||isNaN(Z)||isNaN(ee))throw jr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,K,Z,ee))},h.prototype.save=function(R){R=typeof R!="boolean"||R;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var ee=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ee}},h.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(K),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(R){var K,Z,ee,fe;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))K=0,Z=0,ee=0,fe=0;else{var we=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(we!==null)K=parseInt(we[1]),Z=parseInt(we[2]),ee=parseInt(we[3]),fe=1;else if((we=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)K=parseInt(we[1]),Z=parseInt(we[2]),ee=parseInt(we[3]),fe=parseFloat(we[4]);else{if(fe=1,typeof R=="string"&&R.charAt(0)!=="#"){var ve=new Jb(R);R=ve.ok?ve.toHex():"#000000"}R.length===4?(K=R.substring(1,2),K+=K,Z=R.substring(2,3),Z+=Z,ee=R.substring(3,4),ee+=ee):(K=R.substring(1,3),Z=R.substring(3,5),ee=R.substring(5,7)),K=parseInt(K,16),Z=parseInt(Z,16),ee=parseInt(ee,16)}}return{r:K,g:Z,b:ee,a:fe,style:R}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(R,K,Z,ee){if(isNaN(K)||isNaN(Z)||typeof R!="string")throw jr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ee=isNaN(ee)?void 0:ee,!g.call(this)){var fe=Q(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;E.call(this,{text:R,x:K,y:Z,scale:we,angle:fe,align:this.textAlign,maxWidth:ee})}},h.prototype.strokeText=function(R,K,Z,ee){if(isNaN(K)||isNaN(Z)||typeof R!="string")throw jr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){ee=isNaN(ee)?void 0:ee;var fe=Q(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;E.call(this,{text:R,x:K,y:Z,scale:we,renderingMode:"stroke",angle:fe,align:this.textAlign,maxWidth:ee})}},h.prototype.measureText=function(R){if(typeof R!="string")throw jr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,Z=this.pdf.internal.scaleFactor,ee=K.internal.getFontSize(),fe=K.getStringUnitWidth(R)*ee/K.internal.scaleFactor,we=function(ve){var se=(ve=ve||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return se}}),this};return new we({width:fe*=Math.round(96*Z/72*1e4)/1e4})},h.prototype.scale=function(R,K){if(isNaN(R)||isNaN(K))throw jr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new l(R,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},h.prototype.rotate=function(R){if(isNaN(R))throw jr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new l(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},h.prototype.translate=function(R,K){if(isNaN(R)||isNaN(K))throw jr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new l(1,0,0,1,R,K);this.ctx.transform=this.ctx.transform.multiply(Z)},h.prototype.transform=function(R,K,Z,ee,fe,we){if(isNaN(R)||isNaN(K)||isNaN(Z)||isNaN(ee)||isNaN(fe)||isNaN(we))throw jr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ve=new l(R,K,Z,ee,fe,we);this.ctx.transform=this.ctx.transform.multiply(ve)},h.prototype.setTransform=function(R,K,Z,ee,fe,we){R=isNaN(R)?1:R,K=isNaN(K)?0:K,Z=isNaN(Z)?0:Z,ee=isNaN(ee)?1:ee,fe=isNaN(fe)?0:fe,we=isNaN(we)?0:we,this.ctx.transform=new l(R,K,Z,ee,fe,we)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(R,K,Z,ee,fe,we,ve,se,$e){var Oe=this.pdf.getImageProperties(R),Re=1,Ze=1,dt=1,Ee=1;ee!==void 0&&se!==void 0&&(dt=se/ee,Ee=$e/fe,Re=Oe.width/ee*se/ee,Ze=Oe.height/fe*$e/fe),we===void 0&&(we=K,ve=Z,K=0,Z=0),ee!==void 0&&se===void 0&&(se=ee,$e=fe),ee===void 0&&se===void 0&&(se=Oe.width,$e=Oe.height);for(var le,xt=this.ctx.transform.decompose(),Je=Q(xt.rotate.shx),We=new l,ie=(We=(We=(We=We.multiply(xt.translate)).multiply(xt.skew)).multiply(xt.scale)).applyToRectangle(new o(we-K*dt,ve-Z*Ee,ee*Re,fe*Ze)),de=L.call(this,ie),me=[],Ve=0;Ve<de.length;Ve+=1)me.indexOf(de[Ve])===-1&&me.push(de[Ve]);if(F(me),this.autoPaging)for(var Me=me[0],Ue=me[me.length-1],Ye=Me;Ye<Ue+1;Ye++){this.pdf.setPage(Ye);var pt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],yt=Ye===1?this.posY+this.margin[0]:this.margin[0],wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],st=Ye===1?0:wt+(Ye-2)*kt;if(this.ctx.clip_path.length!==0){var Dt=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(le,this.posX+this.margin[3],-st+yt+this.ctx.prevPageLastElemOffset),V.call(this,"fill",!0),this.path=Dt}var Pt=JSON.parse(JSON.stringify(ie));Pt=S([Pt],this.posX+this.margin[3],-st+yt+this.ctx.prevPageLastElemOffset)[0];var ar=(Ye>Me||Ye<Ue)&&_.call(this);ar&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pt,kt,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",Pt.x,Pt.y,Pt.w,Pt.h,null,null,Je),ar&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(R,"JPEG",ie.x,ie.y,ie.w,ie.h,null,null,Je)};var L=function(R,K,Z){var ee=[];K=K||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var fe=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":ee.push(Math.floor((R.y+fe)/Z)+1);break;case"arc":ee.push(Math.floor((R.y+fe-R.radius)/Z)+1),ee.push(Math.floor((R.y+fe+R.radius)/Z)+1);break;case"qct":var we=J(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);ee.push(Math.floor((we.y+fe)/Z)+1),ee.push(Math.floor((we.y+we.h+fe)/Z)+1);break;case"bct":var ve=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);ee.push(Math.floor((ve.y+fe)/Z)+1),ee.push(Math.floor((ve.y+ve.h+fe)/Z)+1);break;case"rect":ee.push(Math.floor((R.y+fe)/Z)+1),ee.push(Math.floor((R.y+R.h+fe)/Z)+1)}for(var se=0;se<ee.length;se+=1)for(;this.pdf.internal.getNumberOfPages()<ee[se];)x.call(this);return ee},x=function(){var R=this.fillStyle,K=this.strokeStyle,Z=this.font,ee=this.lineCap,fe=this.lineWidth,we=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=K,this.font=Z,this.lineCap=ee,this.lineWidth=fe,this.lineJoin=we},S=function(R,K,Z){for(var ee=0;ee<R.length;ee++)switch(R[ee].type){case"bct":R[ee].x2+=K,R[ee].y2+=Z;case"qct":R[ee].x1+=K,R[ee].y1+=Z;case"mt":case"lt":case"arc":default:R[ee].x+=K,R[ee].y+=Z}return R},F=function(R){return R.sort(function(K,Z){return K-Z})},T=function(R,K){for(var Z,ee,fe=this.fillStyle,we=this.strokeStyle,ve=this.lineCap,se=this.lineWidth,$e=Math.abs(se*this.ctx.transform.scaleX),Oe=this.lineJoin,Re=JSON.parse(JSON.stringify(this.path)),Ze=JSON.parse(JSON.stringify(this.path)),dt=[],Ee=0;Ee<Ze.length;Ee++)if(Ze[Ee].x!==void 0)for(var le=L.call(this,Ze[Ee]),xt=0;xt<le.length;xt+=1)dt.indexOf(le[xt])===-1&&dt.push(le[xt]);for(var Je=0;Je<dt.length;Je++)for(;this.pdf.internal.getNumberOfPages()<dt[Je];)x.call(this);if(F(dt),this.autoPaging)for(var We=dt[0],ie=dt[dt.length-1],de=We;de<ie+1;de++){this.pdf.setPage(de),this.fillStyle=fe,this.strokeStyle=we,this.lineCap=ve,this.lineWidth=$e,this.lineJoin=Oe;var me=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ve=de===1?this.posY+this.margin[0]:this.margin[0],Me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ue=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ye=de===1?0:Me+(de-2)*Ue;if(this.ctx.clip_path.length!==0){var pt=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(Z,this.posX+this.margin[3],-Ye+Ve+this.ctx.prevPageLastElemOffset),V.call(this,R,!0),this.path=pt}if(ee=JSON.parse(JSON.stringify(Re)),this.path=S(ee,this.posX+this.margin[3],-Ye+Ve+this.ctx.prevPageLastElemOffset),K===!1||de===0){var yt=(de>We||de<ie)&&_.call(this);yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],me,Ue,null).clip().discardPath()),V.call(this,R,K),yt&&this.pdf.restoreGraphicsState()}this.lineWidth=se}else this.lineWidth=$e,V.call(this,R,K),this.lineWidth=se;this.path=Re},V=function(R,K){if((R!=="stroke"||K||!w.call(this))&&(R==="stroke"||K||!g.call(this))){for(var Z,ee,fe=[],we=this.path,ve=0;ve<we.length;ve++){var se=we[ve];switch(se.type){case"begin":fe.push({begin:!0});break;case"close":fe.push({close:!0});break;case"mt":fe.push({start:se,deltas:[],abs:[]});break;case"lt":var $e=fe.length;if(we[ve-1]&&!isNaN(we[ve-1].x)&&(Z=[se.x-we[ve-1].x,se.y-we[ve-1].y],$e>0)){for(;$e>=0;$e--)if(fe[$e-1].close!==!0&&fe[$e-1].begin!==!0){fe[$e-1].deltas.push(Z),fe[$e-1].abs.push(se);break}}break;case"bct":Z=[se.x1-we[ve-1].x,se.y1-we[ve-1].y,se.x2-we[ve-1].x,se.y2-we[ve-1].y,se.x-we[ve-1].x,se.y-we[ve-1].y],fe[fe.length-1].deltas.push(Z);break;case"qct":var Oe=we[ve-1].x+2/3*(se.x1-we[ve-1].x),Re=we[ve-1].y+2/3*(se.y1-we[ve-1].y),Ze=se.x+2/3*(se.x1-se.x),dt=se.y+2/3*(se.y1-se.y),Ee=se.x,le=se.y;Z=[Oe-we[ve-1].x,Re-we[ve-1].y,Ze-we[ve-1].x,dt-we[ve-1].y,Ee-we[ve-1].x,le-we[ve-1].y],fe[fe.length-1].deltas.push(Z);break;case"arc":fe.push({deltas:[],abs:[],arc:!0}),Array.isArray(fe[fe.length-1].abs)&&fe[fe.length-1].abs.push(se)}}ee=K?null:R==="stroke"?"stroke":"fill";for(var xt=!1,Je=0;Je<fe.length;Je++)if(fe[Je].arc)for(var We=fe[Je].abs,ie=0;ie<We.length;ie++){var de=We[ie];de.type==="arc"?N.call(this,de.x,de.y,de.radius,de.startAngle,de.endAngle,de.counterclockwise,void 0,K,!xt):C.call(this,de.x,de.y),xt=!0}else if(fe[Je].close===!0)this.pdf.internal.out("h"),xt=!1;else if(fe[Je].begin!==!0){var me=fe[Je].start.x,Ve=fe[Je].start.y;D.call(this,fe[Je].deltas,me,Ve),xt=!0}ee&&k.call(this,ee),K&&M.call(this)}},U=function(R){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-Z;case"top":return R+K-Z;case"hanging":return R+K-2*Z;case"middle":return R+K/2-Z;case"ideographic":return R;case"alphabetic":default:return R}},$=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(K,Z){this.colorStops.push([K,Z])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var N=function(R,K,Z,ee,fe,we,ve,se,$e){for(var Oe=q.call(this,Z,ee,fe,we),Re=0;Re<Oe.length;Re++){var Ze=Oe[Re];Re===0&&($e?P.call(this,Ze.x1+R,Ze.y1+K):C.call(this,Ze.x1+R,Ze.y1+K)),re.call(this,R,K,Ze.x2,Ze.y2,Ze.x3,Ze.y3,Ze.x4,Ze.y4)}se?M.call(this):k.call(this,ve)},k=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},M=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(R,K){this.pdf.internal.out(r(R)+" "+n(K)+" m")},E=function(R){var K;switch(R.align){case"right":case"end":K="right";break;case"center":K="center";break;case"left":case"start":default:K="left"}var Z=this.pdf.getTextDimensions(R.text),ee=U.call(this,R.y),fe=$.call(this,ee)-Z.h,we=this.ctx.transform.applyToPoint(new a(R.x,ee)),ve=this.ctx.transform.decompose(),se=new l;se=(se=(se=se.multiply(ve.translate)).multiply(ve.skew)).multiply(ve.scale);for(var $e,Oe,Re,Ze=this.ctx.transform.applyToRectangle(new o(R.x,ee,Z.w,Z.h)),dt=se.applyToRectangle(new o(R.x,fe,Z.w,Z.h)),Ee=L.call(this,dt),le=[],xt=0;xt<Ee.length;xt+=1)le.indexOf(Ee[xt])===-1&&le.push(Ee[xt]);if(F(le),this.autoPaging)for(var Je=le[0],We=le[le.length-1],ie=Je;ie<We+1;ie++){this.pdf.setPage(ie);var de=ie===1?this.posY+this.margin[0]:this.margin[0],me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ve=this.pdf.internal.pageSize.height-this.margin[2],Me=Ve-this.margin[0],Ue=this.pdf.internal.pageSize.width-this.margin[1],Ye=Ue-this.margin[3],pt=ie===1?0:me+(ie-2)*Me;if(this.ctx.clip_path.length!==0){var yt=this.path;$e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S($e,this.posX+this.margin[3],-1*pt+de),V.call(this,"fill",!0),this.path=yt}var wt=S([JSON.parse(JSON.stringify(dt))],this.posX+this.margin[3],-pt+de+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(Oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Oe*R.scale),Re=this.lineWidth,this.lineWidth=Re*R.scale);var kt=this.autoPaging!=="text";if(kt||wt.y+wt.h<=Ve){if(kt||wt.y>=de&&wt.x<=Ue){var st=kt?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||Ue-wt.x)[0],Dt=S([JSON.parse(JSON.stringify(Ze))],this.posX+this.margin[3],-pt+de+this.ctx.prevPageLastElemOffset)[0],Pt=kt&&(ie>Je||ie<We)&&_.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ye,Me,null).clip().discardPath()),this.pdf.text(st,Dt.x,Dt.y,{angle:R.angle,align:K,renderingMode:R.renderingMode}),Pt&&this.pdf.restoreGraphicsState()}}else wt.y<Ve&&(this.ctx.prevPageLastElemOffset+=Ve-wt.y);R.scale>=.01&&(this.pdf.setFontSize(Oe),this.lineWidth=Re)}else R.scale>=.01&&(Oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Oe*R.scale),Re=this.lineWidth,this.lineWidth=Re*R.scale),this.pdf.text(R.text,we.x+this.posX,we.y+this.posY,{angle:R.angle,align:K,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(Oe),this.lineWidth=Re)},C=function(R,K,Z,ee){Z=Z||0,ee=ee||0,this.pdf.internal.out(r(R+Z)+" "+n(K+ee)+" l")},D=function(R,K,Z){return this.pdf.lines(R,K,Z,null,null)},re=function(R,K,Z,ee,fe,we,ve,se){this.pdf.internal.out([t(i(Z+R)),t(s(ee+K)),t(i(fe+R)),t(s(we+K)),t(i(ve+R)),t(s(se+K)),"c"].join(" "))},q=function(R,K,Z,ee){for(var fe=2*Math.PI,we=Math.PI/2;K>Z;)K-=fe;var ve=Math.abs(Z-K);ve<fe&&ee&&(ve=fe-ve);for(var se=[],$e=ee?-1:1,Oe=K;ve>1e-5;){var Re=Oe+$e*Math.min(ve,we);se.push(z.call(this,R,Oe,Re)),ve-=Math.abs(Re-Oe),Oe=Re}return se},z=function(R,K,Z){var ee=(Z-K)/2,fe=R*Math.cos(ee),we=R*Math.sin(ee),ve=fe,se=-we,$e=ve*ve+se*se,Oe=$e+ve*fe+se*we,Re=4/3*(Math.sqrt(2*$e*Oe)-Oe)/(ve*we-se*fe),Ze=ve-Re*se,dt=se+Re*ve,Ee=Ze,le=-dt,xt=ee+K,Je=Math.cos(xt),We=Math.sin(xt);return{x1:R*Math.cos(K),y1:R*Math.sin(K),x2:Ze*Je-dt*We,y2:Ze*We+dt*Je,x3:Ee*Je-le*We,y3:Ee*We+le*Je,x4:R*Math.cos(Z),y4:R*Math.sin(Z)}},Q=function(R){return 180*R/Math.PI},J=function(R,K,Z,ee,fe,we){var ve=R+.5*(Z-R),se=K+.5*(ee-K),$e=fe+.5*(Z-fe),Oe=we+.5*(ee-we),Re=Math.min(R,fe,ve,$e),Ze=Math.max(R,fe,ve,$e),dt=Math.min(K,we,se,Oe),Ee=Math.max(K,we,se,Oe);return new o(Re,dt,Ze-Re,Ee-dt)},ae=function(R,K,Z,ee,fe,we,ve,se){var $e,Oe,Re,Ze,dt,Ee,le,xt,Je,We,ie,de,me,Ve,Me=Z-R,Ue=ee-K,Ye=fe-Z,pt=we-ee,yt=ve-fe,wt=se-we;for(Oe=0;Oe<41;Oe++)Je=(le=(Re=R+($e=Oe/40)*Me)+$e*((dt=Z+$e*Ye)-Re))+$e*(dt+$e*(fe+$e*yt-dt)-le),We=(xt=(Ze=K+$e*Ue)+$e*((Ee=ee+$e*pt)-Ze))+$e*(Ee+$e*(we+$e*wt-Ee)-xt),Oe==0?(ie=Je,de=We,me=Je,Ve=We):(ie=Math.min(ie,Je),de=Math.min(de,We),me=Math.max(me,Je),Ve=Math.max(Ve,We));return new o(Math.round(ie),Math.round(de),Math.round(me-ie),Math.round(Ve-de))},be=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,K,Z=(R=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:K}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(zt.API),function(e){var t=function(s){var a,o,l,d,f,h,m,g,w,_;for(o=[],l=0,d=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;d>l;l+=4)(f=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(h=(f=((f=((f=((f=(f-(_=f%85))/85)-(w=f%85))/85)-(g=f%85))/85)-(m=f%85))/85)%85,o.push(h+33,m+33,g+33,w+33,_+33)):o.push(122);return function(L,x){for(var S=x;S>0;S--)L.pop()}(o,a.length),String.fromCharCode.apply(String,o)+"~>"},r=function(s){var a,o,l,d,f,h=String,m="length",g=255,w="charCodeAt",_="slice",L="replace";for(s[_](-2),s=s[_](0,-2)[L](/\s/g,"")[L]("z","!!!!!"),l=[],d=0,f=(s+=a="uuuuu"[_](s[m]%5||5))[m];f>d;d+=5)o=52200625*(s[w](d)-33)+614125*(s[w](d+1)-33)+7225*(s[w](d+2)-33)+85*(s[w](d+3)-33)+(s[w](d+4)-33),l.push(g&o>>24,g&o>>16,g&o>>8,g&o);return function(x,S){for(var F=S;F>0;F--)x.pop()}(l,a[m]),h.fromCharCode.apply(h,l)},n=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var o="",l=0;l<s.length;l+=2)o+=String.fromCharCode("0x"+(s[l]+s[l+1]));return o},i=function(s){for(var a=new Uint8Array(s.length),o=s.length;o--;)a[o]=s.charCodeAt(o);return s=(a=I1(a)).reduce(function(l,d){return l+String.fromCharCode(d)},"")};e.processDataByFilters=function(s,a){var o=0,l=s||"",d=[];for(typeof(a=a||[])=="string"&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:l,reverseChain:d.reverse().join(" ")}}}(zt.API),function(e){e.loadFile=function(t,r,n){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,d,f){var h=new XMLHttpRequest,m=0,g=function(w){var _=w.length,L=[],x=String.fromCharCode;for(m=0;m<_;m+=1)L.push(x(255&w.charCodeAt(m)));return L.join("")};if(h.open("GET",l,!d),h.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(h.onload=function(){h.status===200?f(g(this.responseText)):f(void 0)}),h.send(null),d&&h.status===200)return g(h.responseText)}(i,s,a)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(zt.API),function(e){function t(){return(Ut.html2canvas?Promise.resolve(Ut.html2canvas):dh(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function r(){return(Ut.DOMPurify?Promise.resolve(Ut.DOMPurify):dh(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var o=gr(a);return o==="undefined"?"undefined":o==="string"||a instanceof String?"string":o==="number"||a instanceof Number?"number":o==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":o==="object"?"object":"unknown"},i=function(a,o){var l=document.createElement(a);for(var d in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[d]=o.style[d];return l},s=function a(o){var l=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),d=a.convert(Promise.resolve(),l);return d=(d=d.setProgress(1,a,1,[a])).set(o)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,o){return a.__proto__=o||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,o){return this.then(function(){switch(o=o||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(r).then(function(l){return this.set({src:i("div",{innerHTML:a,dompurify:l})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(d,f){for(var h=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),m=d.firstChild;m;m=m.nextSibling)f!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||h.appendChild(l(m,f));return d.nodeType===1&&(d.nodeName==="CANVAS"?(h.width=d.width,h.height=d.height,h.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(h.value=d.value),h.addEventListener("load",function(){h.scrollTop=d.scrollTop,h.scrollLeft=d.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(o){var l=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=d,d)for(var m=0;m<d.length;++m){var g=d[m],w=g.src.find(function(_){return _.format==="truetype"});w&&l.addFont(w.url,g.ref.name,g.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,l.context2d.save(!0),o(this.prop.container,h)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(a,o):this.outputPdf(a,o)},s.prototype.outputPdf=function(a,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,o)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(n(a)!=="object")return this;var o=Object.keys(a||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=a[l]};switch(l){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[l]=a[l]}}},this);return this.then(function(){return this.thenList(o)})},s.prototype.get=function(a,o){return this.then(function(){var l=a in s.template.prop?this.prop[a]:this.opt[a];return o?o(l):l})},s.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function o(l,d){return Math.floor(l*d/72*96)}return this.then(function(){(a=a||zt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:o(a.inner.width,a.k),height:o(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,o,l,d){return a!=null&&(this.progress.val=a),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,o,l,d){return this.setProgress(a?this.progress.val+a:null,o||null,l?this.progress.n+l:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(a,o){var l=this;return this.thenCore(a,o,function(d,f){return l.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(h){return l.updateProgress(null,d),h}).then(d,f).then(function(h){return l.updateProgress(1),h})})},s.prototype.thenCore=function(a,o,l){l=l||Promise.prototype.then,a&&(a=a.bind(this)),o&&(o=o.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),f=l.call(d,a,o);return s.convert(f,this.__proto__)},s.prototype.thenExternal=function(a,o){return Promise.prototype.then.call(this,a,o)},s.prototype.thenList=function(a){var o=this;return a.forEach(function(l){o=o.thenCore(l)}),o},s.prototype.catch=function(a){a&&(a=a.bind(this));var o=Promise.prototype.catch.call(this,a);return s.convert(o,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,zt.getPageSize=function(a,o,l){if(gr(a)==="object"){var d=a;a=d.orientation,o=d.unit||o,l=d.format||l}o=o||"mm",l=l||"a4",a=(""+(a||"P")).toLowerCase();var f,h=(""+l).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+o}var g,w=0,_=0;if(m.hasOwnProperty(h))w=m[h][1]/f,_=m[h][0]/f;else try{w=l[1],_=l[0]}catch{throw new Error("Invalid format: "+l)}if(a==="p"||a==="portrait")a="p",_>w&&(g=_,_=w,w=g);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",w>_&&(g=_,_=w,w=g)}return{width:_,height:w,unit:o,k:f,orientation:a}},e.html=function(a,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(z1):null;var l=new s(o);return o.worker?l:l.from(a).doCallback()}}(zt.API),zt.API.addJS=function(e){return G5=e,this.internal.events.subscribe("postPutResources",function(){ud=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ud+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),K5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+G5+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){ud!==void 0&&K5!==void 0&&this.internal.out("/Names <</JavaScript "+ud+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=n.exec(a);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,f=[];for(s=0;s<d;s++){var h=r.internal.newObject();f.push(h);var m=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<f.length;s++)r.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(zt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,i,s,a,o){var l,d=this.decode.DCT_DECODE,f=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(h){for(var m,g=256*h.charCodeAt(4)+h.charCodeAt(5),w=h.length,_={width:0,height:0,numcomponents:1},L=4;L<w;L+=2){if(L+=g,t.indexOf(h.charCodeAt(L+1))!==-1){m=256*h.charCodeAt(L+5)+h.charCodeAt(L+6),_={width:256*h.charCodeAt(L+7)+h.charCodeAt(L+8),height:m,numcomponents:h.charCodeAt(L+9)};break}g=256*h.charCodeAt(L+2)+h.charCodeAt(L+3)}return _}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}f={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:d,index:n,alias:i}}return f}}(zt.API);var su,cd,Q5,J5,Y5,v7=function(){var e,t,r;function n(s){var a,o,l,d,f,h,m,g,w,_,L,x,S,F;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(a=this.readUInt32(),w=(function(){var T,V;for(V=[],T=0;T<4;++T)V.push(String.fromCharCode(this.data[this.pos++]));return V}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),d=this.readUInt16()||100,h.delay=1e3*f/d,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(w==="fdAT"&&(this.pos+=4,a-=4),s=(h!=null?h.data:void 0)||this.imgData,x=0;0<=a?x<a:x>a;0<=a?++x:--x)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((_=l-this.transparency.indexed.length)>0)for(S=0;0<=_?S<_:S>_;0<=_?++S:--S)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":m=(L=this.read(a)).indexOf(0),g=String.fromCharCode.apply(String,L.slice(0,m)),this.text[g]=String.fromCharCode.apply(String,L.slice(m+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(F=this.colorType)===4||F===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var a,o;for(o=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*a),l=0,d=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function f(h,m,g,w){var _,L,x,S,F,T,V,U,$,N,k,M,P,E,C,D,re,q,z,Q,J,ae=Math.ceil((d.width-h)/g),be=Math.ceil((d.height-m)/w),R=d.width==ae&&d.height==be;for(E=a*ae,M=R?o:new Uint8Array(E*be),T=s.length,P=0,L=0;P<be&&l<T;){switch(s[l++]){case 0:for(S=re=0;re<E;S=re+=1)M[L++]=s[l++];break;case 1:for(S=q=0;q<E;S=q+=1)_=s[l++],F=S<a?0:M[L-a],M[L++]=(_+F)%256;break;case 2:for(S=z=0;z<E;S=z+=1)_=s[l++],x=(S-S%a)/a,C=P&&M[(P-1)*E+x*a+S%a],M[L++]=(C+_)%256;break;case 3:for(S=Q=0;Q<E;S=Q+=1)_=s[l++],x=(S-S%a)/a,F=S<a?0:M[L-a],C=P&&M[(P-1)*E+x*a+S%a],M[L++]=(_+Math.floor((F+C)/2))%256;break;case 4:for(S=J=0;J<E;S=J+=1)_=s[l++],x=(S-S%a)/a,F=S<a?0:M[L-a],P===0?C=D=0:(C=M[(P-1)*E+x*a+S%a],D=x&&M[(P-1)*E+(x-1)*a+S%a]),V=F+C-D,U=Math.abs(V-F),N=Math.abs(V-C),k=Math.abs(V-D),$=U<=N&&U<=k?F:N<=k?C:D,M[L++]=(_+$)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!R){var K=((m+P*w)*d.width+h)*a,Z=P*E;for(S=0;S<ae;S+=1){for(var ee=0;ee<a;ee+=1)o[K++]=M[Z++];K+=(g-1)*a}}P++}}return s=Q_(s),d.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),o},n.prototype.decodePalette=function(){var s,a,o,l,d,f,h,m,g;for(o=this.palette,f=this.transparency.indexed||[],d=new Uint8Array((f.length||0)+o.length),l=0,s=0,a=h=0,m=o.length;h<m;a=h+=3)d[l++]=o[a],d[l++]=o[a+1],d[l++]=o[a+2],d[l++]=(g=f[s++])!=null?g:255;return d},n.prototype.copyToImageData=function(s,a){var o,l,d,f,h,m,g,w,_,L,x;if(l=this.colors,_=null,o=this.hasAlphaChannel,this.palette.length&&(_=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),l=4,o=!0),w=(d=s.data||s).length,h=_||a,f=m=0,l===1)for(;f<w;)g=_?4*a[f/4]:m,L=h[g++],d[f++]=L,d[f++]=L,d[f++]=L,d[f++]=o?h[g++]:255,m=g;else for(;f<w;)g=_?4*a[f/4]:m,d[f++]=h[g++],d[f++]=h[g++],d[f++]=h[g++],d[f++]=o?h[g++]:255,m=g},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(Ut)==="[object Window]"){try{t=Ut.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(s){var a;if(i()===!0)return r.width=s.width,r.height=s.height,r.clearRect(0,0,s.width,s.height),r.putImageData(s,0,0),(a=new Image).src=t.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var a,o,l,d,f,h,m,g;if(this.animation){for(g=[],o=f=0,h=(m=this.animation.frames).length;f<h;o=++f)a=m[o],l=s.createImageData(a.width,a.height),d=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(l,d),a.imageData=l,g.push(a.image=e(l));return g}},n.prototype.renderFrame=function(s,a){var o,l,d;return o=(l=this.animation.frames)[a],d=l[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?s.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&s.putImageData(d.imageData,d.xOffset,d.yOffset),o.blendOp===0&&s.clearRect(o.xOffset,o.yOffset,o.width,o.height),s.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(s){var a,o,l,d,f,h,m=this;return o=0,h=this.animation,d=h.numFrames,l=h.frames,f=h.numPlays,(a=function(){var g,w;if(g=o++%d,w=l[g],m.renderFrame(s,g),d>1&&o/d<f)return m.animation._timeout=setTimeout(a,w.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var a,o;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(o=a.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),a.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function y7(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],s=i>>7,a=1<<(7&i)+1;e[t++],e[t++];var o=null,l=null;s&&(o=t,l=a,t+=3*a);var d=!0,f=[],h=0,m=null,g=0,w=null;for(this.width=r,this.height=n;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,w=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((P=e[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var _=e[t++];h=e[t++]|e[t++]<<8,m=e[t++],!(1&_)&&(m=null),g=_>>2&7,t++;break;case 254:for(;;){if(!((P=e[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var L=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,F=e[t++]|e[t++]<<8,T=e[t++],V=T>>6&1,U=1<<(7&T)+1,$=o,N=l,k=!1;T>>7&&(k=!0,$=t,N=U,t+=3*U);var M=t;for(t++;;){var P;if(!((P=e[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}f.push({x:L,y:x,width:S,height:F,has_local_palette:k,palette_offset:$,palette_size:N,data_offset:M,data_length:t-M,transparent_index:m,interlaced:!!V,delay:h,disposal:g});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return w},this.frameInfo=function(E){if(E<0||E>=f.length)throw new Error("Frame index out of range.");return f[E]},this.decodeAndBlitFrameBGRA=function(E,C){var D=this.frameInfo(E),re=D.width*D.height,q=new Uint8Array(re);X5(e,D.data_offset,q,re);var z=D.palette_offset,Q=D.transparent_index;Q===null&&(Q=256);var J=D.width,ae=r-J,be=J,R=4*(D.y*r+D.x),K=4*((D.y+D.height)*r+D.x),Z=R,ee=4*ae;D.interlaced===!0&&(ee+=4*r*7);for(var fe=8,we=0,ve=q.length;we<ve;++we){var se=q[we];if(be===0&&(be=J,(Z+=ee)>=K&&(ee=4*ae+4*r*(fe-1),Z=R+(J+ae)*(fe<<1),fe>>=1)),se===Q)Z+=4;else{var $e=e[z+3*se],Oe=e[z+3*se+1],Re=e[z+3*se+2];C[Z++]=Re,C[Z++]=Oe,C[Z++]=$e,C[Z++]=255}--be}},this.decodeAndBlitFrameRGBA=function(E,C){var D=this.frameInfo(E),re=D.width*D.height,q=new Uint8Array(re);X5(e,D.data_offset,q,re);var z=D.palette_offset,Q=D.transparent_index;Q===null&&(Q=256);var J=D.width,ae=r-J,be=J,R=4*(D.y*r+D.x),K=4*((D.y+D.height)*r+D.x),Z=R,ee=4*ae;D.interlaced===!0&&(ee+=4*r*7);for(var fe=8,we=0,ve=q.length;we<ve;++we){var se=q[we];if(be===0&&(be=J,(Z+=ee)>=K&&(ee=4*ae+4*r*(fe-1),Z=R+(J+ae)*(fe<<1),fe>>=1)),se===Q)Z+=4;else{var $e=e[z+3*se],Oe=e[z+3*se+1],Re=e[z+3*se+2];C[Z++]=$e,C[Z++]=Oe,C[Z++]=Re,C[Z++]=255}--be}}}function X5(e,t,r,n){for(var i=e[t++],s=1<<i,a=s+1,o=a+1,l=i+1,d=(1<<l)-1,f=0,h=0,m=0,g=e[t++],w=new Int32Array(4096),_=null;;){for(;f<16&&g!==0;)h|=e[t++]<<f,f+=8,g===1?g=e[t++]:--g;if(f<l)break;var L=h&d;if(h>>=l,f-=l,L!==s){if(L===a)break;for(var x=L<o?L:_,S=0,F=x;F>s;)F=w[F]>>8,++S;var T=F;if(m+S+(x!==L?1:0)>n)return void jr.log("Warning, gif stream longer than expected.");r[m++]=T;var V=m+=S;for(x!==L&&(r[m++]=T),F=x;S--;)F=w[F],r[--V]=255&F,F>>=8;_!==null&&o<4096&&(w[o++]=_<<8|T,o>=d+1&&l<12&&(++l,d=d<<1|1)),_=L}else o=a+1,d=(1<<(l=i+1))-1,_=null}return m!==n&&jr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function y0(e){var t,r,n,i,s,a=Math.floor,o=new Array(64),l=new Array(64),d=new Array(64),f=new Array(64),h=new Array(65535),m=new Array(65535),g=new Array(64),w=new Array(64),_=[],L=0,x=7,S=new Array(64),F=new Array(64),T=new Array(64),V=new Array(256),U=new Array(2048),$=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],N=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],E=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],re=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function q(R,K){for(var Z=0,ee=0,fe=new Array,we=1;we<=16;we++){for(var ve=1;ve<=R[we];ve++)fe[K[ee]]=[],fe[K[ee]][0]=Z,fe[K[ee]][1]=we,ee++,Z++;Z*=2}return fe}function z(R){for(var K=R[0],Z=R[1]-1;Z>=0;)K&1<<Z&&(L|=1<<x),Z--,--x<0&&(L==255?(Q(255),Q(0)):Q(L),x=7,L=0)}function Q(R){_.push(R)}function J(R){Q(R>>8&255),Q(255&R)}function ae(R,K,Z,ee,fe){for(var we,ve=fe[0],se=fe[240],$e=function(We,ie){var de,me,Ve,Me,Ue,Ye,pt,yt,wt,kt,st=0;for(wt=0;wt<8;++wt){de=We[st],me=We[st+1],Ve=We[st+2],Me=We[st+3],Ue=We[st+4],Ye=We[st+5],pt=We[st+6];var Dt=de+(yt=We[st+7]),Pt=de-yt,ar=me+pt,Wt=me-pt,gt=Ve+Ye,an=Ve-Ye,Kt=Me+Ue,si=Me-Ue,ot=Dt+Kt,Pn=Dt-Kt,Kr=ar+gt,ir=ar-gt;We[st]=ot+Kr,We[st+4]=ot-Kr;var It=.707106781*(ir+Pn);We[st+2]=Pn+It,We[st+6]=Pn-It;var Yt=.382683433*((ot=si+an)-(ir=Wt+Pt)),Ji=.5411961*ot+Yt,wr=1.306562965*ir+Yt,Lr=.707106781*(Kr=an+Wt),Fn=Pt+Lr,Ot=Pt-Lr;We[st+5]=Ot+Ji,We[st+3]=Ot-Ji,We[st+1]=Fn+wr,We[st+7]=Fn-wr,st+=8}for(st=0,wt=0;wt<8;++wt){de=We[st],me=We[st+8],Ve=We[st+16],Me=We[st+24],Ue=We[st+32],Ye=We[st+40],pt=We[st+48];var Dn=de+(yt=We[st+56]),sr=de-yt,or=me+pt,Gr=me-pt,Er=Ve+Ye,Sn=Ve-Ye,ys=Me+Ue,xs=Me-Ue,on=Dn+ys,jn=Dn-ys,ln=or+Er,ai=or-Er;We[st]=on+ln,We[st+32]=on-ln;var pi=.707106781*(ai+jn);We[st+16]=jn+pi,We[st+48]=jn-pi;var yn=.382683433*((on=xs+Sn)-(ai=Gr+sr)),Gs=.5411961*on+yn,mi=1.306562965*ai+yn,pa=.707106781*(ln=Sn+Gr),Qs=sr+pa,yr=sr-pa;We[st+40]=yr+Gs,We[st+24]=yr-Gs,We[st+8]=Qs+mi,We[st+56]=Qs-mi,st++}for(wt=0;wt<64;++wt)kt=We[wt]*ie[wt],g[wt]=kt>0?kt+.5|0:kt-.5|0;return g}(R,K),Oe=0;Oe<64;++Oe)w[$[Oe]]=$e[Oe];var Re=w[0]-Z;Z=w[0],Re==0?z(ee[0]):(z(ee[m[we=32767+Re]]),z(h[we]));for(var Ze=63;Ze>0&&w[Ze]==0;)Ze--;if(Ze==0)return z(ve),Z;for(var dt,Ee=1;Ee<=Ze;){for(var le=Ee;w[Ee]==0&&Ee<=Ze;)++Ee;var xt=Ee-le;if(xt>=16){dt=xt>>4;for(var Je=1;Je<=dt;++Je)z(se);xt&=15}we=32767+w[Ee],z(fe[(xt<<4)+m[we]]),z(h[we]),Ee++}return Ze!=63&&z(ve),Z}function be(R){R=Math.min(Math.max(R,1),100),s!=R&&(function(K){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ee=0;ee<64;ee++){var fe=a((Z[ee]*K+50)/100);fe=Math.min(Math.max(fe,1),255),o[$[ee]]=fe}for(var we=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ve=0;ve<64;ve++){var se=a((we[ve]*K+50)/100);se=Math.min(Math.max(se,1),255),l[$[ve]]=se}for(var $e=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Oe=0,Re=0;Re<8;Re++)for(var Ze=0;Ze<8;Ze++)d[Oe]=1/(o[$[Oe]]*$e[Re]*$e[Ze]*8),f[Oe]=1/(l[$[Oe]]*$e[Re]*$e[Ze]*8),Oe++}(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),s=R)}this.encode=function(R,K){K&&be(K),_=new Array,L=0,x=7,J(65496),J(65504),J(16),Q(74),Q(70),Q(73),Q(70),Q(0),Q(1),Q(1),Q(0),J(1),J(1),Q(0),Q(0),function(){J(65499),J(132),Q(0);for(var me=0;me<64;me++)Q(o[me]);Q(1);for(var Ve=0;Ve<64;Ve++)Q(l[Ve])}(),function(me,Ve){J(65472),J(17),Q(8),J(Ve),J(me),Q(3),Q(1),Q(17),Q(0),Q(2),Q(17),Q(1),Q(3),Q(17),Q(1)}(R.width,R.height),function(){J(65476),J(418),Q(0);for(var me=0;me<16;me++)Q(N[me+1]);for(var Ve=0;Ve<=11;Ve++)Q(k[Ve]);Q(16);for(var Me=0;Me<16;Me++)Q(M[Me+1]);for(var Ue=0;Ue<=161;Ue++)Q(P[Ue]);Q(1);for(var Ye=0;Ye<16;Ye++)Q(E[Ye+1]);for(var pt=0;pt<=11;pt++)Q(C[pt]);Q(17);for(var yt=0;yt<16;yt++)Q(D[yt+1]);for(var wt=0;wt<=161;wt++)Q(re[wt])}(),J(65498),J(12),Q(3),Q(1),Q(0),Q(2),Q(17),Q(3),Q(17),Q(0),Q(63),Q(0);var Z=0,ee=0,fe=0;L=0,x=7,this.encode.displayName="_encode_";for(var we,ve,se,$e,Oe,Re,Ze,dt,Ee,le=R.data,xt=R.width,Je=R.height,We=4*xt,ie=0;ie<Je;){for(we=0;we<We;){for(Oe=We*ie+we,Ze=-1,dt=0,Ee=0;Ee<64;Ee++)Re=Oe+(dt=Ee>>3)*We+(Ze=4*(7&Ee)),ie+dt>=Je&&(Re-=We*(ie+1+dt-Je)),we+Ze>=We&&(Re-=we+Ze-We+4),ve=le[Re++],se=le[Re++],$e=le[Re++],S[Ee]=(U[ve]+U[se+256>>0]+U[$e+512>>0]>>16)-128,F[Ee]=(U[ve+768>>0]+U[se+1024>>0]+U[$e+1280>>0]>>16)-128,T[Ee]=(U[ve+1280>>0]+U[se+1536>>0]+U[$e+1792>>0]>>16)-128;Z=ae(S,d,Z,t,n),ee=ae(F,f,ee,r,i),fe=ae(T,f,fe,r,i),we+=32}ie+=8}if(x>=0){var de=[];de[1]=x+1,de[0]=(1<<x+1)-1,z(de)}return J(65497),new Uint8Array(_)},e=e||50,function(){for(var R=String.fromCharCode,K=0;K<256;K++)V[K]=R(K)}(),t=q(N,k),r=q(E,C),n=q(M,P),i=q(D,re),function(){for(var R=1,K=2,Z=1;Z<=15;Z++){for(var ee=R;ee<K;ee++)m[32767+ee]=Z,h[32767+ee]=[],h[32767+ee][1]=Z,h[32767+ee][0]=ee;for(var fe=-(K-1);fe<=-R;fe++)m[32767+fe]=Z,h[32767+fe]=[],h[32767+fe][1]=Z,h[32767+fe][0]=K-1+fe;R<<=1,K<<=1}}(),function(){for(var R=0;R<256;R++)U[R]=19595*R,U[R+256>>0]=38470*R,U[R+512>>0]=7471*R+32768,U[R+768>>0]=-11059*R,U[R+1024>>0]=-21709*R,U[R+1280>>0]=32768*R+8421375,U[R+1536>>0]=-27439*R,U[R+1792>>0]=-5329*R}(),be(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Os(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Z5(e){function t(N){if(!N)throw Error("assert :P")}function r(N,k,M){for(var P=0;4>P;P++)if(N[k+P]!=M.charCodeAt(P))return!0;return!1}function n(N,k,M,P,E){for(var C=0;C<E;C++)N[k+C]=M[P+C]}function i(N,k,M,P){for(var E=0;E<P;E++)N[k+E]=M}function s(N){return new Int32Array(N)}function a(N,k){for(var M=[],P=0;P<N;P++)M.push(new k);return M}function o(N,k){var M=[];return function P(E,C,D){for(var re=D[C],q=0;q<re&&(E.push(D.length>C+1?[]:new k),!(D.length<C+1));q++)P(E[q],C+1,D)}(M,0,N),M}var l=function(){var N=this;function k(c,v){for(var j=1<<v-1>>>0;c&j;)j>>>=1;return j?(c&j-1)+j:c}function M(c,v,j,I,W){t(!(I%j));do c[v+(I-=j)]=W;while(0<I)}function P(c,v,j,I,W){if(t(2328>=W),512>=W)var Y=s(512);else if((Y=s(W))==null)return 0;return function(X,te,ne,ue,Se,ze){var Be,Ie,rt=te,Ge=1<<ne,je=s(16),Le=s(16);for(t(Se!=0),t(ue!=null),t(X!=null),t(0<ne),Ie=0;Ie<Se;++Ie){if(15<ue[Ie])return 0;++je[ue[Ie]]}if(je[0]==Se)return 0;for(Le[1]=0,Be=1;15>Be;++Be){if(je[Be]>1<<Be)return 0;Le[Be+1]=Le[Be]+je[Be]}for(Ie=0;Ie<Se;++Ie)Be=ue[Ie],0<ue[Ie]&&(ze[Le[Be]++]=Ie);if(Le[15]==1)return(ue=new E).g=0,ue.value=ze[0],M(X,rt,1,Ge,ue),Ge;var et,it=-1,tt=Ge-1,jt=0,bt=1,Tt=1,Nt=1<<ne;for(Ie=0,Be=1,Se=2;Be<=ne;++Be,Se<<=1){if(bt+=Tt<<=1,0>(Tt-=je[Be]))return 0;for(;0<je[Be];--je[Be])(ue=new E).g=Be,ue.value=ze[Ie++],M(X,rt+jt,Se,Nt,ue),jt=k(jt,Be)}for(Be=ne+1,Se=2;15>=Be;++Be,Se<<=1){if(bt+=Tt<<=1,0>(Tt-=je[Be]))return 0;for(;0<je[Be];--je[Be]){if(ue=new E,(jt&tt)!=it){for(rt+=Nt,et=1<<(it=Be)-ne;15>it&&!(0>=(et-=je[it]));)++it,et<<=1;Ge+=Nt=1<<(et=it-ne),X[te+(it=jt&tt)].g=et+ne,X[te+it].value=rt-te-it}ue.g=Be-ne,ue.value=ze[Ie++],M(X,rt+(jt>>ne),Se,Nt,ue),jt=k(jt,Be)}}return bt!=2*Le[15]-1?0:Ge}(c,v,j,I,W,Y)}function E(){this.value=this.g=0}function C(){this.value=this.g=0}function D(){this.G=a(5,E),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(qr,C)}function re(c,v,j,I){t(c!=null),t(v!=null),t(2147483648>I),c.Ca=254,c.I=0,c.b=-8,c.Ka=0,c.oa=v,c.pa=j,c.Jd=v,c.Yc=j+I,c.Zc=4<=I?j+I-4+1:j,we(c)}function q(c,v){for(var j=0;0<v--;)j|=se(c,128)<<v;return j}function z(c,v){var j=q(c,v);return ve(c)?-j:j}function Q(c,v,j,I){var W,Y=0;for(t(c!=null),t(v!=null),t(4294967288>I),c.Sb=I,c.Ra=0,c.u=0,c.h=0,4<I&&(I=4),W=0;W<I;++W)Y+=v[j+W]<<8*W;c.Ra=Y,c.bb=I,c.oa=v,c.pa=j}function J(c){for(;8<=c.u&&c.bb<c.Sb;)c.Ra>>>=8,c.Ra+=c.oa[c.pa+c.bb]<<Es-8>>>0,++c.bb,c.u-=8;Z(c)&&(c.h=1,c.u=0)}function ae(c,v){if(t(0<=v),!c.h&&v<=xr){var j=K(c)&Bn[v];return c.u+=v,J(c),j}return c.h=1,c.u=0}function be(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function R(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(c){return c.Ra>>>(c.u&Es-1)>>>0}function Z(c){return t(c.bb<=c.Sb),c.h||c.bb==c.Sb&&c.u>Es}function ee(c,v){c.u=v,c.h=Z(c)}function fe(c){c.u>=_n&&(t(c.u>=_n),J(c))}function we(c){t(c!=null&&c.oa!=null),c.pa<c.Zc?(c.I=(c.oa[c.pa++]|c.I<<8)>>>0,c.b+=8):(t(c!=null&&c.oa!=null),c.pa<c.Yc?(c.b+=8,c.I=c.oa[c.pa++]|c.I<<8):c.Ka?c.b=0:(c.I<<=8,c.b+=8,c.Ka=1))}function ve(c){return q(c,1)}function se(c,v){var j=c.Ca;0>c.b&&we(c);var I=c.b,W=j*v>>>8,Y=(c.I>>>I>W)+0;for(Y?(j-=W,c.I-=W+1<<I>>>0):j=W+1,I=j,W=0;256<=I;)W+=8,I>>=8;return I=7^W+Un[I],c.b-=I,c.Ca=(j<<I)-1,Y}function $e(c,v,j){c[v+0]=j>>24&255,c[v+1]=j>>16&255,c[v+2]=j>>8&255,c[v+3]=j>>0&255}function Oe(c,v){return c[v+0]<<0|c[v+1]<<8}function Re(c,v){return Oe(c,v)|c[v+2]<<16}function Ze(c,v){return Oe(c,v)|Oe(c,v+2)<<16}function dt(c,v){var j=1<<v;return t(c!=null),t(0<v),c.X=s(j),c.X==null?0:(c.Mb=32-v,c.Xa=v,1)}function Ee(c,v){t(c!=null),t(v!=null),t(c.Xa==v.Xa),n(v.X,0,c.X,0,1<<v.Xa)}function le(){this.X=[],this.Xa=this.Mb=0}function xt(c,v,j,I){t(j!=null),t(I!=null);var W=j[0],Y=I[0];return W==0&&(W=(c*Y+v/2)/v),Y==0&&(Y=(v*W+c/2)/c),0>=W||0>=Y?0:(j[0]=W,I[0]=Y,1)}function Je(c,v){return c+(1<<v)-1>>>v}function We(c,v){return((4278255360&c)+(4278255360&v)>>>0&4278255360)+((16711935&c)+(16711935&v)>>>0&16711935)>>>0}function ie(c,v){N[v]=function(j,I,W,Y,X,te,ne){var ue;for(ue=0;ue<X;++ue){var Se=N[c](te[ne+ue-1],W,Y+ue);te[ne+ue]=We(j[I+ue],Se)}}}function de(){this.ud=this.hd=this.jd=0}function me(c,v){return((4278124286&(c^v))>>>1)+(c&v)>>>0}function Ve(c){return 0<=c&&256>c?c:0>c?0:255<c?255:void 0}function Me(c,v){return Ve(c+(c-v+.5>>1))}function Ue(c,v,j){return Math.abs(v-j)-Math.abs(c-j)}function Ye(c,v,j,I,W,Y,X){for(I=Y[X-1],j=0;j<W;++j)Y[X+j]=I=We(c[v+j],I)}function pt(c,v,j,I,W){var Y;for(Y=0;Y<j;++Y){var X=c[v+Y],te=X>>8&255,ne=16711935&(ne=(ne=16711935&X)+((te<<16)+te));I[W+Y]=(4278255360&X)+ne>>>0}}function yt(c,v){v.jd=c>>0&255,v.hd=c>>8&255,v.ud=c>>16&255}function wt(c,v,j,I,W,Y){var X;for(X=0;X<I;++X){var te=v[j+X],ne=te>>>8,ue=te,Se=255&(Se=(Se=te>>>16)+((c.jd<<24>>24)*(ne<<24>>24)>>>5));ue=255&(ue=(ue=ue+((c.hd<<24>>24)*(ne<<24>>24)>>>5))+((c.ud<<24>>24)*(Se<<24>>24)>>>5)),W[Y+X]=(4278255360&te)+(Se<<16)+ue}}function kt(c,v,j,I,W){N[v]=function(Y,X,te,ne,ue,Se,ze,Be,Ie){for(ne=ze;ne<Be;++ne)for(ze=0;ze<Ie;++ze)ue[Se++]=W(te[I(Y[X++])])},N[c]=function(Y,X,te,ne,ue,Se,ze){var Be=8>>Y.b,Ie=Y.Ea,rt=Y.K[0],Ge=Y.w;if(8>Be)for(Y=(1<<Y.b)-1,Ge=(1<<Be)-1;X<te;++X){var je,Le=0;for(je=0;je<Ie;++je)je&Y||(Le=I(ne[ue++])),Se[ze++]=W(rt[Le&Ge]),Le>>=Be}else N["VP8LMapColor"+j](ne,ue,rt,Ge,Se,ze,X,te,Ie)}}function st(c,v,j,I,W){for(j=v+j;v<j;){var Y=c[v++];I[W++]=Y>>16&255,I[W++]=Y>>8&255,I[W++]=Y>>0&255}}function Dt(c,v,j,I,W){for(j=v+j;v<j;){var Y=c[v++];I[W++]=Y>>16&255,I[W++]=Y>>8&255,I[W++]=Y>>0&255,I[W++]=Y>>24&255}}function Pt(c,v,j,I,W){for(j=v+j;v<j;){var Y=(X=c[v++])>>16&240|X>>12&15,X=X>>0&240|X>>28&15;I[W++]=Y,I[W++]=X}}function ar(c,v,j,I,W){for(j=v+j;v<j;){var Y=(X=c[v++])>>16&248|X>>13&7,X=X>>5&224|X>>3&31;I[W++]=Y,I[W++]=X}}function Wt(c,v,j,I,W){for(j=v+j;v<j;){var Y=c[v++];I[W++]=Y>>0&255,I[W++]=Y>>8&255,I[W++]=Y>>16&255}}function gt(c,v,j,I,W,Y){if(Y==0)for(j=v+j;v<j;)$e(I,((Y=c[v++])[0]>>24|Y[1]>>8&65280|Y[2]<<8&16711680|Y[3]<<24)>>>0),W+=32;else n(I,W,c,v,j)}function an(c,v){N[v][0]=N[c+"0"],N[v][1]=N[c+"1"],N[v][2]=N[c+"2"],N[v][3]=N[c+"3"],N[v][4]=N[c+"4"],N[v][5]=N[c+"5"],N[v][6]=N[c+"6"],N[v][7]=N[c+"7"],N[v][8]=N[c+"8"],N[v][9]=N[c+"9"],N[v][10]=N[c+"10"],N[v][11]=N[c+"11"],N[v][12]=N[c+"12"],N[v][13]=N[c+"13"],N[v][14]=N[c+"0"],N[v][15]=N[c+"0"]}function Kt(c){return c==np||c==ip||c==Lf||c==sp}function si(){this.eb=[],this.size=this.A=this.fb=0}function ot(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Pn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new si,this.f.kb=new ot,this.sd=null}function Kr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ir(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function It(c){return alert("todo:WebPSamplerProcessPlane"),c.T}function Yt(c,v){var j=c.T,I=v.ba.f.RGBA,W=I.eb,Y=I.fb+c.ka*I.A,X=os[v.ba.S],te=c.y,ne=c.O,ue=c.f,Se=c.N,ze=c.ea,Be=c.W,Ie=v.cc,rt=v.dc,Ge=v.Mc,je=v.Nc,Le=c.ka,et=c.ka+c.T,it=c.U,tt=it+1>>1;for(Le==0?X(te,ne,null,null,ue,Se,ze,Be,ue,Se,ze,Be,W,Y,null,null,it):(X(v.ec,v.fc,te,ne,Ie,rt,Ge,je,ue,Se,ze,Be,W,Y-I.A,W,Y,it),++j);Le+2<et;Le+=2)Ie=ue,rt=Se,Ge=ze,je=Be,Se+=c.Rc,Be+=c.Rc,Y+=2*I.A,X(te,(ne+=2*c.fa)-c.fa,te,ne,Ie,rt,Ge,je,ue,Se,ze,Be,W,Y-I.A,W,Y,it);return ne+=c.fa,c.j+et<c.o?(n(v.ec,v.fc,te,ne,it),n(v.cc,v.dc,ue,Se,tt),n(v.Mc,v.Nc,ze,Be,tt),j--):1&et||X(te,ne,null,null,ue,Se,ze,Be,ue,Se,ze,Be,W,Y+I.A,null,null,it),j}function Ji(c,v,j){var I=c.F,W=[c.J];if(I!=null){var Y=c.U,X=v.ba.S,te=X==kf||X==Lf;v=v.ba.f.RGBA;var ne=[0],ue=c.ka;ne[0]=c.T,c.Kb&&(ue==0?--ne[0]:(--ue,W[0]-=c.width),c.j+c.ka+c.T==c.o&&(ne[0]=c.o-c.j-ue));var Se=v.eb;ue=v.fb+ue*v.A,c=ft(I,W[0],c.width,Y,ne,Se,ue+(te?0:3),v.A),t(j==ne),c&&Kt(X)&&mt(Se,ue,te,Y,ne,v.A)}return 0}function wr(c){var v=c.ma,j=v.ba.S,I=11>j,W=j==_f||j==Af||j==kf||j==rp||j==12||Kt(j);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!cl(v.Oa,c,W?11:12))return 0;if(W&&Kt(j)&&at(),c.da)alert("todo:use_scaling");else{if(I){if(v.Ib=It,c.Kb){if(j=c.U+1>>1,v.memory=s(c.U+2*j),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+c.U,v.Mc=v.cc,v.Nc=v.dc+j,v.Ib=Yt,at()}}else alert("todo:EmitYUV");W&&(v.Jb=Ji,I&&Te())}if(I&&!v2){for(c=0;256>c;++c)Lw[c]=89858*(c-128)+Cf>>Ef,Pw[c]=-22014*(c-128)+Cf,Cw[c]=-45773*(c-128),Ew[c]=113618*(c-128)+Cf>>Ef;for(c=oc;c<lp;++c)v=76283*(c-16)+Cf>>Ef,Fw[c-oc]=zn(v,255),Iw[c-oc]=zn(v+8>>4,15);v2=1}return 1}function Lr(c){var v=c.ma,j=c.U,I=c.T;return t(!(1&c.ka)),0>=j||0>=I?0:(j=v.Ib(c,v),v.Jb!=null&&v.Jb(c,v,j),v.Dc+=j,1)}function Fn(c){c.ma.memory=null}function Ot(c,v,j,I){return ae(c,8)!=47?0:(v[0]=ae(c,14)+1,j[0]=ae(c,14)+1,I[0]=ae(c,1),ae(c,3)!=0?0:!c.h)}function Dn(c,v){if(4>c)return c+1;var j=c-2>>1;return(2+(1&c)<<j)+ae(v,j)+1}function sr(c,v){return 120<v?v-120:1<=(j=((j=pw[v-1])>>4)*c+(8-(15&j)))?j:1;var j}function or(c,v,j){var I=K(j),W=c[v+=255&I].g-8;return 0<W&&(ee(j,j.u+8),I=K(j),v+=c[v].value,v+=I&(1<<W)-1),ee(j,j.u+c[v].g),c[v].value}function Gr(c,v,j){return j.g+=c.g,j.value+=c.value<<v>>>0,t(8>=j.g),c.g}function Er(c,v,j){var I=c.xc;return t((v=I==0?0:c.vc[c.md*(j>>I)+(v>>I)])<c.Wb),c.Ya[v]}function Sn(c,v,j,I){var W=c.ab,Y=c.c*v,X=c.C;v=X+v;var te=j,ne=I;for(I=c.Ta,j=c.Ua;0<W--;){var ue=c.gc[W],Se=X,ze=v,Be=te,Ie=ne,rt=(ne=I,te=j,ue.Ea);switch(t(Se<ze),t(ze<=ue.nc),ue.hc){case 2:as(Be,Ie,(ze-Se)*rt,ne,te);break;case 0:var Ge=Se,je=ze,Le=ne,et=te,it=(Nt=ue).Ea;Ge==0&&(dl(Be,Ie,null,null,1,Le,et),Ye(Be,Ie+1,0,0,it-1,Le,et+1),Ie+=it,et+=it,++Ge);for(var tt=1<<Nt.b,jt=tt-1,bt=Je(it,Nt.b),Tt=Nt.K,Nt=Nt.w+(Ge>>Nt.b)*bt;Ge<je;){var dr=Tt,pr=Nt,ur=1;for(co(Be,Ie,Le,et-it,1,Le,et);ur<it;){var nr=(ur&~jt)+tt;nr>it&&(nr=it),(0,p[dr[pr++]>>8&15])(Be,Ie+ +ur,Le,et+ur-it,nr-ur,Le,et+ur),ur=nr}Ie+=it,et+=it,++Ge&jt||(Nt+=bt)}ze!=ue.nc&&n(ne,te-rt,ne,te+(ze-Se-1)*rt,rt);break;case 1:for(rt=Be,je=Ie,it=(Be=ue.Ea)-(et=Be&~(Le=(Ie=1<<ue.b)-1)),Ge=Je(Be,ue.b),tt=ue.K,ue=ue.w+(Se>>ue.b)*Ge;Se<ze;){for(jt=tt,bt=ue,Tt=new de,Nt=je+et,dr=je+Be;je<Nt;)yt(jt[bt++],Tt),y(Tt,rt,je,Ie,ne,te),je+=Ie,te+=Ie;je<dr&&(yt(jt[bt++],Tt),y(Tt,rt,je,it,ne,te),je+=it,te+=it),++Se&Le||(ue+=Ge)}break;case 3:if(Be==ne&&Ie==te&&0<ue.b){for(je=ne,Be=rt=te+(ze-Se)*rt-(et=(ze-Se)*Je(ue.Ea,ue.b)),Ie=ne,Le=te,Ge=[],et=(it=et)-1;0<=et;--et)Ge[et]=Ie[Le+et];for(et=it-1;0<=et;--et)je[Be+et]=Ge[et];qn(ue,Se,ze,ne,rt,ne,te)}else qn(ue,Se,ze,Be,Ie,ne,te)}te=I,ne=j}ne!=j&&n(I,j,te,ne,Y)}function ys(c,v){var j=c.V,I=c.Ba+c.c*c.C,W=v-c.C;if(t(v<=c.l.o),t(16>=W),0<W){var Y=c.l,X=c.Ta,te=c.Ua,ne=Y.width;if(Sn(c,W,j,I),W=te=[te],t((j=c.C)<(I=v)),t(Y.v<Y.va),I>Y.o&&(I=Y.o),j<Y.j){var ue=Y.j-j;j=Y.j,W[0]+=ue*ne}if(j>=I?j=0:(W[0]+=4*Y.v,Y.ka=j-Y.j,Y.U=Y.va-Y.v,Y.T=I-j,j=1),j){if(te=te[0],11>(j=c.ca).S){var Se=j.f.RGBA,ze=(I=j.S,W=Y.U,Y=Y.T,ue=Se.eb,Se.A),Be=Y;for(Se=Se.fb+c.Ma*Se.A;0<Be--;){var Ie=X,rt=te,Ge=W,je=ue,Le=Se;switch(I){case fo:A(Ie,rt,Ge,je,Le);break;case _f:O(Ie,rt,Ge,je,Le);break;case np:O(Ie,rt,Ge,je,Le),mt(je,Le,0,Ge,1,0);break;case l2:oe(Ie,rt,Ge,je,Le);break;case Af:gt(Ie,rt,Ge,je,Le,1);break;case ip:gt(Ie,rt,Ge,je,Le,1),mt(je,Le,0,Ge,1,0);break;case kf:gt(Ie,rt,Ge,je,Le,0);break;case Lf:gt(Ie,rt,Ge,je,Le,0),mt(je,Le,1,Ge,1,0);break;case rp:B(Ie,rt,Ge,je,Le);break;case sp:B(Ie,rt,Ge,je,Le),nt(je,Le,Ge,1,0);break;case u2:G(Ie,rt,Ge,je,Le);break;default:t(0)}te+=ne,Se+=ze}c.Ma+=Y}else alert("todo:EmitRescaledRowsYUVA");t(c.Ma<=j.height)}}c.C=v,t(c.C<=c.i)}function xs(c){var v;if(0<c.ua)return 0;for(v=0;v<c.Wb;++v){var j=c.Ya[v].G,I=c.Ya[v].H;if(0<j[1][I[1]+0].g||0<j[2][I[2]+0].g||0<j[3][I[3]+0].g)return 0}return 1}function on(c,v,j,I,W,Y){if(c.Z!=0){var X=c.qd,te=c.rd;for(t(po[c.Z]!=null);v<j;++v)po[c.Z](X,te,I,W,I,W,Y),X=I,te=W,W+=Y;c.qd=X,c.rd=te}}function jn(c,v){var j=c.l.ma,I=j.Z==0||j.Z==1?c.l.j:c.C;if(I=c.C<I?I:c.C,t(v<=c.l.o),v>I){var W=c.l.width,Y=j.ca,X=j.tb+W*I,te=c.V,ne=c.Ba+c.c*I,ue=c.gc;t(c.ab==1),t(ue[0].hc==3),zi(ue[0],I,v,te,ne,Y,X),on(j,I,v,Y,X,W)}c.C=c.Ma=v}function ln(c,v,j,I,W,Y,X){var te=c.$/I,ne=c.$%I,ue=c.m,Se=c.s,ze=j+c.$,Be=ze;W=j+I*W;var Ie=j+I*Y,rt=280+Se.ua,Ge=c.Pb?te:16777216,je=0<Se.ua?Se.Wa:null,Le=Se.wc,et=ze<Ie?Er(Se,ne,te):null;t(c.C<Y),t(Ie<=W);var it=!1;e:for(;;){for(;it||ze<Ie;){var tt=0;if(te>=Ge){var jt=ze-j;t((Ge=c).Pb),Ge.wd=Ge.m,Ge.xd=jt,0<Ge.s.ua&&Ee(Ge.s.Wa,Ge.s.vb),Ge=te+gw}if(ne&Le||(et=Er(Se,ne,te)),t(et!=null),et.Qb&&(v[ze]=et.qb,it=!0),!it)if(fe(ue),et.jc){tt=ue,jt=v;var bt=ze,Tt=et.pd[K(tt)&qr-1];t(et.jc),256>Tt.g?(ee(tt,tt.u+Tt.g),jt[bt]=Tt.value,tt=0):(ee(tt,tt.u+Tt.g-256),t(256<=Tt.value),tt=Tt.value),tt==0&&(it=!0)}else tt=or(et.G[0],et.H[0],ue);if(ue.h)break;if(it||256>tt){if(!it)if(et.nd)v[ze]=(et.qb|tt<<8)>>>0;else{if(fe(ue),it=or(et.G[1],et.H[1],ue),fe(ue),jt=or(et.G[2],et.H[2],ue),bt=or(et.G[3],et.H[3],ue),ue.h)break;v[ze]=(bt<<24|it<<16|tt<<8|jt)>>>0}if(it=!1,++ze,++ne>=I&&(ne=0,++te,X!=null&&te<=Y&&!(te%16)&&X(c,te),je!=null))for(;Be<ze;)tt=v[Be++],je.X[(506832829*tt&4294967295)>>>je.Mb]=tt}else if(280>tt){if(tt=Dn(tt-256,ue),jt=or(et.G[4],et.H[4],ue),fe(ue),jt=sr(I,jt=Dn(jt,ue)),ue.h)break;if(ze-j<jt||W-ze<tt)break e;for(bt=0;bt<tt;++bt)v[ze+bt]=v[ze+bt-jt];for(ze+=tt,ne+=tt;ne>=I;)ne-=I,++te,X!=null&&te<=Y&&!(te%16)&&X(c,te);if(t(ze<=W),ne&Le&&(et=Er(Se,ne,te)),je!=null)for(;Be<ze;)tt=v[Be++],je.X[(506832829*tt&4294967295)>>>je.Mb]=tt}else{if(!(tt<rt))break e;for(it=tt-280,t(je!=null);Be<ze;)tt=v[Be++],je.X[(506832829*tt&4294967295)>>>je.Mb]=tt;tt=ze,t(!(it>>>(jt=je).Xa)),v[tt]=jt.X[it],it=!0}it||t(ue.h==Z(ue))}if(c.Pb&&ue.h&&ze<W)t(c.m.h),c.a=5,c.m=c.wd,c.$=c.xd,0<c.s.ua&&Ee(c.s.vb,c.s.Wa);else{if(ue.h)break e;X!=null&&X(c,te>Y?Y:te),c.a=0,c.$=ze-j}return 1}return c.a=3,0}function ai(c){t(c!=null),c.vc=null,c.yc=null,c.Ya=null;var v=c.Wa;v!=null&&(v.X=null),c.vb=null,t(c!=null)}function pi(){var c=new _a;return c==null?null:(c.a=0,c.xb=d2,an("Predictor","VP8LPredictors"),an("Predictor","VP8LPredictors_C"),an("PredictorAdd","VP8LPredictorsAdd"),an("PredictorAdd","VP8LPredictorsAdd_C"),as=pt,y=wt,A=st,O=Dt,B=Pt,G=ar,oe=Wt,N.VP8LMapColor32b=Mi,N.VP8LMapColor8b=hl,c)}function yn(c,v,j,I,W){var Y=1,X=[c],te=[v],ne=I.m,ue=I.s,Se=null,ze=0;e:for(;;){if(j)for(;Y&&ae(ne,1);){var Be=X,Ie=te,rt=I,Ge=1,je=rt.m,Le=rt.gc[rt.ab],et=ae(je,2);if(rt.Oc&1<<et)Y=0;else{switch(rt.Oc|=1<<et,Le.hc=et,Le.Ea=Be[0],Le.nc=Ie[0],Le.K=[null],++rt.ab,t(4>=rt.ab),et){case 0:case 1:Le.b=ae(je,3)+2,Ge=yn(Je(Le.Ea,Le.b),Je(Le.nc,Le.b),0,rt,Le.K),Le.K=Le.K[0];break;case 3:var it,tt=ae(je,8)+1,jt=16<tt?0:4<tt?1:2<tt?2:3;if(Be[0]=Je(Le.Ea,jt),Le.b=jt,it=Ge=yn(tt,1,0,rt,Le.K)){var bt,Tt=tt,Nt=Le,dr=1<<(8>>Nt.b),pr=s(dr);if(pr==null)it=0;else{var ur=Nt.K[0],nr=Nt.w;for(pr[0]=Nt.K[0][0],bt=1;bt<1*Tt;++bt)pr[bt]=We(ur[nr+bt],pr[bt-1]);for(;bt<4*dr;++bt)pr[bt]=0;Nt.K[0]=null,Nt.K[0]=pr,it=1}}Ge=it;break;case 2:break;default:t(0)}Y=Ge}}if(X=X[0],te=te[0],Y&&ae(ne,1)&&!(Y=1<=(ze=ae(ne,4))&&11>=ze)){I.a=3;break e}var Sr;if(Sr=Y)t:{var br,Qt,pn,bi=I,mn=X,wi=te,mr=ze,Bi=j,Ui=bi.m,An=bi.s,In=[null],ui=1,ls=0,ta=mw[mr];r:for(;;){if(Bi&&ae(Ui,1)){var kn=ae(Ui,3)+2,Ca=Je(mn,kn),pl=Je(wi,kn),Jl=Ca*pl;if(!yn(Ca,pl,0,bi,In))break r;for(In=In[0],An.xc=kn,br=0;br<Jl;++br){var mo=In[br]>>8&65535;In[br]=mo,mo>=ui&&(ui=mo+1)}}if(Ui.h)break r;for(Qt=0;5>Qt;++Qt){var Vr=c2[Qt];!Qt&&0<mr&&(Vr+=1<<mr),ls<Vr&&(ls=Vr)}var up=a(ui*ta,E),b2=ui,w2=a(b2,D);if(w2==null)var Ff=null;else t(65536>=b2),Ff=w2;var lc=s(ls);if(Ff==null||lc==null||up==null){bi.a=1;break r}var If=up;for(br=pn=0;br<ui;++br){var Ps=Ff[br],Yl=Ps.G,Xl=Ps.H,N2=0,Of=1,S2=0;for(Qt=0;5>Qt;++Qt){Vr=c2[Qt],Yl[Qt]=If,Xl[Qt]=pn,!Qt&&0<mr&&(Vr+=1<<mr);i:{var Rf,cp=Vr,Tf=bi,uc=lc,Tw=If,Dw=pn,fp=0,go=Tf.m,Mw=ae(go,1);if(i(uc,0,0,cp),Mw){var zw=ae(go,1)+1,Bw=ae(go,1),j2=ae(go,Bw==0?1:8);uc[j2]=1,zw==2&&(uc[j2=ae(go,8)]=1);var Df=1}else{var _2=s(19),A2=ae(go,4)+4;if(19<A2){Tf.a=3;var Mf=0;break i}for(Rf=0;Rf<A2;++Rf)_2[hw[Rf]]=ae(go,3);var dp=void 0,cc=void 0,k2=Tf,Uw=_2,zf=cp,L2=uc,hp=0,vo=k2.m,E2=8,C2=a(128,E);n:for(;P(C2,0,7,Uw,19);){if(ae(vo,1)){var qw=2+2*ae(vo,3);if((dp=2+ae(vo,qw))>zf)break n}else dp=zf;for(cc=0;cc<zf&&dp--;){fe(vo);var P2=C2[0+(127&K(vo))];ee(vo,vo.u+P2.g);var Zl=P2.value;if(16>Zl)L2[cc++]=Zl,Zl!=0&&(E2=Zl);else{var Vw=Zl==16,F2=Zl-16,$w=fw[F2],I2=ae(vo,cw[F2])+$w;if(cc+I2>zf)break n;for(var Hw=Vw?E2:0;0<I2--;)L2[cc++]=Hw}}hp=1;break n}hp||(k2.a=3),Df=hp}(Df=Df&&!go.h)&&(fp=P(Tw,Dw,8,uc,cp)),Df&&fp!=0?Mf=fp:(Tf.a=3,Mf=0)}if(Mf==0)break r;if(Of&&dw[Qt]==1&&(Of=If[pn].g==0),N2+=If[pn].g,pn+=Mf,3>=Qt){var fc,pp=lc[0];for(fc=1;fc<Vr;++fc)lc[fc]>pp&&(pp=lc[fc]);S2+=pp}}if(Ps.nd=Of,Ps.Qb=0,Of&&(Ps.qb=(Yl[3][Xl[3]+0].value<<24|Yl[1][Xl[1]+0].value<<16|Yl[2][Xl[2]+0].value)>>>0,N2==0&&256>Yl[0][Xl[0]+0].value&&(Ps.Qb=1,Ps.qb+=Yl[0][Xl[0]+0].value<<8)),Ps.jc=!Ps.Qb&&6>S2,Ps.jc){var Bf,Pa=Ps;for(Bf=0;Bf<qr;++Bf){var yo=Bf,xo=Pa.pd[yo],Uf=Pa.G[0][Pa.H[0]+yo];256<=Uf.value?(xo.g=Uf.g+256,xo.value=Uf.value):(xo.g=0,xo.value=0,yo>>=Gr(Uf,8,xo),yo>>=Gr(Pa.G[1][Pa.H[1]+yo],16,xo),yo>>=Gr(Pa.G[2][Pa.H[2]+yo],0,xo),Gr(Pa.G[3][Pa.H[3]+yo],24,xo))}}}An.vc=In,An.Wb=ui,An.Ya=Ff,An.yc=up,Sr=1;break t}Sr=0}if(!(Y=Sr)){I.a=3;break e}if(0<ze){if(ue.ua=1<<ze,!dt(ue.Wa,ze)){I.a=1,Y=0;break e}}else ue.ua=0;var mp=I,O2=X,Ww=te,gp=mp.s,vp=gp.xc;if(mp.c=O2,mp.i=Ww,gp.md=Je(O2,vp),gp.wc=vp==0?-1:(1<<vp)-1,j){I.xb=Sw;break e}if((Se=s(X*te))==null){I.a=1,Y=0;break e}Y=(Y=ln(I,Se,0,X,te,te,null))&&!ne.h;break e}return Y?(W!=null?W[0]=Se:(t(Se==null),t(j)),I.$=0,j||ai(ue)):ai(ue),Y}function Gs(c,v){var j=c.c*c.i,I=j+v+16*v;return t(c.c<=v),c.V=s(I),c.V==null?(c.Ta=null,c.Ua=0,c.a=1,0):(c.Ta=c.V,c.Ua=c.Ba+j+v,1)}function mi(c,v){var j=c.C,I=v-j,W=c.V,Y=c.Ba+c.c*j;for(t(v<=c.l.o);0<I;){var X=16<I?16:I,te=c.l.ma,ne=c.l.width,ue=ne*X,Se=te.ca,ze=te.tb+ne*j,Be=c.Ta,Ie=c.Ua;Sn(c,X,W,Y),Lt(Be,Ie,Se,ze,ue),on(te,j,j+X,Se,ze,ne),I-=X,W+=X*c.c,j+=X}t(j==v),c.C=c.Ma=v}function pa(){this.ub=this.yd=this.td=this.Rb=0}function Qs(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function yr(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Yi(){this.Yb=function(){var c=[];return function v(j,I,W){for(var Y=W[I],X=0;X<Y&&(j.push(W.length>I+1?[]:0),!(W.length<I+1));X++)v(j[X],I+1,W)}(c,0,[3,11]),c}()}function Ri(){this.jb=s(3),this.Wc=o([4,8],Yi),this.Xc=o([4,17],Yi)}function Vl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Ti(){this.ld=this.La=this.dd=this.tc=0}function ma(){this.Na=this.la=0}function el(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ga(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function bs(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ti),this.Y=0,this.ya=Array(new ga),this.aa=0,this.l=new va}function tl(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Ga(){this.cb=this.a=0,this.sc="",this.m=new be,this.Od=new pa,this.Kc=new Qs,this.ed=new Vl,this.Qa=new yr,this.Ic=this.$c=this.Aa=0,this.D=new bs,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,be),this.ia=0,this.pb=a(4,el),this.Pa=new Ri,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new tl),this.Hd=0,this.rb=Array(new ma),this.sb=0,this.wa=Array(new Ti),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ga),this.L=this.aa=0,this.gd=o([4,2],Ti),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function va(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Xt(){var c=new Ga;return c!=null&&(c.a=0,c.sc="OK",c.cb=0,c.Xb=0,ac||(ac=Js)),c}function Or(c,v,j){return c.a==0&&(c.a=v,c.sc=j,c.cb=0),0}function rl(c,v,j){return 3<=j&&c[v+0]==157&&c[v+1]==1&&c[v+2]==42}function ya(c,v){if(c==null)return 0;if(c.a=0,c.sc="OK",v==null)return Or(c,2,"null VP8Io passed to VP8GetHeaders()");var j=v.data,I=v.w,W=v.ha;if(4>W)return Or(c,7,"Truncated header.");var Y=j[I+0]|j[I+1]<<8|j[I+2]<<16,X=c.Od;if(X.Rb=!(1&Y),X.td=Y>>1&7,X.yd=Y>>4&1,X.ub=Y>>5,3<X.td)return Or(c,3,"Incorrect keyframe parameters.");if(!X.yd)return Or(c,4,"Frame not displayable.");I+=3,W-=3;var te=c.Kc;if(X.Rb){if(7>W)return Or(c,7,"cannot parse picture header");if(!rl(j,I,W))return Or(c,3,"Bad code word");te.c=16383&(j[I+4]<<8|j[I+3]),te.Td=j[I+4]>>6,te.i=16383&(j[I+6]<<8|j[I+5]),te.Ud=j[I+6]>>6,I+=7,W-=7,c.za=te.c+15>>4,c.Ub=te.i+15>>4,v.width=te.c,v.height=te.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,i((Y=c.Pa).jb,0,255,Y.jb.length),t((Y=c.Qa)!=null),Y.Cb=0,Y.Bb=0,Y.Fb=1,i(Y.Zb,0,0,Y.Zb.length),i(Y.Lb,0,0,Y.Lb)}if(X.ub>W)return Or(c,7,"bad partition length");re(Y=c.m,j,I,X.ub),I+=X.ub,W-=X.ub,X.Rb&&(te.Ld=ve(Y),te.Kd=ve(Y)),te=c.Qa;var ne,ue=c.Pa;if(t(Y!=null),t(te!=null),te.Cb=ve(Y),te.Cb){if(te.Bb=ve(Y),ve(Y)){for(te.Fb=ve(Y),ne=0;4>ne;++ne)te.Zb[ne]=ve(Y)?z(Y,7):0;for(ne=0;4>ne;++ne)te.Lb[ne]=ve(Y)?z(Y,6):0}if(te.Bb)for(ne=0;3>ne;++ne)ue.jb[ne]=ve(Y)?q(Y,8):255}else te.Bb=0;if(Y.Ka)return Or(c,3,"cannot parse segment header");if((te=c.ed).zd=ve(Y),te.Tb=q(Y,6),te.wb=q(Y,3),te.Pc=ve(Y),te.Pc&&ve(Y)){for(ue=0;4>ue;++ue)ve(Y)&&(te.vd[ue]=z(Y,6));for(ue=0;4>ue;++ue)ve(Y)&&(te.od[ue]=z(Y,6))}if(c.L=te.Tb==0?0:te.zd?1:2,Y.Ka)return Or(c,3,"cannot parse filter header");var Se=W;if(W=ne=I,I=ne+Se,te=Se,c.Xb=(1<<q(c.m,2))-1,Se<3*(ue=c.Xb))j=7;else{for(ne+=3*ue,te-=3*ue,Se=0;Se<ue;++Se){var ze=j[W+0]|j[W+1]<<8|j[W+2]<<16;ze>te&&(ze=te),re(c.Jc[+Se],j,ne,ze),ne+=ze,te-=ze,W+=3}re(c.Jc[+ue],j,ne,te),j=ne<I?0:5}if(j!=0)return Or(c,j,"cannot parse partitions");for(j=q(ne=c.m,7),W=ve(ne)?z(ne,4):0,I=ve(ne)?z(ne,4):0,te=ve(ne)?z(ne,4):0,ue=ve(ne)?z(ne,4):0,ne=ve(ne)?z(ne,4):0,Se=c.Qa,ze=0;4>ze;++ze){if(Se.Cb){var Be=Se.Zb[ze];Se.Fb||(Be+=j)}else{if(0<ze){c.pb[ze]=c.pb[0];continue}Be=j}var Ie=c.pb[ze];Ie.Sc[0]=ap[zn(Be+W,127)],Ie.Sc[1]=op[zn(Be+0,127)],Ie.Eb[0]=2*ap[zn(Be+I,127)],Ie.Eb[1]=101581*op[zn(Be+te,127)]>>16,8>Ie.Eb[1]&&(Ie.Eb[1]=8),Ie.Qc[0]=ap[zn(Be+ue,117)],Ie.Qc[1]=op[zn(Be+ne,127)],Ie.lc=Be+ne}if(!X.Rb)return Or(c,4,"Not a key frame.");for(ve(Y),X=c.Pa,j=0;4>j;++j){for(W=0;8>W;++W)for(I=0;3>I;++I)for(te=0;11>te;++te)ue=se(Y,ww[j][W][I][te])?q(Y,8):xw[j][W][I][te],X.Wc[j][W].Yb[I][te]=ue;for(W=0;17>W;++W)X.Xc[j][W]=X.Wc[j][Nw[W]]}return c.kc=ve(Y),c.kc&&(c.Bd=q(Y,8)),c.cb=1}function Js(c,v,j,I,W,Y,X){var te=v[W].Yb[j];for(j=0;16>W;++W){if(!se(c,te[j+0]))return W;for(;!se(c,te[j+1]);)if(te=v[++W].Yb[0],j=0,W==16)return 16;var ne=v[W+1].Yb;if(se(c,te[j+2])){var ue=c,Se=0;if(se(ue,(Be=te)[(ze=j)+3]))if(se(ue,Be[ze+6])){for(te=0,ze=2*(Se=se(ue,Be[ze+8]))+(Be=se(ue,Be[ze+9+Se])),Se=0,Be=vw[ze];Be[te];++te)Se+=Se+se(ue,Be[te]);Se+=3+(8<<ze)}else se(ue,Be[ze+7])?(Se=7+2*se(ue,165),Se+=se(ue,145)):Se=5+se(ue,159);else Se=se(ue,Be[ze+4])?3+se(ue,Be[ze+5]):2;te=ne[2]}else Se=1,te=ne[1];ne=X+yw[W],0>(ue=c).b&&we(ue);var ze,Be=ue.b,Ie=(ze=ue.Ca>>1)-(ue.I>>Be)>>31;--ue.b,ue.Ca+=Ie,ue.Ca|=1,ue.I-=(ze+1&Ie)<<Be,Y[ne]=((Se^Ie)-Ie)*I[(0<W)+0]}return 16}function Qa(c){var v=c.rb[c.sb-1];v.la=0,v.Na=0,i(c.zc,0,0,c.zc.length),c.ja=0}function $l(c,v){if(c==null)return 0;if(v==null)return Or(c,2,"NULL VP8Io parameter in VP8Decode().");if(!c.cb&&!ya(c,v))return 0;if(t(c.cb),v.ac==null||v.ac(v)){v.ob&&(c.L=0);var j=Pf[c.L];if(c.L==2?(c.yb=0,c.zb=0):(c.yb=v.v-j>>4,c.zb=v.j-j>>4,0>c.yb&&(c.yb=0),0>c.zb&&(c.zb=0)),c.Va=v.o+15+j>>4,c.Hb=v.va+15+j>>4,c.Hb>c.za&&(c.Hb=c.za),c.Va>c.Ub&&(c.Va=c.Ub),0<c.L){var I=c.ed;for(j=0;4>j;++j){var W;if(c.Qa.Cb){var Y=c.Qa.Lb[j];c.Qa.Fb||(Y+=I.Tb)}else Y=I.Tb;for(W=0;1>=W;++W){var X=c.gd[j][W],te=Y;if(I.Pc&&(te+=I.vd[0],W&&(te+=I.od[0])),0<(te=0>te?0:63<te?63:te)){var ne=te;0<I.wb&&(ne=4<I.wb?ne>>2:ne>>1)>9-I.wb&&(ne=9-I.wb),1>ne&&(ne=1),X.dd=ne,X.tc=2*te+ne,X.ld=40<=te?2:15<=te?1:0}else X.tc=0;X.La=W}}}j=0}else Or(c,6,"Frame setup failed"),j=c.a;if(j=j==0){if(j){c.$c=0,0<c.Aa||(c.Ic=Rw);e:{j=c.Ic,I=4*(ne=c.za);var ue=32*ne,Se=ne+1,ze=0<c.L?ne*(0<c.Aa?2:1):0,Be=(c.Aa==2?2:1)*ne;if((X=I+832+(W=3*(16*j+Pf[c.L])/2*ue)+(Y=c.Fa!=null&&0<c.Fa.length?c.Kc.c*c.Kc.i:0))!=X)j=0;else{if(X>c.Vb){if(c.Vb=0,c.Ec=s(X),c.Fc=0,c.Ec==null){j=Or(c,1,"no memory during frame initialization.");break e}c.Vb=X}X=c.Ec,te=c.Fc,c.Ac=X,c.Bc=te,te+=I,c.Gd=a(ue,tl),c.Hd=0,c.rb=a(Se+1,ma),c.sb=1,c.wa=ze?a(ze,Ti):null,c.Y=0,c.D.Nb=0,c.D.wa=c.wa,c.D.Y=c.Y,0<c.Aa&&(c.D.Y+=ne),t(!0),c.oc=X,c.pc=te,te+=832,c.ya=a(Be,ga),c.aa=0,c.D.ya=c.ya,c.D.aa=c.aa,c.Aa==2&&(c.D.aa+=ne),c.R=16*ne,c.B=8*ne,ne=(ue=Pf[c.L])*c.R,ue=ue/2*c.B,c.sa=X,c.ta=te+ne,c.qa=c.sa,c.ra=c.ta+16*j*c.R+ue,c.Ha=c.qa,c.Ia=c.ra+8*j*c.B+ue,c.$c=0,te+=W,c.mb=Y?X:null,c.nb=Y?te:null,t(te+Y<=c.Fc+c.Vb),Qa(c),i(c.Ac,c.Bc,0,I),j=1}}if(j){if(v.ka=0,v.y=c.sa,v.O=c.ta,v.f=c.qa,v.N=c.ra,v.ea=c.Ha,v.Vd=c.Ia,v.fa=c.R,v.Rc=c.B,v.F=null,v.J=0,!Yr){for(j=-255;255>=j;++j)Ct[255+j]=0>j?-j:j;for(j=-1020;1020>=j;++j)$t[1020+j]=-128>j?-128:127<j?127:j;for(j=-112;112>=j;++j)bn[112+j]=-16>j?-16:15<j?15:j;for(j=-255;510>=j;++j)Mt[255+j]=0>j?0:255<j?255:j;Yr=1}he=Xa,ye=nl,Pe=Ja,pe=Ya,Ce=il,ge=Ns,Ne=io,ke=rs,Ae=Ql,Fe=ll,De=so,qe=ks,Ke=ns,Xe=ao,ct=no,vt=es,lt=As,ut=sc,Cs[0]=Mn,Cs[1]=ic,Cs[2]=Br,Cs[3]=vi,Cs[4]=Ys,Cs[5]=oi,Cs[6]=to,Cs[7]=al,Cs[8]=ol,Cs[9]=yi,ho[0]=js,ho[1]=Hl,ho[2]=Ss,ho[3]=eo,ho[4]=Qr,ho[5]=Xi,ho[6]=sl,Ea[0]=Zi,Ea[1]=tr,Ea[2]=Wl,Ea[3]=xa,Ea[4]=ba,Ea[5]=Kl,Ea[6]=_s,j=1}else j=0}j&&(j=function(Ie,rt){for(Ie.M=0;Ie.M<Ie.Va;++Ie.M){var Ge,je=Ie.Jc[Ie.M&Ie.Xb],Le=Ie.m,et=Ie;for(Ge=0;Ge<et.za;++Ge){var it=Le,tt=et,jt=tt.Ac,bt=tt.Bc+4*Ge,Tt=tt.zc,Nt=tt.ya[tt.aa+Ge];if(tt.Qa.Bb?Nt.$b=se(it,tt.Pa.jb[0])?2+se(it,tt.Pa.jb[2]):se(it,tt.Pa.jb[1]):Nt.$b=0,tt.kc&&(Nt.Ad=se(it,tt.Bd)),Nt.Za=!se(it,145)+0,Nt.Za){var dr=Nt.Ob,pr=0;for(tt=0;4>tt;++tt){var ur,nr=Tt[0+tt];for(ur=0;4>ur;++ur){nr=bw[jt[bt+ur]][nr];for(var Sr=f2[se(it,nr[0])];0<Sr;)Sr=f2[2*Sr+se(it,nr[Sr])];nr=-Sr,jt[bt+ur]=nr}n(dr,pr,jt,bt,4),pr+=4,Tt[0+tt]=nr}}else nr=se(it,156)?se(it,128)?1:3:se(it,163)?2:0,Nt.Ob[0]=nr,i(jt,bt,nr,4),i(Tt,0,nr,4);Nt.Dd=se(it,142)?se(it,114)?se(it,183)?1:3:2:0}if(et.m.Ka)return Or(Ie,7,"Premature end-of-partition0 encountered.");for(;Ie.ja<Ie.za;++Ie.ja){if(et=je,it=(Le=Ie).rb[Le.sb-1],jt=Le.rb[Le.sb+Le.ja],Ge=Le.ya[Le.aa+Le.ja],bt=Le.kc?Ge.Ad:0)it.la=jt.la=0,Ge.Za||(it.Na=jt.Na=0),Ge.Hc=0,Ge.Gc=0,Ge.ia=0;else{var br,Qt;if(it=jt,jt=et,bt=Le.Pa.Xc,Tt=Le.ya[Le.aa+Le.ja],Nt=Le.pb[Tt.$b],tt=Tt.ad,dr=0,pr=Le.rb[Le.sb-1],nr=ur=0,i(tt,dr,0,384),Tt.Za)var pn=0,bi=bt[3];else{Sr=s(16);var mn=it.Na+pr.Na;if(mn=ac(jt,bt[1],mn,Nt.Eb,0,Sr,0),it.Na=pr.Na=(0<mn)+0,1<mn)he(Sr,0,tt,dr);else{var wi=Sr[0]+3>>3;for(Sr=0;256>Sr;Sr+=16)tt[dr+Sr]=wi}pn=1,bi=bt[0]}var mr=15&it.la,Bi=15&pr.la;for(Sr=0;4>Sr;++Sr){var Ui=1&Bi;for(wi=Qt=0;4>wi;++wi)mr=mr>>1|(Ui=(mn=ac(jt,bi,mn=Ui+(1&mr),Nt.Sc,pn,tt,dr))>pn)<<7,Qt=Qt<<2|(3<mn?3:1<mn?2:tt[dr+0]!=0),dr+=16;mr>>=4,Bi=Bi>>1|Ui<<7,ur=(ur<<8|Qt)>>>0}for(bi=mr,pn=Bi>>4,br=0;4>br;br+=2){for(Qt=0,mr=it.la>>4+br,Bi=pr.la>>4+br,Sr=0;2>Sr;++Sr){for(Ui=1&Bi,wi=0;2>wi;++wi)mn=Ui+(1&mr),mr=mr>>1|(Ui=0<(mn=ac(jt,bt[2],mn,Nt.Qc,0,tt,dr)))<<3,Qt=Qt<<2|(3<mn?3:1<mn?2:tt[dr+0]!=0),dr+=16;mr>>=2,Bi=Bi>>1|Ui<<5}nr|=Qt<<4*br,bi|=mr<<4<<br,pn|=(240&Bi)<<br}it.la=bi,pr.la=pn,Tt.Hc=ur,Tt.Gc=nr,Tt.ia=43690&nr?0:Nt.ia,bt=!(ur|nr)}if(0<Le.L&&(Le.wa[Le.Y+Le.ja]=Le.gd[Ge.$b][Ge.Za],Le.wa[Le.Y+Le.ja].La|=!bt),et.Ka)return Or(Ie,7,"Premature end-of-file encountered.")}if(Qa(Ie),Le=rt,et=1,Ge=(je=Ie).D,it=0<je.L&&je.M>=je.zb&&je.M<=je.Va,je.Aa==0)e:{if(Ge.M=je.M,Ge.uc=it,lo(je,Ge),et=1,Ge=(Qt=je.D).Nb,it=(nr=Pf[je.L])*je.R,jt=nr/2*je.B,Sr=16*Ge*je.R,wi=8*Ge*je.B,bt=je.sa,Tt=je.ta-it+Sr,Nt=je.qa,tt=je.ra-jt+wi,dr=je.Ha,pr=je.Ia-jt+wi,Bi=(mr=Qt.M)==0,ur=mr>=je.Va-1,je.Aa==2&&lo(je,Qt),Qt.uc)for(Ui=(mn=je).D.M,t(mn.D.uc),Qt=mn.yb;Qt<mn.Hb;++Qt){pn=Qt,bi=Ui;var An=(In=(Vr=mn).D).Nb;br=Vr.R;var In=In.wa[In.Y+pn],ui=Vr.sa,ls=Vr.ta+16*An*br+16*pn,ta=In.dd,kn=In.tc;if(kn!=0)if(t(3<=kn),Vr.L==1)0<pn&&vt(ui,ls,br,kn+4),In.La&&ut(ui,ls,br,kn),0<bi&&ct(ui,ls,br,kn+4),In.La&&lt(ui,ls,br,kn);else{var Ca=Vr.B,pl=Vr.qa,Jl=Vr.ra+8*An*Ca+8*pn,mo=Vr.Ha,Vr=Vr.Ia+8*An*Ca+8*pn;An=In.ld,0<pn&&(ke(ui,ls,br,kn+4,ta,An),Fe(pl,Jl,mo,Vr,Ca,kn+4,ta,An)),In.La&&(qe(ui,ls,br,kn,ta,An),Xe(pl,Jl,mo,Vr,Ca,kn,ta,An)),0<bi&&(Ne(ui,ls,br,kn+4,ta,An),Ae(pl,Jl,mo,Vr,Ca,kn+4,ta,An)),In.La&&(De(ui,ls,br,kn,ta,An),Ke(pl,Jl,mo,Vr,Ca,kn,ta,An))}}if(je.ia&&alert("todo:DitherRow"),Le.put!=null){if(Qt=16*mr,mr=16*(mr+1),Bi?(Le.y=je.sa,Le.O=je.ta+Sr,Le.f=je.qa,Le.N=je.ra+wi,Le.ea=je.Ha,Le.W=je.Ia+wi):(Qt-=nr,Le.y=bt,Le.O=Tt,Le.f=Nt,Le.N=tt,Le.ea=dr,Le.W=pr),ur||(mr-=nr),mr>Le.o&&(mr=Le.o),Le.F=null,Le.J=null,je.Fa!=null&&0<je.Fa.length&&Qt<mr&&(Le.J=oo(je,Le,Qt,mr-Qt),Le.F=je.mb,Le.F==null&&Le.F.length==0)){et=Or(je,3,"Could not decode alpha data.");break e}Qt<Le.j&&(nr=Le.j-Qt,Qt=Le.j,t(!(1&nr)),Le.O+=je.R*nr,Le.N+=je.B*(nr>>1),Le.W+=je.B*(nr>>1),Le.F!=null&&(Le.J+=Le.width*nr)),Qt<mr&&(Le.O+=Le.v,Le.N+=Le.v>>1,Le.W+=Le.v>>1,Le.F!=null&&(Le.J+=Le.v),Le.ka=Qt-Le.j,Le.U=Le.va-Le.v,Le.T=mr-Qt,et=Le.put(Le))}Ge+1!=je.Ic||ur||(n(je.sa,je.ta-it,bt,Tt+16*je.R,it),n(je.qa,je.ra-jt,Nt,tt+8*je.B,jt),n(je.Ha,je.Ia-jt,dr,pr+8*je.B,jt))}if(!et)return Or(Ie,6,"Output aborted.")}return 1}(c,v)),v.bc!=null&&v.bc(v),j&=1}return j?(c.cb=0,j):0}function gi(c,v,j,I,W){W=c[v+j+32*I]+(W>>3),c[v+j+32*I]=-256&W?0>W?0:255:W}function lr(c,v,j,I,W,Y){gi(c,v,0,j,I+W),gi(c,v,1,j,I+Y),gi(c,v,2,j,I-Y),gi(c,v,3,j,I-W)}function un(c){return(20091*c>>16)+c}function ws(c,v,j,I){var W,Y=0,X=s(16);for(W=0;4>W;++W){var te=c[v+0]+c[v+8],ne=c[v+0]-c[v+8],ue=(35468*c[v+4]>>16)-un(c[v+12]),Se=un(c[v+4])+(35468*c[v+12]>>16);X[Y+0]=te+Se,X[Y+1]=ne+ue,X[Y+2]=ne-ue,X[Y+3]=te-Se,Y+=4,v++}for(W=Y=0;4>W;++W)te=(c=X[Y+0]+4)+X[Y+8],ne=c-X[Y+8],ue=(35468*X[Y+4]>>16)-un(X[Y+12]),gi(j,I,0,0,te+(Se=un(X[Y+4])+(35468*X[Y+12]>>16))),gi(j,I,1,0,ne+ue),gi(j,I,2,0,ne-ue),gi(j,I,3,0,te-Se),Y++,I+=32}function Ns(c,v,j,I){var W=c[v+0]+4,Y=35468*c[v+4]>>16,X=un(c[v+4]),te=35468*c[v+1]>>16;lr(j,I,0,W+X,c=un(c[v+1]),te),lr(j,I,1,W+Y,c,te),lr(j,I,2,W-Y,c,te),lr(j,I,3,W-X,c,te)}function nl(c,v,j,I,W){ws(c,v,j,I),W&&ws(c,v+16,j,I+4)}function Ja(c,v,j,I){ye(c,v+0,j,I,1),ye(c,v+32,j,I+128,1)}function Ya(c,v,j,I){var W;for(c=c[v+0]+4,W=0;4>W;++W)for(v=0;4>v;++v)gi(j,I,v,W,c)}function il(c,v,j,I){c[v+0]&&pe(c,v+0,j,I),c[v+16]&&pe(c,v+16,j,I+4),c[v+32]&&pe(c,v+32,j,I+128),c[v+48]&&pe(c,v+48,j,I+128+4)}function Xa(c,v,j,I){var W,Y=s(16);for(W=0;4>W;++W){var X=c[v+0+W]+c[v+12+W],te=c[v+4+W]+c[v+8+W],ne=c[v+4+W]-c[v+8+W],ue=c[v+0+W]-c[v+12+W];Y[0+W]=X+te,Y[8+W]=X-te,Y[4+W]=ue+ne,Y[12+W]=ue-ne}for(W=0;4>W;++W)X=(c=Y[0+4*W]+3)+Y[3+4*W],te=Y[1+4*W]+Y[2+4*W],ne=Y[1+4*W]-Y[2+4*W],ue=c-Y[3+4*W],j[I+0]=X+te>>3,j[I+16]=ue+ne>>3,j[I+32]=X-te>>3,j[I+48]=ue-ne>>3,I+=64}function Za(c,v,j){var I,W=v-32,Y=hr,X=255-c[W-1];for(I=0;I<j;++I){var te,ne=Y,ue=X+c[v-1];for(te=0;te<j;++te)c[v+te]=ne[ue+c[W+te]];v+=32}}function ic(c,v){Za(c,v,4)}function tr(c,v){Za(c,v,8)}function Hl(c,v){Za(c,v,16)}function Ss(c,v){var j;for(j=0;16>j;++j)n(c,v+32*j,c,v-32,16)}function eo(c,v){var j;for(j=16;0<j;--j)i(c,v,c[v-1],16),v+=32}function cn(c,v,j){var I;for(I=0;16>I;++I)i(v,j+32*I,c,16)}function js(c,v){var j,I=16;for(j=0;16>j;++j)I+=c[v-1+32*j]+c[v+j-32];cn(I>>5,c,v)}function Qr(c,v){var j,I=8;for(j=0;16>j;++j)I+=c[v-1+32*j];cn(I>>4,c,v)}function Xi(c,v){var j,I=8;for(j=0;16>j;++j)I+=c[v+j-32];cn(I>>4,c,v)}function sl(c,v){cn(128,c,v)}function Vt(c,v,j){return c+2*v+j+2>>2}function Br(c,v){var j,I=v-32;for(I=new Uint8Array([Vt(c[I-1],c[I+0],c[I+1]),Vt(c[I+0],c[I+1],c[I+2]),Vt(c[I+1],c[I+2],c[I+3]),Vt(c[I+2],c[I+3],c[I+4])]),j=0;4>j;++j)n(c,v+32*j,I,0,I.length)}function vi(c,v){var j=c[v-1],I=c[v-1+32],W=c[v-1+64],Y=c[v-1+96];$e(c,v+0,16843009*Vt(c[v-1-32],j,I)),$e(c,v+32,16843009*Vt(j,I,W)),$e(c,v+64,16843009*Vt(I,W,Y)),$e(c,v+96,16843009*Vt(W,Y,Y))}function Mn(c,v){var j,I=4;for(j=0;4>j;++j)I+=c[v+j-32]+c[v-1+32*j];for(I>>=3,j=0;4>j;++j)i(c,v+32*j,I,4)}function Ys(c,v){var j=c[v-1+0],I=c[v-1+32],W=c[v-1+64],Y=c[v-1-32],X=c[v+0-32],te=c[v+1-32],ne=c[v+2-32],ue=c[v+3-32];c[v+0+96]=Vt(I,W,c[v-1+96]),c[v+1+96]=c[v+0+64]=Vt(j,I,W),c[v+2+96]=c[v+1+64]=c[v+0+32]=Vt(Y,j,I),c[v+3+96]=c[v+2+64]=c[v+1+32]=c[v+0+0]=Vt(X,Y,j),c[v+3+64]=c[v+2+32]=c[v+1+0]=Vt(te,X,Y),c[v+3+32]=c[v+2+0]=Vt(ne,te,X),c[v+3+0]=Vt(ue,ne,te)}function to(c,v){var j=c[v+1-32],I=c[v+2-32],W=c[v+3-32],Y=c[v+4-32],X=c[v+5-32],te=c[v+6-32],ne=c[v+7-32];c[v+0+0]=Vt(c[v+0-32],j,I),c[v+1+0]=c[v+0+32]=Vt(j,I,W),c[v+2+0]=c[v+1+32]=c[v+0+64]=Vt(I,W,Y),c[v+3+0]=c[v+2+32]=c[v+1+64]=c[v+0+96]=Vt(W,Y,X),c[v+3+32]=c[v+2+64]=c[v+1+96]=Vt(Y,X,te),c[v+3+64]=c[v+2+96]=Vt(X,te,ne),c[v+3+96]=Vt(te,ne,ne)}function oi(c,v){var j=c[v-1+0],I=c[v-1+32],W=c[v-1+64],Y=c[v-1-32],X=c[v+0-32],te=c[v+1-32],ne=c[v+2-32],ue=c[v+3-32];c[v+0+0]=c[v+1+64]=Y+X+1>>1,c[v+1+0]=c[v+2+64]=X+te+1>>1,c[v+2+0]=c[v+3+64]=te+ne+1>>1,c[v+3+0]=ne+ue+1>>1,c[v+0+96]=Vt(W,I,j),c[v+0+64]=Vt(I,j,Y),c[v+0+32]=c[v+1+96]=Vt(j,Y,X),c[v+1+32]=c[v+2+96]=Vt(Y,X,te),c[v+2+32]=c[v+3+96]=Vt(X,te,ne),c[v+3+32]=Vt(te,ne,ue)}function al(c,v){var j=c[v+0-32],I=c[v+1-32],W=c[v+2-32],Y=c[v+3-32],X=c[v+4-32],te=c[v+5-32],ne=c[v+6-32],ue=c[v+7-32];c[v+0+0]=j+I+1>>1,c[v+1+0]=c[v+0+64]=I+W+1>>1,c[v+2+0]=c[v+1+64]=W+Y+1>>1,c[v+3+0]=c[v+2+64]=Y+X+1>>1,c[v+0+32]=Vt(j,I,W),c[v+1+32]=c[v+0+96]=Vt(I,W,Y),c[v+2+32]=c[v+1+96]=Vt(W,Y,X),c[v+3+32]=c[v+2+96]=Vt(Y,X,te),c[v+3+64]=Vt(X,te,ne),c[v+3+96]=Vt(te,ne,ue)}function yi(c,v){var j=c[v-1+0],I=c[v-1+32],W=c[v-1+64],Y=c[v-1+96];c[v+0+0]=j+I+1>>1,c[v+2+0]=c[v+0+32]=I+W+1>>1,c[v+2+32]=c[v+0+64]=W+Y+1>>1,c[v+1+0]=Vt(j,I,W),c[v+3+0]=c[v+1+32]=Vt(I,W,Y),c[v+3+32]=c[v+1+64]=Vt(W,Y,Y),c[v+3+64]=c[v+2+64]=c[v+0+96]=c[v+1+96]=c[v+2+96]=c[v+3+96]=Y}function ol(c,v){var j=c[v-1+0],I=c[v-1+32],W=c[v-1+64],Y=c[v-1+96],X=c[v-1-32],te=c[v+0-32],ne=c[v+1-32],ue=c[v+2-32];c[v+0+0]=c[v+2+32]=j+X+1>>1,c[v+0+32]=c[v+2+64]=I+j+1>>1,c[v+0+64]=c[v+2+96]=W+I+1>>1,c[v+0+96]=Y+W+1>>1,c[v+3+0]=Vt(te,ne,ue),c[v+2+0]=Vt(X,te,ne),c[v+1+0]=c[v+3+32]=Vt(j,X,te),c[v+1+32]=c[v+3+64]=Vt(I,j,X),c[v+1+64]=c[v+3+96]=Vt(W,I,j),c[v+1+96]=Vt(Y,W,I)}function Wl(c,v){var j;for(j=0;8>j;++j)n(c,v+32*j,c,v-32,8)}function xa(c,v){var j;for(j=0;8>j;++j)i(c,v,c[v-1],8),v+=32}function Di(c,v,j){var I;for(I=0;8>I;++I)i(v,j+32*I,c,8)}function Zi(c,v){var j,I=8;for(j=0;8>j;++j)I+=c[v+j-32]+c[v-1+32*j];Di(I>>4,c,v)}function Kl(c,v){var j,I=4;for(j=0;8>j;++j)I+=c[v+j-32];Di(I>>3,c,v)}function ba(c,v){var j,I=4;for(j=0;8>j;++j)I+=c[v-1+32*j];Di(I>>3,c,v)}function _s(c,v){Di(128,c,v)}function ro(c,v,j){var I=c[v-j],W=c[v+0],Y=3*(W-I)+dn[1020+c[v-2*j]-c[v+j]],X=La[112+(Y+4>>3)];c[v-j]=hr[255+I+La[112+(Y+3>>3)]],c[v+0]=hr[255+W-X]}function Gl(c,v,j,I){var W=c[v+0],Y=c[v+j];return hn[255+c[v-2*j]-c[v-j]]>I||hn[255+Y-W]>I}function wa(c,v,j,I){return 4*hn[255+c[v-j]-c[v+0]]+hn[255+c[v-2*j]-c[v+j]]<=I}function Na(c,v,j,I,W){var Y=c[v-3*j],X=c[v-2*j],te=c[v-j],ne=c[v+0],ue=c[v+j],Se=c[v+2*j],ze=c[v+3*j];return 4*hn[255+te-ne]+hn[255+X-ue]>I?0:hn[255+c[v-4*j]-Y]<=W&&hn[255+Y-X]<=W&&hn[255+X-te]<=W&&hn[255+ze-Se]<=W&&hn[255+Se-ue]<=W&&hn[255+ue-ne]<=W}function no(c,v,j,I){var W=2*I+1;for(I=0;16>I;++I)wa(c,v+I,j,W)&&ro(c,v+I,j)}function es(c,v,j,I){var W=2*I+1;for(I=0;16>I;++I)wa(c,v+I*j,1,W)&&ro(c,v+I*j,1)}function As(c,v,j,I){var W;for(W=3;0<W;--W)no(c,v+=4*j,j,I)}function sc(c,v,j,I){var W;for(W=3;0<W;--W)es(c,v+=4,j,I)}function ts(c,v,j,I,W,Y,X,te){for(Y=2*Y+1;0<W--;){if(Na(c,v,j,Y,X))if(Gl(c,v,j,te))ro(c,v,j);else{var ne=c,ue=v,Se=j,ze=ne[ue-2*Se],Be=ne[ue-Se],Ie=ne[ue+0],rt=ne[ue+Se],Ge=ne[ue+2*Se],je=27*(et=dn[1020+3*(Ie-Be)+dn[1020+ze-rt]])+63>>7,Le=18*et+63>>7,et=9*et+63>>7;ne[ue-3*Se]=hr[255+ne[ue-3*Se]+et],ne[ue-2*Se]=hr[255+ze+Le],ne[ue-Se]=hr[255+Be+je],ne[ue+0]=hr[255+Ie-je],ne[ue+Se]=hr[255+rt-Le],ne[ue+2*Se]=hr[255+Ge-et]}v+=I}}function li(c,v,j,I,W,Y,X,te){for(Y=2*Y+1;0<W--;){if(Na(c,v,j,Y,X))if(Gl(c,v,j,te))ro(c,v,j);else{var ne=c,ue=v,Se=j,ze=ne[ue-Se],Be=ne[ue+0],Ie=ne[ue+Se],rt=La[112+((Ge=3*(Be-ze))+4>>3)],Ge=La[112+(Ge+3>>3)],je=rt+1>>1;ne[ue-2*Se]=hr[255+ne[ue-2*Se]+je],ne[ue-Se]=hr[255+ze+Ge],ne[ue+0]=hr[255+Be-rt],ne[ue+Se]=hr[255+Ie-je]}v+=I}}function io(c,v,j,I,W,Y){ts(c,v,j,1,16,I,W,Y)}function rs(c,v,j,I,W,Y){ts(c,v,1,j,16,I,W,Y)}function so(c,v,j,I,W,Y){var X;for(X=3;0<X;--X)li(c,v+=4*j,j,1,16,I,W,Y)}function ks(c,v,j,I,W,Y){var X;for(X=3;0<X;--X)li(c,v+=4,1,j,16,I,W,Y)}function Ql(c,v,j,I,W,Y,X,te){ts(c,v,W,1,8,Y,X,te),ts(j,I,W,1,8,Y,X,te)}function ll(c,v,j,I,W,Y,X,te){ts(c,v,1,W,8,Y,X,te),ts(j,I,1,W,8,Y,X,te)}function ns(c,v,j,I,W,Y,X,te){li(c,v+4*W,W,1,8,Y,X,te),li(j,I+4*W,W,1,8,Y,X,te)}function ao(c,v,j,I,W,Y,X,te){li(c,v+4,1,W,8,Y,X,te),li(j,I+4,1,W,8,Y,X,te)}function Xs(){this.ba=new Pn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ir,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Sa(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ja(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Jr(){this.ua=0,this.Wa=new le,this.vb=new le,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new D,this.yc=new E}function _a(){this.xb=this.a=0,this.l=new va,this.ca=new Pn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new R,this.Pb=0,this.wd=new R,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Jr,this.ab=0,this.gc=a(4,ja),this.Oc=0}function is(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new va,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Zs(c,v,j,I,W,Y,X){for(c=c==null?0:c[v+0],v=0;v<X;++v)W[Y+v]=c+j[I+v]&255,c=W[Y+v]}function ea(c,v,j,I,W,Y,X){var te;if(c==null)Zs(null,null,j,I,W,Y,X);else for(te=0;te<X;++te)W[Y+te]=c[v+te]+j[I+te]&255}function Ls(c,v,j,I,W,Y,X){if(c==null)Zs(null,null,j,I,W,Y,X);else{var te,ne=c[v+0],ue=ne,Se=ne;for(te=0;te<X;++te)ue=Se+(ne=c[v+te])-ue,Se=j[I+te]+(-256&ue?0>ue?0:255:ue)&255,ue=ne,W[Y+te]=Se}}function oo(c,v,j,I){var W=v.width,Y=v.o;if(t(c!=null&&v!=null),0>j||0>=I||j+I>Y)return null;if(!c.Cc){if(c.ga==null){var X;if(c.ga=new is,(X=c.ga==null)||(X=v.width*v.o,t(c.Gb.length==0),c.Gb=s(X),c.Uc=0,c.Gb==null?X=0:(c.mb=c.Gb,c.nb=c.Uc,c.rc=null,X=1),X=!X),!X){X=c.ga;var te=c.Fa,ne=c.P,ue=c.qc,Se=c.mb,ze=c.nb,Be=ne+1,Ie=ue-1,rt=X.l;if(t(te!=null&&Se!=null&&v!=null),po[0]=null,po[1]=Zs,po[2]=ea,po[3]=Ls,X.ca=Se,X.tb=ze,X.c=v.width,X.i=v.height,t(0<X.c&&0<X.i),1>=ue)v=0;else if(X.$a=te[ne+0]>>0&3,X.Z=te[ne+0]>>2&3,X.Lc=te[ne+0]>>4&3,ne=te[ne+0]>>6&3,0>X.$a||1<X.$a||4<=X.Z||1<X.Lc||ne)v=0;else if(rt.put=Lr,rt.ac=wr,rt.bc=Fn,rt.ma=X,rt.width=v.width,rt.height=v.height,rt.Da=v.Da,rt.v=v.v,rt.va=v.va,rt.j=v.j,rt.o=v.o,X.$a)e:{t(X.$a==1),v=pi();t:for(;;){if(v==null){v=0;break e}if(t(X!=null),X.mc=v,v.c=X.c,v.i=X.i,v.l=X.l,v.l.ma=X,v.l.width=X.c,v.l.height=X.i,v.a=0,Q(v.m,te,Be,Ie),!yn(X.c,X.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&xs(v.s)?(X.ic=1,te=v.c*v.i,v.Ta=null,v.Ua=0,v.V=s(te),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(X.ic=0,v=Gs(v,X.c)),!v))break t;v=1;break e}X.mc=null,v=0}else v=Ie>=X.c*X.i;X=!v}if(X)return null;c.ga.Lc!=1?c.Ga=0:I=Y-j}t(c.ga!=null),t(j+I<=Y);e:{if(v=(te=c.ga).c,Y=te.l.o,te.$a==0){if(Be=c.rc,Ie=c.Vc,rt=c.Fa,ne=c.P+1+j*v,ue=c.mb,Se=c.nb+j*v,t(ne<=c.P+c.qc),te.Z!=0)for(t(po[te.Z]!=null),X=0;X<I;++X)po[te.Z](Be,Ie,rt,ne,ue,Se,v),Be=ue,Ie=Se,Se+=v,ne+=v;else for(X=0;X<I;++X)n(ue,Se,rt,ne,v),Be=ue,Ie=Se,Se+=v,ne+=v;c.rc=Be,c.Vc=Ie}else{if(t(te.mc!=null),v=j+I,t((X=te.mc)!=null),t(v<=X.i),X.C>=v)v=1;else if(te.ic||Te(),te.ic){te=X.V,Be=X.Ba,Ie=X.c;var Ge=X.i,je=(rt=1,ne=X.$/Ie,ue=X.$%Ie,Se=X.m,ze=X.s,X.$),Le=Ie*Ge,et=Ie*v,it=ze.wc,tt=je<et?Er(ze,ue,ne):null;t(je<=Le),t(v<=Ge),t(xs(ze));t:for(;;){for(;!Se.h&&je<et;){if(ue&it||(tt=Er(ze,ue,ne)),t(tt!=null),fe(Se),256>(Ge=or(tt.G[0],tt.H[0],Se)))te[Be+je]=Ge,++je,++ue>=Ie&&(ue=0,++ne<=v&&!(ne%16)&&jn(X,ne));else{if(!(280>Ge)){rt=0;break t}Ge=Dn(Ge-256,Se);var jt,bt=or(tt.G[4],tt.H[4],Se);if(fe(Se),!(je>=(bt=sr(Ie,bt=Dn(bt,Se)))&&Le-je>=Ge)){rt=0;break t}for(jt=0;jt<Ge;++jt)te[Be+je+jt]=te[Be+je+jt-bt];for(je+=Ge,ue+=Ge;ue>=Ie;)ue-=Ie,++ne<=v&&!(ne%16)&&jn(X,ne);je<et&&ue&it&&(tt=Er(ze,ue,ne))}t(Se.h==Z(Se))}jn(X,ne>v?v:ne);break t}!rt||Se.h&&je<Le?(rt=0,X.a=Se.h?5:3):X.$=je,v=rt}else v=ln(X,X.V,X.Ba,X.c,X.i,v,mi);if(!v){I=0;break e}}j+I>=Y&&(c.Cc=1),I=1}if(!I)return null;if(c.Cc&&((I=c.ga)!=null&&(I.mc=null),c.ga=null,0<c.Ga))return alert("todo:WebPDequantizeLevels"),null}return c.nb+j*W}function b(c,v,j,I,W,Y){for(;0<W--;){var X,te=c,ne=v+(j?1:0),ue=c,Se=v+(j?0:3);for(X=0;X<I;++X){var ze=ue[Se+4*X];ze!=255&&(ze*=32897,te[ne+4*X+0]=te[ne+4*X+0]*ze>>23,te[ne+4*X+1]=te[ne+4*X+1]*ze>>23,te[ne+4*X+2]=te[ne+4*X+2]*ze>>23)}v+=Y}}function H(c,v,j,I,W){for(;0<I--;){var Y;for(Y=0;Y<j;++Y){var X=c[v+2*Y+0],te=15&(ue=c[v+2*Y+1]),ne=4369*te,ue=(240&ue|ue>>4)*ne>>16;c[v+2*Y+0]=(240&X|X>>4)*ne>>16&240|(15&X|X<<4)*ne>>16>>4&15,c[v+2*Y+1]=240&ue|te}v+=W}}function ce(c,v,j,I,W,Y,X,te){var ne,ue,Se=255;for(ue=0;ue<W;++ue){for(ne=0;ne<I;++ne){var ze=c[v+ne];Y[X+4*ne]=ze,Se&=ze}v+=j,X+=te}return Se!=255}function xe(c,v,j,I,W){var Y;for(Y=0;Y<W;++Y)j[I+Y]=c[v+Y]>>8}function Te(){mt=b,nt=H,ft=ce,Lt=xe}function Qe(c,v,j){N[c]=function(I,W,Y,X,te,ne,ue,Se,ze,Be,Ie,rt,Ge,je,Le,et,it){var tt,jt=it-1>>1,bt=te[ne+0]|ue[Se+0]<<16,Tt=ze[Be+0]|Ie[rt+0]<<16;t(I!=null);var Nt=3*bt+Tt+131074>>2;for(v(I[W+0],255&Nt,Nt>>16,Ge,je),Y!=null&&(Nt=3*Tt+bt+131074>>2,v(Y[X+0],255&Nt,Nt>>16,Le,et)),tt=1;tt<=jt;++tt){var dr=te[ne+tt]|ue[Se+tt]<<16,pr=ze[Be+tt]|Ie[rt+tt]<<16,ur=bt+dr+Tt+pr+524296,nr=ur+2*(dr+Tt)>>3;Nt=nr+bt>>1,bt=(ur=ur+2*(bt+pr)>>3)+dr>>1,v(I[W+2*tt-1],255&Nt,Nt>>16,Ge,je+(2*tt-1)*j),v(I[W+2*tt-0],255&bt,bt>>16,Ge,je+(2*tt-0)*j),Y!=null&&(Nt=ur+Tt>>1,bt=nr+pr>>1,v(Y[X+2*tt-1],255&Nt,Nt>>16,Le,et+(2*tt-1)*j),v(Y[X+2*tt+0],255&bt,bt>>16,Le,et+(2*tt+0)*j)),bt=dr,Tt=pr}1&it||(Nt=3*bt+Tt+131074>>2,v(I[W+it-1],255&Nt,Nt>>16,Ge,je+(it-1)*j),Y!=null&&(Nt=3*Tt+bt+131074>>2,v(Y[X+it-1],255&Nt,Nt>>16,Le,et+(it-1)*j)))}}function at(){os[fo]=jw,os[_f]=h2,os[l2]=_w,os[Af]=p2,os[kf]=m2,os[rp]=g2,os[u2]=Aw,os[np]=h2,os[ip]=p2,os[Lf]=m2,os[sp]=g2}function St(c){return c&-16384?0>c?0:255:c>>kw}function Ft(c,v){return St((19077*c>>8)+(26149*v>>8)-14234)}function Ht(c,v,j){return St((19077*c>>8)-(6419*v>>8)-(13320*j>>8)+8708)}function Bt(c,v){return St((19077*c>>8)+(33050*v>>8)-17685)}function rr(c,v,j,I,W){I[W+0]=Ft(c,j),I[W+1]=Ht(c,v,j),I[W+2]=Bt(c,v)}function Nr(c,v,j,I,W){I[W+0]=Bt(c,v),I[W+1]=Ht(c,v,j),I[W+2]=Ft(c,j)}function _r(c,v,j,I,W){var Y=Ht(c,v,j);v=Y<<3&224|Bt(c,v)>>3,I[W+0]=248&Ft(c,j)|Y>>5,I[W+1]=v}function Ur(c,v,j,I,W){var Y=240&Bt(c,v)|15;I[W+0]=240&Ft(c,j)|Ht(c,v,j)>>4,I[W+1]=Y}function xn(c,v,j,I,W){I[W+0]=255,rr(c,v,j,I,W+1)}function fn(c,v,j,I,W){Nr(c,v,j,I,W),I[W+3]=255}function xi(c,v,j,I,W){rr(c,v,j,I,W),I[W+3]=255}function zn(c,v){return 0>c?0:c>v?v:c}function ss(c,v,j){N[c]=function(I,W,Y,X,te,ne,ue,Se,ze){for(var Be=Se+(-2&ze)*j;Se!=Be;)v(I[W+0],Y[X+0],te[ne+0],ue,Se),v(I[W+1],Y[X+0],te[ne+0],ue,Se+j),W+=2,++X,++ne,Se+=2*j;1&ze&&v(I[W+0],Y[X+0],te[ne+0],ue,Se)}}function ul(c,v,j){return j==0?c==0?v==0?6:5:v==0?4:0:j}function Aa(c,v,j,I,W){switch(c>>>30){case 3:ye(v,j,I,W,0);break;case 2:ge(v,j,I,W);break;case 1:pe(v,j,I,W)}}function lo(c,v){var j,I,W=v.M,Y=v.Nb,X=c.oc,te=c.pc+40,ne=c.oc,ue=c.pc+584,Se=c.oc,ze=c.pc+600;for(j=0;16>j;++j)X[te+32*j-1]=129;for(j=0;8>j;++j)ne[ue+32*j-1]=129,Se[ze+32*j-1]=129;for(0<W?X[te-1-32]=ne[ue-1-32]=Se[ze-1-32]=129:(i(X,te-32-1,127,21),i(ne,ue-32-1,127,9),i(Se,ze-32-1,127,9)),I=0;I<c.za;++I){var Be=v.ya[v.aa+I];if(0<I){for(j=-1;16>j;++j)n(X,te+32*j-4,X,te+32*j+12,4);for(j=-1;8>j;++j)n(ne,ue+32*j-4,ne,ue+32*j+4,4),n(Se,ze+32*j-4,Se,ze+32*j+4,4)}var Ie=c.Gd,rt=c.Hd+I,Ge=Be.ad,je=Be.Hc;if(0<W&&(n(X,te-32,Ie[rt].y,0,16),n(ne,ue-32,Ie[rt].f,0,8),n(Se,ze-32,Ie[rt].ea,0,8)),Be.Za){var Le=X,et=te-32+16;for(0<W&&(I>=c.za-1?i(Le,et,Ie[rt].y[15],4):n(Le,et,Ie[rt+1].y,0,4)),j=0;4>j;j++)Le[et+128+j]=Le[et+256+j]=Le[et+384+j]=Le[et+0+j];for(j=0;16>j;++j,je<<=2)Le=X,et=te+y2[j],Cs[Be.Ob[j]](Le,et),Aa(je,Ge,16*+j,Le,et)}else if(Le=ul(I,W,Be.Ob[0]),ho[Le](X,te),je!=0)for(j=0;16>j;++j,je<<=2)Aa(je,Ge,16*+j,X,te+y2[j]);for(j=Be.Gc,Le=ul(I,W,Be.Dd),Ea[Le](ne,ue),Ea[Le](Se,ze),je=Ge,Le=ne,et=ue,255&(Be=j>>0)&&(170&Be?Pe(je,256,Le,et):Ce(je,256,Le,et)),Be=Se,je=ze,255&(j>>=8)&&(170&j?Pe(Ge,320,Be,je):Ce(Ge,320,Be,je)),W<c.Ub-1&&(n(Ie[rt].y,0,X,te+480,16),n(Ie[rt].f,0,ne,ue+224,8),n(Ie[rt].ea,0,Se,ze+224,8)),j=8*Y*c.B,Ie=c.sa,rt=c.ta+16*I+16*Y*c.R,Ge=c.qa,Be=c.ra+8*I+j,je=c.Ha,Le=c.Ia+8*I+j,j=0;16>j;++j)n(Ie,rt+j*c.R,X,te+32*j,16);for(j=0;8>j;++j)n(Ge,Be+j*c.B,ne,ue+32*j,8),n(je,Le+j*c.B,Se,ze+32*j,8)}}function ka(c,v,j,I,W,Y,X,te,ne){var ue=[0],Se=[0],ze=0,Be=ne!=null?ne.kd:0,Ie=ne??new Sa;if(c==null||12>j)return 7;Ie.data=c,Ie.w=v,Ie.ha=j,v=[v],j=[j],Ie.gb=[Ie.gb];e:{var rt=v,Ge=j,je=Ie.gb;if(t(c!=null),t(Ge!=null),t(je!=null),je[0]=0,12<=Ge[0]&&!r(c,rt[0],"RIFF")){if(r(c,rt[0]+8,"WEBP")){je=3;break e}var Le=Ze(c,rt[0]+4);if(12>Le||4294967286<Le){je=3;break e}if(Be&&Le>Ge[0]-8){je=7;break e}je[0]=Le,rt[0]+=12,Ge[0]-=12}je=0}if(je!=0)return je;for(Le=0<Ie.gb[0],j=j[0];;){e:{var et=c;Ge=v,je=j;var it=ue,tt=Se,jt=rt=[0];if((Nt=ze=[ze])[0]=0,8>je[0])je=7;else{if(!r(et,Ge[0],"VP8X")){if(Ze(et,Ge[0]+4)!=10){je=3;break e}if(18>je[0]){je=7;break e}var bt=Ze(et,Ge[0]+8),Tt=1+Re(et,Ge[0]+12);if(2147483648<=Tt*(et=1+Re(et,Ge[0]+15))){je=3;break e}jt!=null&&(jt[0]=bt),it!=null&&(it[0]=Tt),tt!=null&&(tt[0]=et),Ge[0]+=18,je[0]-=18,Nt[0]=1}je=0}}if(ze=ze[0],rt=rt[0],je!=0)return je;if(Ge=!!(2&rt),!Le&&ze)return 3;if(Y!=null&&(Y[0]=!!(16&rt)),X!=null&&(X[0]=Ge),te!=null&&(te[0]=0),X=ue[0],rt=Se[0],ze&&Ge&&ne==null){je=0;break}if(4>j){je=7;break}if(Le&&ze||!Le&&!ze&&!r(c,v[0],"ALPH")){j=[j],Ie.na=[Ie.na],Ie.P=[Ie.P],Ie.Sa=[Ie.Sa];e:{bt=c,je=v,Le=j;var Nt=Ie.gb;it=Ie.na,tt=Ie.P,jt=Ie.Sa,Tt=22,t(bt!=null),t(Le!=null),et=je[0];var dr=Le[0];for(t(it!=null),t(jt!=null),it[0]=null,tt[0]=null,jt[0]=0;;){if(je[0]=et,Le[0]=dr,8>dr){je=7;break e}var pr=Ze(bt,et+4);if(4294967286<pr){je=3;break e}var ur=8+pr+1&-2;if(Tt+=ur,0<Nt&&Tt>Nt){je=3;break e}if(!r(bt,et,"VP8 ")||!r(bt,et,"VP8L")){je=0;break e}if(dr[0]<ur){je=7;break e}r(bt,et,"ALPH")||(it[0]=bt,tt[0]=et+8,jt[0]=pr),et+=ur,dr-=ur}}if(j=j[0],Ie.na=Ie.na[0],Ie.P=Ie.P[0],Ie.Sa=Ie.Sa[0],je!=0)break}j=[j],Ie.Ja=[Ie.Ja],Ie.xa=[Ie.xa];e:if(Nt=c,je=v,Le=j,it=Ie.gb[0],tt=Ie.Ja,jt=Ie.xa,bt=je[0],et=!r(Nt,bt,"VP8 "),Tt=!r(Nt,bt,"VP8L"),t(Nt!=null),t(Le!=null),t(tt!=null),t(jt!=null),8>Le[0])je=7;else{if(et||Tt){if(Nt=Ze(Nt,bt+4),12<=it&&Nt>it-12){je=3;break e}if(Be&&Nt>Le[0]-8){je=7;break e}tt[0]=Nt,je[0]+=8,Le[0]-=8,jt[0]=Tt}else jt[0]=5<=Le[0]&&Nt[bt+0]==47&&!(Nt[bt+4]>>5),tt[0]=Le[0];je=0}if(j=j[0],Ie.Ja=Ie.Ja[0],Ie.xa=Ie.xa[0],v=v[0],je!=0)break;if(4294967286<Ie.Ja)return 3;if(te==null||Ge||(te[0]=Ie.xa?2:1),X=[X],rt=[rt],Ie.xa){if(5>j){je=7;break}te=X,Be=rt,Ge=Y,c==null||5>j?c=0:5<=j&&c[v+0]==47&&!(c[v+4]>>5)?(Le=[0],Nt=[0],it=[0],Q(tt=new R,c,v,j),Ot(tt,Le,Nt,it)?(te!=null&&(te[0]=Le[0]),Be!=null&&(Be[0]=Nt[0]),Ge!=null&&(Ge[0]=it[0]),c=1):c=0):c=0}else{if(10>j){je=7;break}te=rt,c==null||10>j||!rl(c,v+3,j-3)?c=0:(Be=c[v+0]|c[v+1]<<8|c[v+2]<<16,Ge=16383&(c[v+7]<<8|c[v+6]),c=16383&(c[v+9]<<8|c[v+8]),1&Be||3<(Be>>1&7)||!(Be>>4&1)||Be>>5>=Ie.Ja||!Ge||!c?c=0:(X&&(X[0]=Ge),te&&(te[0]=c),c=1))}if(!c||(X=X[0],rt=rt[0],ze&&(ue[0]!=X||Se[0]!=rt)))return 3;ne!=null&&(ne[0]=Ie,ne.offset=v-ne.w,t(4294967286>v-ne.w),t(ne.offset==ne.ha-j));break}return je==0||je==7&&ze&&ne==null?(Y!=null&&(Y[0]|=Ie.na!=null&&0<Ie.na.length),I!=null&&(I[0]=X),W!=null&&(W[0]=rt),0):je}function cl(c,v,j){var I=v.width,W=v.height,Y=0,X=0,te=I,ne=W;if(v.Da=c!=null&&0<c.Da,v.Da&&(te=c.cd,ne=c.bd,Y=c.v,X=c.j,11>j||(Y&=-2,X&=-2),0>Y||0>X||0>=te||0>=ne||Y+te>I||X+ne>W))return 0;if(v.v=Y,v.j=X,v.va=Y+te,v.o=X+ne,v.U=te,v.T=ne,v.da=c!=null&&0<c.da,v.da){if(!xt(te,ne,j=[c.ib],Y=[c.hb]))return 0;v.ib=j[0],v.hb=Y[0]}return v.ob=c!=null&&c.ob,v.Kb=c==null||!c.Sd,v.da&&(v.ob=v.ib<3*I/4&&v.hb<3*W/4,v.Kb=0),1}function fl(c){if(c==null)return 2;if(11>c.S){var v=c.f.RGBA;v.fb+=(c.height-1)*v.A,v.A=-v.A}else v=c.f.kb,c=c.height,v.O+=(c-1)*v.fa,v.fa=-v.fa,v.N+=(c-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(c-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(c-1)*v.lb,v.lb=-v.lb);return 0}function uo(c,v,j,I){if(I==null||0>=c||0>=v)return 2;if(j!=null){if(j.Da){var W=j.cd,Y=j.bd,X=-2&j.v,te=-2&j.j;if(0>X||0>te||0>=W||0>=Y||X+W>c||te+Y>v)return 2;c=W,v=Y}if(j.da){if(!xt(c,v,W=[j.ib],Y=[j.hb]))return 2;c=W[0],v=Y[0]}}I.width=c,I.height=v;e:{var ne=I.width,ue=I.height;if(c=I.S,0>=ne||0>=ue||!(c>=fo&&13>c))c=2;else{if(0>=I.Rd&&I.sd==null){X=Y=W=v=0;var Se=(te=ne*x2[c])*ue;if(11>c||(Y=(ue+1)/2*(v=(ne+1)/2),c==12&&(X=(W=ne)*ue)),(ue=s(Se+2*Y+X))==null){c=1;break e}I.sd=ue,11>c?((ne=I.f.RGBA).eb=ue,ne.fb=0,ne.A=te,ne.size=Se):((ne=I.f.kb).y=ue,ne.O=0,ne.fa=te,ne.Fd=Se,ne.f=ue,ne.N=0+Se,ne.Ab=v,ne.Cd=Y,ne.ea=ue,ne.W=0+Se+Y,ne.Db=v,ne.Ed=Y,c==12&&(ne.F=ue,ne.J=0+Se+2*Y),ne.Tc=X,ne.lb=W)}if(v=1,W=I.S,Y=I.width,X=I.height,W>=fo&&13>W)if(11>W)c=I.f.RGBA,v&=(te=Math.abs(c.A))*(X-1)+Y<=c.size,v&=te>=Y*x2[W],v&=c.eb!=null;else{c=I.f.kb,te=(Y+1)/2,Se=(X+1)/2,ne=Math.abs(c.fa),ue=Math.abs(c.Ab);var ze=Math.abs(c.Db),Be=Math.abs(c.lb),Ie=Be*(X-1)+Y;v&=ne*(X-1)+Y<=c.Fd,v&=ue*(Se-1)+te<=c.Cd,v=(v&=ze*(Se-1)+te<=c.Ed)&ne>=Y&ue>=te&ze>=te,v&=c.y!=null,v&=c.f!=null,v&=c.ea!=null,W==12&&(v&=Be>=Y,v&=Ie<=c.Tc,v&=c.F!=null)}else v=0;c=v?0:2}}return c!=0||j!=null&&j.fd&&(c=fl(I)),c}var qr=64,Bn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],xr=24,Es=32,_n=8,Un=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ie("Predictor0","PredictorAdd0"),N.Predictor0=function(){return 4278190080},N.Predictor1=function(c){return c},N.Predictor2=function(c,v,j){return v[j+0]},N.Predictor3=function(c,v,j){return v[j+1]},N.Predictor4=function(c,v,j){return v[j-1]},N.Predictor5=function(c,v,j){return me(me(c,v[j+1]),v[j+0])},N.Predictor6=function(c,v,j){return me(c,v[j-1])},N.Predictor7=function(c,v,j){return me(c,v[j+0])},N.Predictor8=function(c,v,j){return me(v[j-1],v[j+0])},N.Predictor9=function(c,v,j){return me(v[j+0],v[j+1])},N.Predictor10=function(c,v,j){return me(me(c,v[j-1]),me(v[j+0],v[j+1]))},N.Predictor11=function(c,v,j){var I=v[j+0];return 0>=Ue(I>>24&255,c>>24&255,(v=v[j-1])>>24&255)+Ue(I>>16&255,c>>16&255,v>>16&255)+Ue(I>>8&255,c>>8&255,v>>8&255)+Ue(255&I,255&c,255&v)?I:c},N.Predictor12=function(c,v,j){var I=v[j+0];return(Ve((c>>24&255)+(I>>24&255)-((v=v[j-1])>>24&255))<<24|Ve((c>>16&255)+(I>>16&255)-(v>>16&255))<<16|Ve((c>>8&255)+(I>>8&255)-(v>>8&255))<<8|Ve((255&c)+(255&I)-(255&v)))>>>0},N.Predictor13=function(c,v,j){var I=v[j-1];return(Me((c=me(c,v[j+0]))>>24&255,I>>24&255)<<24|Me(c>>16&255,I>>16&255)<<16|Me(c>>8&255,I>>8&255)<<8|Me(c>>0&255,I>>0&255))>>>0};var dl=N.PredictorAdd0;N.PredictorAdd1=Ye,ie("Predictor2","PredictorAdd2"),ie("Predictor3","PredictorAdd3"),ie("Predictor4","PredictorAdd4"),ie("Predictor5","PredictorAdd5"),ie("Predictor6","PredictorAdd6"),ie("Predictor7","PredictorAdd7"),ie("Predictor8","PredictorAdd8"),ie("Predictor9","PredictorAdd9"),ie("Predictor10","PredictorAdd10"),ie("Predictor11","PredictorAdd11"),ie("Predictor12","PredictorAdd12"),ie("Predictor13","PredictorAdd13");var co=N.PredictorAdd2;kt("ColorIndexInverseTransform","MapARGB","32b",function(c){return c>>8&255},function(c){return c}),kt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(c){return c},function(c){return c>>8&255});var as,qn=N.ColorIndexInverseTransform,Mi=N.MapARGB,zi=N.VP8LColorIndexInverseTransformAlpha,hl=N.MapAlpha,p=N.VP8LPredictorsAdd=[];p.length=16,(N.VP8LPredictors=[]).length=16,(N.VP8LPredictorsAdd_C=[]).length=16,(N.VP8LPredictors_C=[]).length=16;var y,A,O,B,G,oe,he,ye,ge,Pe,pe,Ce,Ne,ke,Ae,Fe,De,qe,Ke,Xe,ct,vt,lt,ut,mt,nt,ft,Lt,Ct=s(511),$t=s(2041),bn=s(225),Mt=s(767),Yr=0,dn=$t,La=bn,hr=Mt,hn=Ct,fo=0,_f=1,l2=2,Af=3,kf=4,rp=5,u2=6,np=7,ip=8,Lf=9,sp=10,cw=[2,3,7],fw=[3,3,11],c2=[280,256,256,256,40],dw=[0,1,1,1,0],hw=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],pw=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],mw=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],gw=8,ap=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],op=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ac=null,vw=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],yw=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],f2=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],xw=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],bw=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ww=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Nw=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ho=[],Cs=[],Ea=[],Sw=1,d2=2,po=[],os=[];Qe("UpsampleRgbLinePair",rr,3),Qe("UpsampleBgrLinePair",Nr,3),Qe("UpsampleRgbaLinePair",xi,4),Qe("UpsampleBgraLinePair",fn,4),Qe("UpsampleArgbLinePair",xn,4),Qe("UpsampleRgba4444LinePair",Ur,2),Qe("UpsampleRgb565LinePair",_r,2);var jw=N.UpsampleRgbLinePair,_w=N.UpsampleBgrLinePair,h2=N.UpsampleRgbaLinePair,p2=N.UpsampleBgraLinePair,m2=N.UpsampleArgbLinePair,g2=N.UpsampleRgba4444LinePair,Aw=N.UpsampleRgb565LinePair,Ef=16,Cf=1<<Ef-1,oc=-227,lp=482,kw=6,v2=0,Lw=s(256),Ew=s(256),Cw=s(256),Pw=s(256),Fw=s(lp-oc),Iw=s(lp-oc);ss("YuvToRgbRow",rr,3),ss("YuvToBgrRow",Nr,3),ss("YuvToRgbaRow",xi,4),ss("YuvToBgraRow",fn,4),ss("YuvToArgbRow",xn,4),ss("YuvToRgba4444Row",Ur,2),ss("YuvToRgb565Row",_r,2);var y2=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Pf=[0,2,8],Ow=[8,7,6,4,4,2,2,2,1,1,1,1],Rw=1;this.WebPDecodeRGBA=function(c,v,j,I,W){var Y=_f,X=new Xs,te=new Pn;X.ba=te,te.S=Y,te.width=[te.width],te.height=[te.height];var ne=te.width,ue=te.height,Se=new Kr;if(Se==null||c==null)var ze=2;else t(Se!=null),ze=ka(c,v,j,Se.width,Se.height,Se.Pd,Se.Qd,Se.format,null);if(ze!=0?ne=0:(ne!=null&&(ne[0]=Se.width[0]),ue!=null&&(ue[0]=Se.height[0]),ne=1),ne){te.width=te.width[0],te.height=te.height[0],I!=null&&(I[0]=te.width),W!=null&&(W[0]=te.height);e:{if(I=new va,(W=new Sa).data=c,W.w=v,W.ha=j,W.kd=1,v=[0],t(W!=null),((c=ka(W.data,W.w,W.ha,null,null,null,v,null,W))==0||c==7)&&v[0]&&(c=4),(v=c)==0){if(t(X!=null),I.data=W.data,I.w=W.w+W.offset,I.ha=W.ha-W.offset,I.put=Lr,I.ac=wr,I.bc=Fn,I.ma=X,W.xa){if((c=pi())==null){X=1;break e}if(function(Be,Ie){var rt=[0],Ge=[0],je=[0];t:for(;;){if(Be==null)return 0;if(Ie==null)return Be.a=2,0;if(Be.l=Ie,Be.a=0,Q(Be.m,Ie.data,Ie.w,Ie.ha),!Ot(Be.m,rt,Ge,je)){Be.a=3;break t}if(Be.xb=d2,Ie.width=rt[0],Ie.height=Ge[0],!yn(rt[0],Ge[0],1,Be,null))break t;return 1}return t(Be.a!=0),0}(c,I)){if(I=(v=uo(I.width,I.height,X.Oa,X.ba))==0){t:{I=c;r:for(;;){if(I==null){I=0;break t}if(t(I.s.yc!=null),t(I.s.Ya!=null),t(0<I.s.Wb),t((j=I.l)!=null),t((W=j.ma)!=null),I.xb!=0){if(I.ca=W.ba,I.tb=W.tb,t(I.ca!=null),!cl(W.Oa,j,Af)){I.a=2;break r}if(!Gs(I,j.width)||j.da)break r;if((j.da||Kt(I.ca.S))&&Te(),11>I.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),I.ca.f.kb.F!=null&&Te()),I.Pb&&0<I.s.ua&&I.s.vb.X==null&&!dt(I.s.vb,I.s.Wa.Xa)){I.a=1;break r}I.xb=0}if(!ln(I,I.V,I.Ba,I.c,I.i,j.o,ys))break r;W.Dc=I.Ma,I=1;break t}t(I.a!=0),I=0}I=!I}I&&(v=c.a)}else v=c.a}else{if((c=new Xt)==null){X=1;break e}if(c.Fa=W.na,c.P=W.P,c.qc=W.Sa,ya(c,I)){if((v=uo(I.width,I.height,X.Oa,X.ba))==0){if(c.Aa=0,j=X.Oa,t((W=c)!=null),j!=null){if(0<(ne=0>(ne=j.Md)?0:100<ne?255:255*ne/100)){for(ue=Se=0;4>ue;++ue)12>(ze=W.pb[ue]).lc&&(ze.ia=ne*Ow[0>ze.lc?0:ze.lc]>>3),Se|=ze.ia;Se&&(alert("todo:VP8InitRandom"),W.ia=1)}W.Ga=j.Id,100<W.Ga?W.Ga=100:0>W.Ga&&(W.Ga=0)}$l(c,I)||(v=c.a)}}else v=c.a}v==0&&X.Oa!=null&&X.Oa.fd&&(v=fl(X.ba))}X=v}Y=X!=0?null:11>Y?te.f.RGBA.eb:te.f.kb.y}else Y=null;return Y};var x2=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(N,k){for(var M="",P=0;P<4;P++)M+=String.fromCharCode(N[k++]);return M}function f(N,k){return(N[k+0]<<0|N[k+1]<<8|N[k+2]<<16)>>>0}function h(N,k){return(N[k+0]<<0|N[k+1]<<8|N[k+2]<<16|N[k+3]<<24)>>>0}new l;var m=[0],g=[0],w=[],_=new l,L=e,x=function(N,k){var M={},P=0,E=!1,C=0,D=0;if(M.frames=[],!function(K,Z,ee,fe){for(var we=0;we<fe;we++)if(K[Z+we]!=ee.charCodeAt(we))return!0;return!1}(N,k,"RIFF",4)){var re,q;for(h(N,k+=4),k+=8;k<N.length;){var z=d(N,k),Q=h(N,k+=4);k+=4;var J=Q+(1&Q);switch(z){case"VP8 ":case"VP8L":M.frames[P]===void 0&&(M.frames[P]={}),(R=M.frames[P]).src_off=E?D:k-8,R.src_size=C+Q+8,P++,E&&(E=!1,C=0,D=0);break;case"VP8X":(R=M.header={}).feature_flags=N[k];var ae=k+4;R.canvas_width=1+f(N,ae),ae+=3,R.canvas_height=1+f(N,ae),ae+=3;break;case"ALPH":E=!0,C=J+8,D=k-8;break;case"ANIM":(R=M.header).bgcolor=h(N,k),ae=k+4,R.loop_count=(re=N)[(q=ae)+0]<<0|re[q+1]<<8,ae+=2;break;case"ANMF":var be,R;(R=M.frames[P]={}).offset_x=2*f(N,k),k+=3,R.offset_y=2*f(N,k),k+=3,R.width=1+f(N,k),k+=3,R.height=1+f(N,k),k+=3,R.duration=f(N,k),k+=3,be=N[k++],R.dispose=1&be,R.blend=be>>1&1}z!="ANMF"&&(k+=J)}return M}}(L,0);x.response=L,x.rgbaoutput=!0,x.dataurl=!1;var S=x.header?x.header:null,F=x.frames?x.frames:null;if(S){S.loop_counter=S.loop_count,m=[S.canvas_height],g=[S.canvas_width];for(var T=0;T<F.length&&F[T].blend!=0;T++);}var V=F[0],U=_.WebPDecodeRGBA(L,V.src_off,V.src_size,g,m);V.rgba=U,V.imgwidth=g[0],V.imgheight=m[0];for(var $=0;$<g[0]*m[0]*4;$++)w[$]=U[$];return this.width=g,this.height=m,this.data=w,this}(function(e){var t=function(){return typeof I1=="function"},r=function(m,g,w,_){var L=4,x=a;switch(_){case e.image_compression.FAST:L=1,x=s;break;case e.image_compression.MEDIUM:L=6,x=o;break;case e.image_compression.SLOW:L=9,x=l}m=n(m,g,w,x);var S=I1(m,{level:L});return e.__addimage__.arrayBufferToBinaryString(S)},n=function(m,g,w,_){for(var L,x,S,F=m.length/g,T=new Uint8Array(m.length+F),V=f(),U=0;U<F;U+=1){if(S=U*g,L=m.subarray(S,S+g),_)T.set(_(L,w,x),S+U);else{for(var $,N=V.length,k=[];$<N;$+=1)k[$]=V[$](L,w,x);var M=h(k.concat());T.set(k[M],S+U)}x=L}return T},i=function(m){var g=Array.apply([],m);return g.unshift(0),g},s=function(m,g){var w,_=[],L=m.length;_[0]=1;for(var x=0;x<L;x+=1)w=m[x-g]||0,_[x+1]=m[x]-w+256&255;return _},a=function(m,g,w){var _,L=[],x=m.length;L[0]=2;for(var S=0;S<x;S+=1)_=w&&w[S]||0,L[S+1]=m[S]-_+256&255;return L},o=function(m,g,w){var _,L,x=[],S=m.length;x[0]=3;for(var F=0;F<S;F+=1)_=m[F-g]||0,L=w&&w[F]||0,x[F+1]=m[F]+256-(_+L>>>1)&255;return x},l=function(m,g,w){var _,L,x,S,F=[],T=m.length;F[0]=4;for(var V=0;V<T;V+=1)_=m[V-g]||0,L=w&&w[V]||0,x=w&&w[V-g]||0,S=d(_,L,x),F[V+1]=m[V]-S+256&255;return F},d=function(m,g,w){if(m===g&&g===w)return m;var _=Math.abs(g-w),L=Math.abs(m-w),x=Math.abs(m+g-w-w);return _<=L&&_<=x?m:L<=x?g:w},f=function(){return[i,s,a,o,l]},h=function(m){var g=m.map(function(w){return w.reduce(function(_,L){return _+Math.abs(L)},0)});return g.indexOf(Math.min.apply(null,g))};e.processPNG=function(m,g,w,_){var L,x,S,F,T,V,U,$,N,k,M,P,E,C,D,re=this.decode.FLATE_DECODE,q="";if(this.__addimage__.isArrayBuffer(m)&&(m=new Uint8Array(m)),this.__addimage__.isArrayBufferView(m)){if(m=(S=new v7(m)).imgData,x=S.bits,L=S.colorSpace,T=S.colors,[4,6].indexOf(S.colorType)!==-1){if(S.bits===8){N=($=S.pixelBitlength==32?new Uint32Array(S.decodePixels().buffer):S.pixelBitlength==16?new Uint16Array(S.decodePixels().buffer):new Uint8Array(S.decodePixels().buffer)).length,M=new Uint8Array(N*S.colors),k=new Uint8Array(N);var z,Q=S.pixelBitlength-S.bits;for(C=0,D=0;C<N;C++){for(E=$[C],z=0;z<Q;)M[D++]=E>>>z&255,z+=S.bits;k[C]=E>>>z&255}}if(S.bits===16){N=($=new Uint32Array(S.decodePixels().buffer)).length,M=new Uint8Array(N*(32/S.pixelBitlength)*S.colors),k=new Uint8Array(N*(32/S.pixelBitlength)),P=S.colors>1,C=0,D=0;for(var J=0;C<N;)E=$[C++],M[D++]=E>>>0&255,P&&(M[D++]=E>>>16&255,E=$[C++],M[D++]=E>>>0&255),k[J++]=E>>>16&255;x=8}_!==e.image_compression.NONE&&t()?(m=r(M,S.width*S.colors,S.colors,_),U=r(k,S.width,1,_)):(m=M,U=k,re=void 0)}if(S.colorType===3&&(L=this.color_spaces.INDEXED,V=S.palette,S.transparency.indexed)){var ae=S.transparency.indexed,be=0;for(C=0,N=ae.length;C<N;++C)be+=ae[C];if((be/=255)===N-1&&ae.indexOf(0)!==-1)F=[ae.indexOf(0)];else if(be!==N){for($=S.decodePixels(),k=new Uint8Array($.length),C=0,N=$.length;C<N;C++)k[C]=ae[$[C]];U=r(k,S.width,1)}}var R=function(K){var Z;switch(K){case e.image_compression.FAST:Z=11;break;case e.image_compression.MEDIUM:Z=13;break;case e.image_compression.SLOW:Z=14;break;default:Z=12}return Z}(_);return re===this.decode.FLATE_DECODE&&(q="/Predictor "+R+" "),q+="/Colors "+T+" /BitsPerComponent "+x+" /Columns "+S.width,(this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),(U&&this.__addimage__.isArrayBuffer(U)||this.__addimage__.isArrayBufferView(U))&&(U=this.__addimage__.arrayBufferToBinaryString(U)),{alias:w,data:m,index:g,filter:re,decodeParameters:q,transparency:F,palette:V,sMask:U,predictor:R,width:S.width,height:S.height,bitsPerComponent:x,colorSpace:L}}}})(zt.API),function(e){e.processGIF89A=function(t,r,n,i){var s=new y7(t),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var d={data:l,width:a,height:o},f=new y0(100).encode(d,100);return e.processJPEG.call(this,f,r,n,i)},e.processGIF87A=e.processGIF89A}(zt.API),Os.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Os.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){jr.log("bit decode error:"+r)}},Os.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Os.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,o=s>>4,l=15&s,d=this.palette[o];if(this.data[a]=d.blue,this.data[a+1]=d.green,this.data[a+2]=d.red,this.data[a+3]=255,2*i+1>=this.width)break;d=this.palette[l],this.data[a+4]=d.blue,this.data[a+4+1]=d.green,this.data[a+4+2]=d.red,this.data[a+4+3]=255}t!==0&&(this.pos+=4-t)}},Os.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},Os.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&t)/t*255|0,o=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,d=s>>15?255:0,f=n*this.width*4+4*i;this.data[f]=l,this.data[f+1]=o,this.data[f+2]=a,this.data[f+3]=d}this.pos+=e}},Os.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,l=(a>>5&r)/r*255|0,d=(a>>11)/t*255|0,f=i*this.width*4+4*s;this.data[f]=d,this.data[f+1]=l,this.data[f+2]=o,this.data[f+3]=255}this.pos+=e}},Os.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},Os.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=a}},Os.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,i){var s=new Os(t,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},d=new y0(100).encode(l,100);return e.processJPEG.call(this,d,r,n,i)}}(zt.API),Z5.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,i){var s=new Z5(t),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},d=new y0(100).encode(l,100);return e.processJPEG.call(this,d,r,n,i)}}(zt.API),zt.API.processRGBA=function(e,t,r){for(var n=e.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,d=0;d<i;d+=4){var f=n[d],h=n[d+1],m=n[d+2],g=n[d+3];s[o++]=f,s[o++]=h,s[o++]=m,a[l++]=g}var w=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:w,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},zt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},su=zt.API,cd=su.getCharWidthsArray=function(e,t){var r,n,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,d=t.kerning?t.kerning:i.metadata.Unicode.kerning,f=d.fof?d.fof:1,h=t.doKerning!==!1,m=0,g=e.length,w=0,_=o[0]||l,L=[];for(r=0;r<g;r++)n=e.charCodeAt(r),typeof i.metadata.widthOfString=="function"?L.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(m=h&&gr(d[n])==="object"&&!isNaN(parseInt(d[n][w],10))?d[n][w]/f:0,L.push((o[n]||_)/l+m)),w=n;return L},Q5=su.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return su.processArabic&&(e=su.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,i)/r:cd.apply(this,arguments).reduce(function(s,a){return s+a},0)},J5=function(e,t,r,n){for(var i=[],s=0,a=e.length,o=0;s!==a&&o+t[s]<r;)o+=t[s],s++;i.push(e.slice(0,s));var l=s;for(o=0;s!==a;)o+t[s]>n&&(i.push(e.slice(l,s)),o=0,l=s),o+=t[s],s++;return l!==s&&i.push(e.slice(l,s)),i},Y5=function(e,t,r){r||(r={});var n,i,s,a,o,l,d,f=[],h=[f],m=r.textIndent||0,g=0,w=0,_=e.split(" "),L=cd.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?_[0].length+2:r.lineIndent||0){var x=Array(l).join(" "),S=[];_.map(function(T){(T=T.split(/\s*\n/)).length>1?S=S.concat(T.map(function(V,U){return(U&&V.length?`
`:"")+V})):S.push(T[0])}),_=S,l=Q5.apply(this,[x,r])}for(s=0,a=_.length;s<a;s++){var F=0;if(n=_[s],l&&n[0]==`
`&&(n=n.substr(1),F=1),m+g+(w=(i=cd.apply(this,[n,r])).reduce(function(T,V){return T+V},0))>t||F){if(w>t){for(o=J5.apply(this,[n,i,t-(m+g),t]),f.push(o.shift()),f=[o.pop()];o.length;)h.push([o.shift()]);w=i.slice(n.length-(f[0]?f[0].length:0)).reduce(function(T,V){return T+V},0)}else f=[n];h.push(f),m=w+l,g=L}else f.push(n),m+=g+w,g=L}return d=l?function(T,V){return(V?x:"")+T.join(" ")}:function(T){return T.join(" ")},h.map(d)},su.splitTextToSize=function(e,t,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var h=this.internal.getFont(f.fontName,f.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var o,l,d=[];for(o=0,l=n.length;o<l;o++)d=d.concat(Y5.apply(this,[n[o],a,s]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},i=0;i<t.length;i++)r[t[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=t[i];var s=function(h){return"0x"+parseInt(h,10).toString(16)},a=e.__fontmetrics__.compress=function(h){var m,g,w,_,L=["{"];for(var x in h){if(m=h[x],isNaN(parseInt(x,10))?g="'"+x+"'":(x=parseInt(x,10),g=(g=s(x).slice(2)).slice(0,-1)+n[g.slice(-1)]),typeof m=="number")m<0?(w=s(m).slice(3),_="-"):(w=s(m).slice(2),_=""),w=_+w.slice(0,-1)+n[w.slice(-1)];else{if(gr(m)!=="object")throw new Error("Don't know what to do with value type "+gr(m)+".");w=a(m)}L.push(g+w)}return L.push("}"),L.join("")},o=e.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,g,w,_,L={},x=1,S=L,F=[],T="",V="",U=h.length-1,$=1;$<U;$+=1)(_=h[$])=="'"?m?(w=m.join(""),m=void 0):m=[]:m?m.push(_):_=="{"?(F.push([S,w]),S={},w=void 0):_=="}"?((g=F.pop())[0][g[1]]=S,w=void 0,S=g[0]):_=="-"?x=-1:w===void 0?r.hasOwnProperty(_)?(T+=r[_],w=parseInt(T,16)*x,x=1,T=""):T+=_:r.hasOwnProperty(_)?(V+=r[_],S[w]=parseInt(V,16)*x,x=1,w=void 0,V=""):V+=_;return L},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},f={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(h){var m=h.font,g=f.Unicode[m.postScriptName];g&&(m.metadata.Unicode={},m.metadata.Unicode.widths=g.widths,m.metadata.Unicode.kerning=g.kerning);var w=d.Unicode[m.postScriptName];w&&(m.metadata.Unicode.encoding=w,m.encoding=w.codePages[0])}])}(zt.API),function(e){var t=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};e.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(Bc(o)),a.metadata=e.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])}(zt),function(e){function t(){return(Ut.canvg?Promise.resolve(Ut.canvg):dh(()=>import("./index.es-Dj6TkNbQ.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}zt.API.addSvgAsImage=function(r,n,i,s,a,o,l,d){if(isNaN(n)||isNaN(i))throw jr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw jr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=s,f.height=a;var h=f.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,f.width,f.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return t().then(function(w){return w.fromString(h,r,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(m)}).then(function(){g.addImage(f.toDataURL("image/jpeg",1),n,i,s,a,l,d)})}}(),zt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,r);return this},zt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],d=0,f=0,h=0;function m(w,_){var L,x=!1;for(L=0;L<w.length;L+=1)w[L]===_&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var g=o.length;for(h=0;h<g;h+=1)r[o[h]].value=r[o[h]].defaultValue,r[o[h]].explicitSet=!1}if(gr(e)==="object"){for(i in e)if(s=e[i],m(o,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&m(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(d=0;d<s.length;d+=1)if(n=!0,s[d].length===1&&typeof s[d][0]=="number")l.push(String(s[d]-1));else if(s[d].length>1){for(f=0;f<s[d].length;f+=1)typeof s[d][f]!="number"&&(n=!1);n===!0&&l.push([s[d][0]-1,s[d][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,_=[];for(w in r)r[w].explicitSet===!0&&(r[w].type==="name"?_.push("/"+w+" /"+r[w].value):_.push("/"+w+" "+r[w].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(zt.API),function(e){var t=e.API,r=t.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,d=["","0","00","000","0000"],f=[""],h=0,m=s.length;h<m;++h){if(o=a.metadata.characterToGlyph(s.charCodeAt(h)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(h),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return f.join("");o=o.toString(16),f.push(d[4-o.length],o)}return f.join("")},n=function(s){var a,o,l,d,f,h,m;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,m=(o=Object.keys(s).sort(function(g,w){return g-w})).length;h<m;h++)a=o[h],l.length>=100&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(d=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+d+">"));return l.length&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,d=a.newObject,f=a.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var h=o.metadata.Unicode.widths,m=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),g="",w=0;w<m.length;w++)g+=String.fromCharCode(m[w]);var _=d();f({data:g,addLength1:!0,objectId:_}),l("endobj");var L=d();f({data:n(o.metadata.toUnicode),addLength1:!0,objectId:L}),l("endobj");var x=d();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+lu(o.fontName)),l("/FontFile2 "+_+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var S=d();l("<<"),l("/Type /Font"),l("/BaseFont /"+lu(o.fontName)),l("/FontDescriptor "+x+" 0 R"),l("/W "+e.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=d(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+L+" 0 R"),l("/BaseFont /"+lu(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+S+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,d=a.newObject,f=a.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var h=o.metadata.rawData,m="",g=0;g<h.length;g++)m+=String.fromCharCode(h[g]);var w=d();f({data:m,addLength1:!0,objectId:w}),l("endobj");var _=d();f({data:n(o.metadata.toUnicode),addLength1:!0,objectId:_}),l("endobj");var L=d();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+w+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+lu(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=d();for(var x=0;x<o.metadata.hmtx.widths.length;x++)o.metadata.hmtx.widths[x]=parseInt(o.metadata.hmtx.widths[x]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+lu(o.fontName)+"/FontDescriptor "+L+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,d=s.y,f=s.options||{},h=s.mutex||{},m=h.pdfEscape,g=h.activeFontKey,w=h.fonts,_=g,L="",x=0,S="",F=w[_].encoding;if(w[_].encoding!=="Identity-H")return{text:o,x:l,y:d,options:f,mutex:h};for(S=o,_=g,Array.isArray(o)&&(S=o[0]),x=0;x<S.length;x+=1)w[_].metadata.hasOwnProperty("cmap")&&(a=w[_].metadata.cmap.unicode.codeMap[S[x].charCodeAt(0)]),a||S[x].charCodeAt(0)<256&&w[_].metadata.hasOwnProperty("Unicode")?L+=S[x]:L+="";var T="";return parseInt(_.slice(1))<14||F==="WinAnsiEncoding"?T=m(L,_).split("").map(function(V){return V.charCodeAt(0).toString(16)}).join(""):F==="Identity-H"&&(T=r(L,w[_])),h.isHex=!0,{text:T,x:l,y:d,options:f,mutex:h}};t.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var d=0;for(d=0;d<a.length;d+=1)Array.isArray(a[d])&&a[d].length===3?o.push([i(Object.assign({},l,{text:a[d][0]})).text,a[d][1],a[d][2]]):o.push(i(Object.assign({},l,{text:a[d]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(zt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(zt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var i,s,a,o,l,d,f,h=t,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},L=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,F=0;this.__bidiEngine__={};var T=function(P){var E=P.charCodeAt(),C=E>>8,D=_[C];return D!==void 0?h[256*D+(255&E)]:C===252||C===253?"AL":x.test(C)?"L":C===8?"R":"N"},V=function(P){for(var E,C=0;C<P.length;C++){if((E=T(P.charAt(C)))==="L")return!1;if(E==="R")return!0}return!1},U=function(P,E,C,D){var re,q,z,Q,J=E[D];switch(J){case"L":case"R":S=!1;break;case"N":case"AN":break;case"EN":S&&(J="AN");break;case"AL":S=!0,J="R";break;case"WS":J="N";break;case"CS":D<1||D+1>=E.length||(re=C[D-1])!=="EN"&&re!=="AN"||(q=E[D+1])!=="EN"&&q!=="AN"?J="N":S&&(q="AN"),J=q===re?q:"N";break;case"ES":J=(re=D>0?C[D-1]:"B")==="EN"&&D+1<E.length&&E[D+1]==="EN"?"EN":"N";break;case"ET":if(D>0&&C[D-1]==="EN"){J="EN";break}if(S){J="N";break}for(z=D+1,Q=E.length;z<Q&&E[z]==="ET";)z++;J=z<Q&&E[z]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(Q=E.length,z=D+1;z<Q&&E[z]==="NSM";)z++;if(z<Q){var ae=P[D],be=ae>=1425&&ae<=2303||ae===64286;if(re=E[z],be&&(re==="R"||re==="AL")){J="R";break}}}J=D<1||(re=E[D-1])==="B"?"N":C[D-1];break;case"B":S=!1,i=!0,J=F;break;case"S":s=!0,J="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"BN":J="N"}return J},$=function(P,E,C){var D=P.split("");return C&&N(D,C,{hiLevel:F}),D.reverse(),E&&E.reverse(),D.join("")},N=function(P,E,C){var D,re,q,z,Q,J=-1,ae=P.length,be=0,R=[],K=F?g:m,Z=[];for(S=!1,i=!1,s=!1,re=0;re<ae;re++)Z[re]=T(P[re]);for(q=0;q<ae;q++){if(Q=be,R[q]=U(P,Z,R,q),D=240&(be=K[Q][w[R[q]]]),be&=15,E[q]=z=K[be][5],D>0)if(D===16){for(re=J;re<q;re++)E[re]=1;J=-1}else J=-1;if(K[be][6])J===-1&&(J=q);else if(J>-1){for(re=J;re<q;re++)E[re]=z;J=-1}Z[q]==="B"&&(E[q]=0),C.hiLevel|=z}s&&function(ee,fe,we){for(var ve=0;ve<we;ve++)if(ee[ve]==="S"){fe[ve]=F;for(var se=ve-1;se>=0&&ee[se]==="WS";se--)fe[se]=F}}(Z,E,ae)},k=function(P,E,C,D,re){if(!(re.hiLevel<P)){if(P===1&&F===1&&!i)return E.reverse(),void(C&&C.reverse());for(var q,z,Q,J,ae=E.length,be=0;be<ae;){if(D[be]>=P){for(Q=be+1;Q<ae&&D[Q]>=P;)Q++;for(J=be,z=Q-1;J<z;J++,z--)q=E[J],E[J]=E[z],E[z]=q,C&&(q=C[J],C[J]=C[z],C[z]=q);be=Q}be++}}},M=function(P,E,C){var D=P.split(""),re={hiLevel:F};return C||(C=[]),N(D,C,re),function(q,z,Q){if(Q.hiLevel!==0&&f)for(var J,ae=0;ae<q.length;ae++)z[ae]===1&&(J=L.indexOf(q[ae]))>=0&&(q[ae]=L[J+1])}(D,C,re),k(2,D,E,C,re),k(1,D,E,C,re),D.join("")};return this.__bidiEngine__.doBidiReorder=function(P,E,C){if(function(re,q){if(q)for(var z=0;z<re.length;z++)q[z]=z;o===void 0&&(o=V(re)),d===void 0&&(d=V(re))}(P,E),a||!l||d)if(a&&l&&o^d)F=o?1:0,P=$(P,E,C);else if(!a&&l&&d)F=o?1:0,P=M(P,E,C),P=$(P,E);else if(!a||o||l||d){if(a&&!l&&o^d)P=$(P,E),o?(F=0,P=M(P,E,C)):(F=1,P=M(P,E,C),P=$(P,E));else if(a&&o&&!l&&d)F=1,P=M(P,E,C),P=$(P,E);else if(!a&&!l&&o^d){var D=f;o?(F=1,P=M(P,E,C),F=0,f=!1,P=M(P,E,C),f=D):(F=0,P=M(P,E,C),P=$(P,E),F=1,f=!1,P=M(P,E,C),f=D,P=$(P,E))}}else F=0,P=M(P,E,C);else F=o?1:0,P=M(P,E,C);return P},this.__bidiEngine__.setOptions=function(P){P&&(a=P.isInputVisual,l=P.isOutputVisual,o=P.isInputRtl,d=P.isOutputRtl,f=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var i=n.text,s=(n.x,n.y,n.options||{}),a=(n.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([r.doBidiReorder(i[o])]);n.text=a}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(zt),zt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Qo(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new I7(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new x7(this.contents),this.head=new w7(this),this.name=new A7(this),this.cmap=new aw(this),this.toUnicode={},this.hhea=new N7(this),this.maxp=new k7(this),this.hmtx=new L7(this),this.post=new j7(this),this.os2=new S7(this),this.loca=new F7(this),this.glyf=new E7(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,d;for(d=[],a=0,o=(l=this.bbox).length;a<o;a++)t=l[a],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var i,s,a,o;for(a=0,s=0,o=(t=""+t).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=t.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return a*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Ks,Qo=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,i;for(i=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(t.charCodeAt(r)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,i,s,a,o,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*a+256*o+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,i,s;for(s=[],n=0,i=t.length;n<i;n++)r=t[n],s.push(this.writeByte(r));return s},e}(),x7=function(){var e;function t(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,i,s,a,o,l,d,f,h,m,g,w,_;for(_ in g=Object.keys(r).length,l=Math.log(2),h=16*Math.floor(Math.log(g)/l),a=Math.floor(h/l),f=16*g-h,(i=new Qo).writeInt(this.scalarType),i.writeShort(g),i.writeShort(h),i.writeShort(a),i.writeShort(f),s=16*g,d=i.pos+s,o=null,w=[],r)for(m=r[_],i.writeString(_),i.writeInt(e(m)),i.writeInt(d),i.writeInt(m.length),w=w.concat(m),_==="head"&&(o=d),d+=m.length;d%4;)w.push(0),d++;return i.write(w),n=2981146554-e(i.data),i.pos=o+8,i.writeUInt32(n),i.data},e=function(r){var n,i,s,a;for(r=ow.call(r);r.length%4;)r.push(0);for(s=new Qo(r),i=0,n=0,a=r.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},t}(),b7={}.hasOwnProperty,ha=function(e,t){for(var r in t)b7.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Ks=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var w7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ha(t,Ks),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new Qo).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),ev=function(){function e(t,r){var n,i,s,a,o,l,d,f,h,m,g,w,_,L,x,S,F;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(g=t.readUInt16(),m=g/2,t.pos+=6,s=function(){var T,V;for(V=[],l=T=0;0<=m?T<m:T>m;l=0<=m?++T:--T)V.push(t.readUInt16());return V}(),t.pos+=2,_=function(){var T,V;for(V=[],l=T=0;0<=m?T<m:T>m;l=0<=m?++T:--T)V.push(t.readUInt16());return V}(),d=function(){var T,V;for(V=[],l=T=0;0<=m?T<m:T>m;l=0<=m?++T:--T)V.push(t.readUInt16());return V}(),f=function(){var T,V;for(V=[],l=T=0;0<=m?T<m:T>m;l=0<=m?++T:--T)V.push(t.readUInt16());return V}(),i=(this.length-t.pos+this.offset)/2,o=function(){var T,V;for(V=[],l=T=0;0<=i?T<i:T>i;l=0<=i?++T:--T)V.push(t.readUInt16());return V}(),l=x=0,F=s.length;x<F;l=++x)for(L=s[l],n=S=w=_[l];w<=L?S<=L:S>=L;n=w<=L?++S:--S)f[l]===0?a=n+d[l]:(a=o[f[l]/2+(n-w)-(m-l)]||0)!==0&&(a+=d[l]),this.codeMap[n]=65535&a}t.pos=h}return e.encode=function(t,r){var n,i,s,a,o,l,d,f,h,m,g,w,_,L,x,S,F,T,V,U,$,N,k,M,P,E,C,D,re,q,z,Q,J,ae,be,R,K,Z,ee,fe,we,ve,se,$e,Oe,Re;switch(D=new Qo,a=Object.keys(t).sort(function(Ze,dt){return Ze-dt}),r){case"macroman":for(_=0,L=function(){var Ze=[];for(w=0;w<256;++w)Ze.push(0);return Ze}(),S={0:0},s={},re=0,J=a.length;re<J;re++)S[se=t[i=a[re]]]==null&&(S[se]=++_),s[i]={old:t[i],new:S[t[i]]},L[i]=S[t[i]];return D.writeUInt16(1),D.writeUInt16(0),D.writeUInt32(12),D.writeUInt16(0),D.writeUInt16(262),D.writeUInt16(0),D.write(L),{charMap:s,subtable:D.data,maxGlyphID:_+1};case"unicode":for(E=[],h=[],F=0,S={},n={},x=d=null,q=0,ae=a.length;q<ae;q++)S[V=t[i=a[q]]]==null&&(S[V]=++F),n[i]={old:V,new:S[V]},o=S[V]-i,x!=null&&o===d||(x&&h.push(x),E.push(i),d=o),x=i;for(x&&h.push(x),h.push(65535),E.push(65535),M=2*(k=E.length),N=2*Math.pow(Math.log(k)/Math.LN2,2),m=Math.log(N/2)/Math.LN2,$=2*k-N,l=[],U=[],g=[],w=z=0,be=E.length;z<be;w=++z){if(P=E[w],f=h[w],P===65535){l.push(0),U.push(0);break}if(P-(C=n[P].new)>=32768)for(l.push(0),U.push(2*(g.length+k-w)),i=Q=P;P<=f?Q<=f:Q>=f;i=P<=f?++Q:--Q)g.push(n[i].new);else l.push(C-P),U.push(0)}for(D.writeUInt16(3),D.writeUInt16(1),D.writeUInt32(12),D.writeUInt16(4),D.writeUInt16(16+8*k+2*g.length),D.writeUInt16(0),D.writeUInt16(M),D.writeUInt16(N),D.writeUInt16(m),D.writeUInt16($),we=0,R=h.length;we<R;we++)i=h[we],D.writeUInt16(i);for(D.writeUInt16(0),ve=0,K=E.length;ve<K;ve++)i=E[ve],D.writeUInt16(i);for($e=0,Z=l.length;$e<Z;$e++)o=l[$e],D.writeUInt16(o);for(Oe=0,ee=U.length;Oe<ee;Oe++)T=U[Oe],D.writeUInt16(T);for(Re=0,fe=g.length;Re<fe;Re++)_=g[Re],D.writeUInt16(_);return{charMap:n,subtable:D.data,maxGlyphID:F+1}}},e}(),aw=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ha(t,Ks),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,i,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)n=new ev(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var i,s;return n==null&&(n="macroman"),i=ev.encode(r,n),(s=new Qo).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},t}(),N7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ha(t,Ks),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),S7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ha(t,Ks),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(r.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(r.readInt());return i}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(r.readInt());return i}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),j7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ha(t,Ks),t.prototype.tag="post",t.prototype.parse=function(r){var n,i,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var a;for(i=r.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)n=r.readByte(),s.push(this.names.push(r.readString(n)));return s;case 151552:return i=r.readUInt16(),this.offsets=r.read(i);case 196608:break;case 262144:return this.map=(function(){var o,l,d;for(d=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)d.push(r.readUInt32());return d}).call(this)}},t}(),_7=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},A7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ha(t,Ks),t.prototype.tag="name",t.prototype.parse=function(r){var n,i,s,a,o,l,d,f,h,m,g;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),i=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)i.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(d={},a=h=0,m=i.length;h<m;a=++h)s=i[a],r.pos=s.offset,f=r.readString(s.length),o=new _7(f,s),d[g=s.nameID]==null&&(d[g]=[]),d[s.nameID].push(o);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},t}(),k7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ha(t,Ks),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),L7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ha(t,Ks),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,i,s,a,o,l,d;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,h;for(h=[],n=f=0;0<=s?f<s:f>s;n=0<=s?++f:--f)h.push(r.readInt16());return h}(),this.widths=(function(){var f,h,m,g;for(g=[],f=0,h=(m=this.metrics).length;f<h;f++)a=m[f],g.push(a.advance);return g}).call(this),i=this.widths[this.widths.length-1],d=[],n=o=0;0<=s?o<s:o>s;n=0<=s?++o:--o)d.push(this.widths.push(i));return d},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),ow=[].slice,E7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ha(t,Ks),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,i,s,a,o,l,d,f,h,m;return r in this.cache?this.cache[r]:(a=this.file.loca,n=this.file.contents,i=a.indexOf(r),(s=a.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+i,o=(l=new Qo(n.read(s))).readShort(),f=l.readShort(),m=l.readShort(),d=l.readShort(),h=l.readShort(),this.cache[r]=o===-1?new P7(l,f,m,d,h):new C7(l,o,f,m,d,h),this.cache[r]))},t.prototype.encode=function(r,n,i){var s,a,o,l,d;for(o=[],a=[],l=0,d=n.length;l<d;l++)s=r[n[l]],a.push(o.length),s&&(o=o.concat(s.encode(i)));return a.push(o.length),{table:o,offsets:a}},t}(),C7=function(){function e(t,r,n,i,s,a){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),P7=function(){function e(t,r,n,i,s){var a,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Qo(ow.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),F7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ha(t,Ks),t.prototype.tag="loca",t.prototype.parse=function(r){var n,i;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*r.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(r.readUInt32());return a}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,o=0;o<i.length;++o)if(i[o]=s,a<n.length&&n[a]==o){++a,i[o]=s;var l=this.offsets[o],d=this.offsets[o+1]-l;d>0&&(s+=d)}for(var f=new Array(4*i.length),h=0;h<i.length;++h)f[4*h+3]=255&i[h],f[4*h+2]=(65280&i[h])>>8,f[4*h+1]=(16711680&i[h])>>16,f[4*h]=(4278190080&i[h])>>24;return f},t}(),I7=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)n=s[r],t[r]=i[n];return t},e.prototype.glyphsFor=function(t){var r,n,i,s,a,o,l;for(i={},a=0,o=t.length;a<o;a++)i[s=t[a]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in l=this.glyphsFor(r))n=l[s],i[s]=n;return i},e.prototype.encode=function(t,r){var n,i,s,a,o,l,d,f,h,m,g,w,_,L,x;for(i in n=aw.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),g={0:0},x=n.charMap)g[(l=x[i]).old]=l.new;for(w in m=n.maxGlyphID,a)w in g||(g[w]=m++);return f=function(S){var F,T;for(F in T={},S)T[S[F]]=F;return T}(g),h=Object.keys(f).sort(function(S,F){return S-F}),_=function(){var S,F,T;for(T=[],S=0,F=h.length;S<F;S++)o=h[S],T.push(f[o]);return T}(),s=this.font.glyf.encode(a,_,g),d=this.font.loca.encode(s.offsets,_),L={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(L["OS/2"]=this.font.os2.raw()),this.font.directory.encode(L)},e}();zt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,i,s,a;if(Array.isArray(r))return"["+function(){var o,l,d;for(d=[],o=0,l=r.length;o<l;o++)n=r[o],d.push(t.convert(n));return d}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)a=r[i],s.push("/"+i+" "+t.convert(a));return s.push(">>"),s.join(`
`)}return""+r},t}();const tv=e=>new Date(e).toLocaleDateString("fr-FR"),rv=e=>new Promise((t,r)=>{const n=new Image;n.crossOrigin="Anonymous",n.onload=()=>{const i=document.createElement("canvas");i.width=n.width,i.height=n.height;const s=i.getContext("2d");s?(s.drawImage(n,0,0),t(i.toDataURL("image/png"))):r(new Error("Impossible de crer le contexte canvas"))},n.onerror=i=>r(new Error(`Erreur chargement image: ${e}`)),n.src=e}),nv=e=>e?e.startsWith("http")?e:`http://localhost:5000${e}`:"",O7=async(e,t)=>{var f,h,m,g,w,_;const r=new zt,n=r.internal.pageSize.getWidth(),i=r.internal.pageSize.getHeight();let s=20;if(t!=null&&t.companyLogoUrl)try{const L=nv(t.companyLogoUrl),x=await rv(L);r.addImage(x,"PNG",20,s,40,0),r.setFontSize(10),r.setFont("helvetica","bold"),r.text(t.name||"",70,s+5),r.setFont("helvetica","normal"),r.setFontSize(9);let S=s+10;t.address&&(r.text(t.address,70,S),S+=5),t.email&&(r.text(t.email,70,S),S+=5),t.phone&&r.text(t.phone,70,S),s+=30}catch(L){console.error("Erreur ajout logo PDF:",L),r.setFontSize(18),r.setFont("helvetica","bold"),r.text("Feuille de Travail",n/2,s,{align:"center"}),s+=15}else r.setFontSize(18),r.setFont("helvetica","bold"),r.text("Feuille de Travail",n/2,s,{align:"center"}),s+=15;t!=null&&t.companyLogoUrl&&(r.setFontSize(18),r.setFont("helvetica","bold"),r.text("Feuille de Travail",n/2,s,{align:"center"}),s+=10),r.setFontSize(10),r.setFont("helvetica","normal"),r.text(`Reference: FT-${e.id.substring(0,8).toUpperCase()}`,n/2,s,{align:"center"}),s+=10,r.setLineWidth(.5),r.line(20,s,n-20,s),s+=15,r.setFontSize(12),r.setFont("helvetica","bold"),r.text("Informations Generales",20,s),s+=10,r.setFontSize(10),r.setFont("helvetica","normal"),r.setFont("helvetica","bold"),r.text("Monteur:",20,s),r.setFont("helvetica","normal"),r.text(`${((f=e.monteur)==null?void 0:f.prenom)||""} ${((h=e.monteur)==null?void 0:h.nom)||""}`,60,s),s+=7,r.setFont("helvetica","bold"),r.text("N Identification:",20,s),r.setFont("helvetica","normal"),r.text(((m=e.monteur)==null?void 0:m.numeroIdentification)||"",60,s),s+=10,r.setFont("helvetica","bold"),r.text("Chantier:",20,s),r.setFont("helvetica","normal"),r.text(((g=e.chantier)==null?void 0:g.nom)||"",60,s),s+=7,r.setFont("helvetica","bold"),r.text("Reference:",20,s),r.setFont("helvetica","normal"),r.text(((w=e.chantier)==null?void 0:w.reference)||"",60,s),s+=7,r.setFont("helvetica","bold"),r.text("Adresse:",20,s),r.setFont("helvetica","normal");const a=((_=e.chantier)==null?void 0:_.adresse)||"";a.length>60?(r.text(a.substring(0,60),60,s),s+=5,r.text(a.substring(60),60,s)):r.text(a,60,s),s+=15,r.setFontSize(12),r.setFont("helvetica","bold"),r.text("Date et Horaires",20,s),s+=10,r.setFontSize(10),r.setFont("helvetica","bold"),r.text("Date de travail:",20,s),r.setFont("helvetica","normal"),r.text(tv(e.dateTravail),60,s),s+=7,r.setFont("helvetica","bold"),r.text("Horaires:",20,s),r.setFont("helvetica","normal"),r.text(`${e.heureDebut} - ${e.heureFin}`,60,s),s+=7,r.setFont("helvetica","bold"),r.text("Heures totales:",20,s),r.setFont("helvetica","normal"),r.text(`${e.heuresTotales}h`,60,s),s+=15,r.setFontSize(12),r.setFont("helvetica","bold"),r.text("Description du Travail",20,s),s+=10,r.setFontSize(10),r.setFont("helvetica","normal");const o=e.descriptionTravail||"",l=r.splitTextToSize(o,n-40);if(r.text(l,20,s),s+=l.length*5,e.frais&&e.frais.length>0){s+=10,r.setFontSize(12),r.setFont("helvetica","bold"),r.text("Frais",20,s),s+=10,r.setFontSize(9),r.setFillColor(240,240,240),r.rect(20,s-5,n-40,8,"F"),r.setFont("helvetica","bold"),r.text("Type",25,s),r.text("Description",70,s),r.text("Montant",n-45,s),s+=8,r.setFont("helvetica","normal");let L=0;e.frais.forEach(x=>{r.text(x.typeFrais,25,s);const S=x.description.length>40?x.description.substring(0,40)+"...":x.description;r.text(S,70,s),r.text(`${x.montant.toFixed(2)} EUR`,n-45,s),L+=x.montant,s+=7}),s+=3,r.setLineWidth(.3),r.line(20,s-3,n-20,s-3),r.setFont("helvetica","bold"),r.text("Total:",70,s),r.text(`${L.toFixed(2)} EUR`,n-45,s)}if(s+=15,r.setFontSize(10),r.setFont("helvetica","bold"),r.text("Statut:",20,s),r.setFont("helvetica","normal"),r.text(e.statut,60,s),e.fichiers&&e.fichiers.length>0){const L=e.fichiers.filter(x=>x.mimeType.startsWith("image/"));if(L.length>0){r.addPage(),s=20,r.setFontSize(14),r.setFont("helvetica","bold"),r.text(`Photos du chantier (${L.length})`,20,s),s+=15;const x=80,S=60,F=10;for(let T=0;T<L.length;T++){const V=L[T];try{const U=nv(V.downloadUrl||V.url),$=await rv(U);let N=20;T%2===1?N=20+x+F:(T>0&&(s+=S+15),s+S>i-20&&(r.addPage(),s=20)),r.addImage($,"JPEG",N,s,x,S),r.setFontSize(8),r.setFont("helvetica","normal");const k=V.nom.length>25?V.nom.substring(0,22)+"...":V.nom;r.text(k,N,s+S+5);const M=new Date(V.createdAt).toLocaleDateString("fr-FR");r.text(M,N+x-15,s+S+5)}catch(U){console.error("Erreur image PDF:",U);const $=T%2===1?20+x+F:20;T%2===0&&T>0&&(s+=S+15),r.rect($,s,x,S),r.setFontSize(8),r.text("Erreur image",$+5,s+30)}}}}r.setFontSize(8),r.setFont("helvetica","italic"),r.text(`Document genere le ${new Date().toLocaleDateString("fr-FR")} a ${new Date().toLocaleTimeString("fr-FR")}`,n/2,i-10,{align:"center"});const d=`feuille-travail-${e.id.substring(0,8)}-${tv(e.dateTravail).replace(/\//g,"-")}.pdf`;r.save(d)},B1=e=>{switch(e){case"VALIDE":return"bg-green-100 text-green-700";case"SOUMIS":return"bg-yellow-100 text-yellow-700";case"REJETE":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},U1=e=>new Date(e).toLocaleDateString("fr-FR"),R7=e=>e?e.reduce((t,r)=>t+r.montant,0):0,T7=()=>{var E;const[e,t]=_e.useState(!0),[r,n]=_e.useState([]),[i,s]=_e.useState({page:1,pageSize:20,total:0,totalPages:0}),[a,o]=_e.useState(""),[l,d]=_e.useState(""),[f,h]=_e.useState(!1),[m,g]=_e.useState(!1),[w,_]=_e.useState(),[L,x]=_e.useState(!1),[S,F]=_e.useState(!1),{showToast:T}=Ul(),V=async(C=1)=>{try{t(!0);const D={page:C,limit:20};l&&(D.statut=l);const re=await Vs.getAll(D);"pagination"in re?(n(re.data),s(re.pagination)):(n(re),s({page:1,pageSize:re.length,total:re.length,totalPages:1}))}catch(D){console.error("Erreur chargement feuilles:",D),T("Erreur lors du chargement","error")}finally{t(!1)}};_e.useEffect(()=>{V(1)},[l]);const U=C=>{V(C),window.scrollTo({top:0,behavior:"smooth"})},$=r.filter(C=>{var re,q,z,Q,J,ae,be,R;if(!a)return!0;const D=a.toLowerCase();return((q=(re=C.monteur)==null?void 0:re.nom)==null?void 0:q.toLowerCase().includes(D))||((Q=(z=C.monteur)==null?void 0:z.prenom)==null?void 0:Q.toLowerCase().includes(D))||((ae=(J=C.chantier)==null?void 0:J.nom)==null?void 0:ae.toLowerCase().includes(D))||((R=(be=C.chantier)==null?void 0:be.reference)==null?void 0:R.toLowerCase().includes(D))}),N=(C,D=!1)=>{_(C),F(D),g(!0)},k=()=>{g(!1),_(void 0),F(!1)},M=async C=>{try{x(!0),w?(await Vs.update(w.id,{chantierId:C.chantierId,dateTravail:C.dateTravail,heureDebut:C.heureDebut,heureFin:C.heureFin,descriptionTravail:C.descriptionTravail}),T("Feuille modifiee avec succes","success")):(await Vs.create(C),T("Feuille creee avec succes","success")),k(),await V(i.page)}catch(D){console.error("Erreur sauvegarde feuille:",D),T("Erreur lors de la sauvegarde","error")}finally{x(!1)}},P=C=>C.statut==="BROUILLON";return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Feuilles de travail"}),u.jsxs("button",{onClick:()=>N(),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[u.jsx(Sf,{size:20}),"Nouvelle feuille"]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow",children:[u.jsxs("div",{className:"p-4 border-b",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Bh,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"text",placeholder:"Rechercher par monteur ou chantier...",value:a,onChange:C=>o(C.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),u.jsxs("button",{onClick:()=>h(!f),className:"flex items-center gap-2 px-4 py-2 border rounded-lg hover:bg-gray-50",children:[u.jsx($8,{size:20}),"Filtres",u.jsx(q8,{size:16,className:`transition-transform ${f?"rotate-180":""}`})]})]}),f&&u.jsx("div",{className:"mt-4 pt-4 border-t",children:u.jsx("div",{className:"flex flex-wrap gap-4",children:u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Statut"}),u.jsxs("select",{value:l,onChange:C=>d(C.target.value),className:"border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"",children:"Tous"}),u.jsx("option",{value:"BROUILLON",children:"Brouillon"}),u.jsx("option",{value:"SOUMIS",children:"Soumis"}),u.jsx("option",{value:"VALIDE",children:"Valide"}),u.jsx("option",{value:"REJETE",children:"Rejete"})]})]})})})]}),e?u.jsx("div",{className:"flex justify-center py-12",children:u.jsx(fr,{className:"animate-spin text-blue-600",size:40})}):$.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(Wo,{className:"mx-auto text-gray-300 mb-4",size:48}),u.jsx("p",{className:"text-gray-500",children:"Aucune feuille de travail trouvee"})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"hidden md:block overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-left text-sm text-gray-500 border-b bg-gray-50",children:[u.jsx("th",{className:"px-4 py-3",children:"Date"}),u.jsx("th",{className:"px-4 py-3",children:"Monteur"}),u.jsx("th",{className:"px-4 py-3",children:"Chantier"}),u.jsx("th",{className:"px-4 py-3",children:"Horaires"}),u.jsx("th",{className:"px-4 py-3",children:"Heures"}),u.jsx("th",{className:"px-4 py-3",children:"Frais"}),u.jsx("th",{className:"px-4 py-3",children:"Statut"}),u.jsx("th",{className:"px-4 py-3",children:"Actions"})]})}),u.jsx("tbody",{children:$.map(C=>{var D,re,q,z,Q;return u.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[u.jsx("td",{className:"px-4 py-3",children:U1(C.dateTravail)}),u.jsx("td",{className:"px-4 py-3",children:u.jsxs("div",{children:[u.jsxs("p",{className:"font-medium",children:[(D=C.monteur)==null?void 0:D.prenom," ",(re=C.monteur)==null?void 0:re.nom]}),u.jsx("p",{className:"text-xs text-gray-500",children:(q=C.monteur)==null?void 0:q.numeroIdentification})]})}),u.jsx("td",{className:"px-4 py-3",children:u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:(z=C.chantier)==null?void 0:z.nom}),u.jsx("p",{className:"text-xs text-gray-500",children:(Q=C.chantier)==null?void 0:Q.reference})]})}),u.jsx("td",{className:"px-4 py-3",children:u.jsxs("span",{className:"text-sm",children:[C.heureDebut," - ",C.heureFin]})}),u.jsxs("td",{className:"px-4 py-3",children:[C.heuresTotales,"h"]}),u.jsxs("td",{className:"px-4 py-3",children:[R7(C.frais).toFixed(2)," EUR"]}),u.jsx("td",{className:"px-4 py-3",children:u.jsx("span",{className:`px-2 py-1 rounded-full text-sm ${B1(C.statut)}`,children:C.statut})}),u.jsx("td",{className:"px-4 py-3",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:()=>N(C,!0),className:"flex items-center gap-1 text-blue-600 hover:text-blue-800 text-sm",children:[u.jsx(sh,{size:16}),"Voir"]}),P(C)&&u.jsxs("button",{onClick:()=>N(C,!1),className:"flex items-center gap-1 text-green-600 hover:text-green-800 text-sm",children:[u.jsx(S1,{size:16}),"Modifier"]})]})})]},C.id)})})]})}),u.jsx("div",{className:"md:hidden space-y-4 p-4",children:$.map(C=>{var D,re,q,z;return u.jsxs("div",{className:"bg-white border rounded-lg p-4 space-y-3 shadow-sm",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-bold text-gray-900",children:U1(C.dateTravail)}),u.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[C.heureDebut," - ",C.heureFin,"  ",C.heuresTotales,"h"]})]}),u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${B1(C.statut)}`,children:C.statut})]}),u.jsxs("div",{className:"pt-2 border-t border-gray-100",children:[u.jsx("h3",{className:"font-semibold text-gray-800",children:(D=C.chantier)==null?void 0:D.nom}),u.jsx("p",{className:"text-xs text-gray-500",children:(re=C.chantier)==null?void 0:re.reference}),u.jsx("div",{className:"flex items-center gap-2 mt-2 text-sm text-gray-600",children:u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-xs text-gray-400",children:"Monteur"}),u.jsxs("span",{className:"font-medium",children:[(q=C.monteur)==null?void 0:q.prenom," ",(z=C.monteur)==null?void 0:z.nom]})]})})]}),u.jsxs("div",{className:"pt-3 border-t border-gray-100 flex gap-2",children:[u.jsxs("button",{onClick:()=>N(C,!0),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-gray-50 text-blue-600 rounded-lg hover:bg-blue-50 text-sm font-medium transition-colors",children:[u.jsx(sh,{size:16}),"Dtails"]}),P(C)&&u.jsxs("button",{onClick:()=>N(C,!1),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 text-sm font-medium transition-colors",children:[u.jsx(S1,{size:16}),"Modifier"]})]})]},C.id)})})]}),!e&&$.length>0&&u.jsx(r2,{currentPage:i.page,totalPages:i.totalPages,onPageChange:U,pageSize:i.pageSize,total:i.total})]}),u.jsx(Gu,{isOpen:m,onClose:k,title:S?"Details de la feuille":w?"Modifier la feuille":"Nouvelle feuille de travail",size:"xl",children:S&&w?u.jsx(D7,{feuille:w,onClose:k,onRefresh:()=>V(i.page),showToast:T,userRole:(E=hs.getState().user)==null?void 0:E.role}):u.jsx(j_,{feuille:w,onSubmit:M,onCancel:k,isLoading:L})})]})},D7=({feuille:e,onClose:t,onRefresh:r,showToast:n,userRole:i})=>{var w,_,L,x,S,F;const[s,a]=_e.useState(!1),{company:o}=Wm(),l=i==="ADMIN"||i==="SUPERVISEUR",d=async()=>{try{a(!0),await Vs.submit(e.id),n("Feuille soumise avec succes","success"),t(),r()}catch(T){console.error("Erreur soumission:",T),n("Erreur lors de la soumission","error")}finally{a(!1)}},f=async()=>{try{a(!0),await Vs.validate(e.id),n("Feuille validee avec succes","success"),t(),r()}catch(T){console.error("Erreur validation:",T),n("Erreur lors de la validation","error")}finally{a(!1)}},h=async()=>{try{a(!0),await Vs.reject(e.id),n("Feuille rejetee","info"),t(),r()}catch(T){console.error("Erreur rejet:",T),n("Erreur lors du rejet","error")}finally{a(!1)}},m=((w=e.frais)==null?void 0:w.reduce((T,V)=>T+V.montant,0))||0,g=()=>{try{O7(e,o),n("PDF exporte avec succes","success")}catch(T){console.error("Erreur export PDF:",T),n("Erreur lors de l'export PDF","error")}};return u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"flex justify-end",children:u.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-3 py-1.5 text-sm border rounded-lg hover:bg-gray-50",children:[u.jsx(V8,{size:16}),"Exporter PDF"]})}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500",children:"Monteur"}),u.jsxs("p",{className:"font-medium",children:[(_=e.monteur)==null?void 0:_.prenom," ",(L=e.monteur)==null?void 0:L.nom]}),u.jsx("p",{className:"text-sm text-gray-500",children:(x=e.monteur)==null?void 0:x.numeroIdentification})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500",children:"Chantier"}),u.jsx("p",{className:"font-medium",children:(S=e.chantier)==null?void 0:S.nom}),u.jsx("p",{className:"text-sm text-gray-500",children:(F=e.chantier)==null?void 0:F.reference})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500",children:"Date"}),u.jsx("p",{className:"font-medium",children:U1(e.dateTravail)})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500",children:"Horaires"}),u.jsxs("p",{className:"font-medium",children:[e.heureDebut," - ",e.heureFin]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500",children:"Heures totales"}),u.jsxs("p",{className:"font-medium",children:[e.heuresTotales,"h"]})]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Description du travail"}),u.jsx("p",{className:"bg-gray-50 p-3 rounded-lg",children:e.descriptionTravail})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Statut"}),u.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${B1(e.statut)}`,children:e.statut})]}),e.frais&&e.frais.length>0&&u.jsxs("div",{children:[u.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:["Frais (",e.frais.length,")"]}),u.jsx("div",{className:"border rounded-lg overflow-hidden",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-3 py-2 text-left",children:"Type"}),u.jsx("th",{className:"px-3 py-2 text-left",children:"Description"}),u.jsx("th",{className:"px-3 py-2 text-right",children:"Montant"})]})}),u.jsxs("tbody",{children:[e.frais.map(T=>u.jsxs("tr",{className:"border-t",children:[u.jsx("td",{className:"px-3 py-2",children:T.typeFrais}),u.jsx("td",{className:"px-3 py-2",children:T.description}),u.jsxs("td",{className:"px-3 py-2 text-right",children:[T.montant.toFixed(2)," EUR"]})]},T.id)),u.jsxs("tr",{className:"border-t bg-gray-50 font-medium",children:[u.jsx("td",{colSpan:2,className:"px-3 py-2",children:"Total"}),u.jsxs("td",{className:"px-3 py-2 text-right",children:[m.toFixed(2)," EUR"]})]})]})]})})]}),u.jsx("div",{className:"border-t pt-4",children:u.jsx(O_,{feuilleId:e.id,readOnly:!1})}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx("button",{onClick:t,className:"px-4 py-2 border rounded-lg hover:bg-gray-50",disabled:s,children:"Fermer"}),e.statut==="BROUILLON"&&u.jsxs("button",{onClick:d,disabled:s,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[s?u.jsx(fr,{className:"animate-spin",size:18}):null,"Soumettre"]}),e.statut==="SOUMIS"&&l&&u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:h,disabled:s,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:[s?u.jsx(fr,{className:"animate-spin",size:18}):null,"Rejeter"]}),u.jsxs("button",{onClick:f,disabled:s,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[s?u.jsx(fr,{className:"animate-spin",size:18}):null,"Valider"]})]}),e.statut==="SOUMIS"&&!l&&u.jsx("div",{className:"px-4 py-2 bg-yellow-50 text-yellow-700 rounded-lg text-sm",children:"En attente de validation par un superviseur"})]})]})},M7=({monteur:e,onSubmit:t,onCancel:r,isLoading:n})=>{const{register:i,handleSubmit:s,formState:{errors:a}}=Ka({defaultValues:e?{nom:e.nom,prenom:e.prenom,email:e.email,telephone:e.telephone,adresse:e.adresse,dateEmbauche:e.dateEmbauche.split("T")[0],numeroIdentification:e.numeroIdentification,actif:e.actif}:{actif:!0,dateEmbauche:new Date().toISOString().split("T")[0]}});return u.jsxs("form",{onSubmit:s(t),className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prenom *"}),u.jsx("input",{type:"text",...i("prenom",{required:"Prenom requis"}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${a.prenom?"border-red-500":"border-gray-300"}`}),a.prenom&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.prenom.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom *"}),u.jsx("input",{type:"text",...i("nom",{required:"Nom requis"}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${a.nom?"border-red-500":"border-gray-300"}`}),a.nom&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.nom.message})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),u.jsx("input",{type:"email",...i("email",{required:"Email requis",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email invalide"}}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${a.email?"border-red-500":"border-gray-300"}`}),a.email&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.email.message})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telephone *"}),u.jsx("input",{type:"tel",...i("telephone",{required:"Telephone requis"}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${a.telephone?"border-red-500":"border-gray-300"}`,placeholder:"06 12 34 56 78"}),a.telephone&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.telephone.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"N Identification *"}),u.jsx("input",{type:"text",...i("numeroIdentification",{required:"Numero requis"}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${a.numeroIdentification?"border-red-500":"border-gray-300"}`,placeholder:"MTR-001"}),a.numeroIdentification&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.numeroIdentification.message})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse *"}),u.jsx("input",{type:"text",...i("adresse",{required:"Adresse requise"}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${a.adresse?"border-red-500":"border-gray-300"}`}),a.adresse&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.adresse.message})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date d'embauche *"}),u.jsx("input",{type:"date",...i("dateEmbauche",{required:"Date requise"}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${a.dateEmbauche?"border-red-500":"border-gray-300"}`}),a.dateEmbauche&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.dateEmbauche.message})]}),u.jsx("div",{className:"flex items-center pt-7",children:u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",...i("actif"),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),u.jsx("span",{className:"text-sm text-gray-700",children:"Monteur actif"})]})})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border rounded-lg hover:bg-gray-50",disabled:n,children:"Annuler"}),u.jsx("button",{type:"submit",disabled:n,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:n?u.jsxs(u.Fragment,{children:[u.jsx(fr,{className:"animate-spin",size:18}),"Enregistrement..."]}):u.jsxs(u.Fragment,{children:[u.jsx(zh,{size:18}),e?"Modifier":"Creer"]})})]})]})},z7=e=>{switch(e){case"VALIDE":return"bg-green-100 text-green-700";case"SOUMIS":return"bg-yellow-100 text-yellow-700";case"REJETE":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},iv=e=>new Date(e).toLocaleDateString("fr-FR"),B7=({monteurId:e,onClose:t})=>{const[r,n]=_e.useState(!0),[i,s]=_e.useState(null),[a,o]=_e.useState(null),[l,d]=_e.useState(null);return _e.useEffect(()=>{(async()=>{try{n(!0),d(null);const[h,m]=await Promise.all([Vo.getById(e),Vo.getStats(e)]);s(h),o(m)}catch(h){console.error("Erreur chargement profil monteur:",h),d("Impossible de charger les informations du monteur")}finally{n(!1)}})()},[e]),r?u.jsx("div",{className:"flex justify-center py-12",children:u.jsx(fr,{className:"animate-spin text-blue-600",size:40})}):l||!i?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("p",{className:"text-red-600",children:l||"Monteur introuvable"}),u.jsx("button",{onClick:t,className:"mt-4 px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Fermer"})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsxs("div",{className:"w-16 h-16 rounded-full bg-blue-600 flex items-center justify-center text-white font-semibold text-2xl",children:[i.prenom.charAt(0),i.nom.charAt(0)]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h3",{className:"text-2xl font-semibold text-gray-900",children:[i.prenom," ",i.nom]}),u.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${i.actif?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:i.actif?"Actif":"Inactif"})]}),u.jsx("p",{className:"text-gray-500",children:i.numeroIdentification})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-gray-50 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Gm,{className:"text-gray-400",size:20}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Email"}),u.jsx("p",{className:"font-medium",children:i.email})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(ob,{className:"text-gray-400",size:20}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Tlphone"}),u.jsx("p",{className:"font-medium",children:i.telephone})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Qm,{className:"text-gray-400",size:20}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Adresse"}),u.jsx("p",{className:"font-medium",children:i.adresse})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Km,{className:"text-gray-400",size:20}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Date d'embauche"}),u.jsx("p",{className:"font-medium",children:iv(i.dateEmbauche)})]})]})]}),a&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-3",children:"Statistiques du mois en cours"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-100 flex items-center justify-center",children:u.jsx(uf,{className:"text-blue-600",size:24})}),u.jsxs("div",{children:[u.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[a.heuresTotales,"h"]}),u.jsx("p",{className:"text-sm text-gray-600",children:"Heures travailles"})]})]})}),u.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-12 h-12 rounded-lg bg-green-100 flex items-center justify-center",children:u.jsx(Wo,{className:"text-green-600",size:24})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-2xl font-bold text-green-600",children:a.nombreFeuilles}),u.jsx("p",{className:"text-sm text-gray-600",children:"Feuilles cres"})]})]})}),u.jsx("div",{className:"bg-purple-50 p-4 rounded-lg",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-12 h-12 rounded-lg bg-purple-100 flex items-center justify-center",children:u.jsx(nb,{className:"text-purple-600",size:24})}),u.jsxs("div",{children:[u.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[a.fraisTotaux.toFixed(2)," EUR"]}),u.jsx("p",{className:"text-sm text-gray-600",children:"Frais engags"})]})]})})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-3",children:"Activit rcente"}),a.feuillesRecentes.length>0?u.jsx("div",{className:"border rounded-lg overflow-hidden",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left",children:"Date"}),u.jsx("th",{className:"px-4 py-3 text-left",children:"Chantier"}),u.jsx("th",{className:"px-4 py-3 text-left",children:"Heures"}),u.jsx("th",{className:"px-4 py-3 text-left",children:"Statut"})]})}),u.jsx("tbody",{children:a.feuillesRecentes.map(f=>u.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[u.jsx("td",{className:"px-4 py-3",children:iv(f.dateTravail)}),u.jsx("td",{className:"px-4 py-3",children:u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:f.chantier.nom}),u.jsx("p",{className:"text-xs text-gray-500",children:f.chantier.reference})]})}),u.jsxs("td",{className:"px-4 py-3",children:[f.heuresTotales,"h"]}),u.jsx("td",{className:"px-4 py-3",children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${z7(f.statut)}`,children:f.statut})})]},f.id))})]})}):u.jsxs("div",{className:"text-center py-8 border rounded-lg bg-gray-50",children:[u.jsx(Wo,{className:"mx-auto text-gray-300 mb-2",size:32}),u.jsx("p",{className:"text-gray-500 text-sm",children:"Aucune activit rcente"})]})]})]}),u.jsx("div",{className:"flex justify-end pt-4 border-t",children:u.jsx("button",{onClick:t,className:"px-6 py-2 border rounded-lg hover:bg-gray-50 transition-colors",children:"Fermer"})})]})},U7=()=>{const[e,t]=_e.useState(!0),[r,n]=_e.useState([]),[i,s]=_e.useState({page:1,pageSize:20,total:0,totalPages:0}),[a,o]=_e.useState(""),[l,d]=_e.useState(!1),[f,h]=_e.useState(!1),[m,g]=_e.useState(),[w,_]=_e.useState(!1),[L,x]=_e.useState(!1),[S,F]=_e.useState(null),{showToast:T}=Ul(),V=async(C=1)=>{try{t(!0);const D=await Vo.getAll(l?!0:void 0,C,20);"pagination"in D?(n(D.data),s(D.pagination)):(n(D),s({page:1,pageSize:D.length,total:D.length,totalPages:1}))}catch(D){console.error("Erreur chargement monteurs:",D),T("Erreur lors du chargement","error")}finally{t(!1)}};_e.useEffect(()=>{V(1)},[l]);const U=C=>{V(C),window.scrollTo({top:0,behavior:"smooth"})},$=r.filter(C=>{if(!a)return!0;const D=a.toLowerCase();return C.nom.toLowerCase().includes(D)||C.prenom.toLowerCase().includes(D)||C.email.toLowerCase().includes(D)||C.numeroIdentification.toLowerCase().includes(D)}),N=C=>new Date(C).toLocaleDateString("fr-FR"),k=C=>{g(C),h(!0)},M=()=>{h(!1),g(void 0)},P=C=>{F(C.id),x(!0)},E=async C=>{var D,re;try{_(!0),m?(await Vo.update(m.id,C),T("Monteur modifie avec succes","success")):(await Vo.create(C),T("Monteur cree avec succes","success")),M(),await V(i.page)}catch(q){console.error("Erreur sauvegarde monteur:",q);const z=((re=(D=q.response)==null?void 0:D.data)==null?void 0:re.message)||"Erreur lors de la sauvegarde";T(z,"error")}finally{_(!1)}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Monteurs"}),u.jsxs("button",{onClick:()=>k(),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[u.jsx(Sf,{size:20}),"Ajouter un monteur"]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow",children:[u.jsxs("div",{className:"p-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Bh,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"text",placeholder:"Rechercher un monteur...",value:a,onChange:C=>o(C.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:l,onChange:C=>d(C.target.checked),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),u.jsx("span",{className:"text-sm text-gray-700",children:"Actifs uniquement"})]})]}),e?u.jsx("div",{className:"flex justify-center py-12",children:u.jsx(fr,{className:"animate-spin text-blue-600",size:40})}):$.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(ff,{className:"mx-auto text-gray-300 mb-4",size:48}),u.jsx("p",{className:"text-gray-500",children:"Aucun monteur trouve"})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:$.map(C=>u.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow bg-white",children:[u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsxs("div",{className:"w-12 h-12 rounded-full bg-blue-600 flex items-center justify-center text-white font-semibold shrink-0",children:[C.prenom.charAt(0),C.nom.charAt(0)]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("h3",{className:"font-semibold text-gray-900 truncate",children:[C.prenom," ",C.nom]}),u.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full whitespace-nowrap ${C.actif?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:C.actif?"Actif":"Inactif"})]}),u.jsx("p",{className:"text-sm text-gray-500 truncate",children:C.numeroIdentification})]})]}),u.jsxs("div",{className:"mt-4 space-y-2 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[u.jsx(Gm,{size:16,className:"shrink-0"}),u.jsx("span",{className:"truncate",children:C.email})]}),u.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[u.jsx(ob,{size:16,className:"shrink-0"}),u.jsx("span",{className:"truncate",children:C.telephone})]})]}),u.jsx("div",{className:"mt-3 pt-3 border-t text-xs text-gray-500",children:u.jsxs("p",{children:["Embauche le ",N(C.dateEmbauche)]})}),u.jsxs("div",{className:"mt-4 flex gap-2",children:[u.jsx("button",{onClick:()=>P(C),className:"flex-1 px-3 py-2 text-sm border rounded-lg hover:bg-gray-50",children:"Voir profil"}),u.jsx("button",{onClick:()=>k(C),className:"flex-1 px-3 py-2 text-sm bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100",children:"Modifier"})]})]},C.id))})]}),!e&&$.length>0&&u.jsx(r2,{currentPage:i.page,totalPages:i.totalPages,onPageChange:U,pageSize:i.pageSize,total:i.total})]}),u.jsx(Gu,{isOpen:f,onClose:M,title:m?"Modifier le monteur":"Nouveau monteur",children:u.jsx(M7,{monteur:m,onSubmit:E,onCancel:M,isLoading:w})}),u.jsx(Gu,{isOpen:L,onClose:()=>x(!1),title:"Profil du monteur",size:"xl",children:S&&u.jsx(B7,{monteurId:S,onClose:()=>x(!1)})})]})},q7=({chantier:e,onSubmit:t,onCancel:r,isLoading:n})=>{const{register:i,handleSubmit:s,formState:{errors:a}}=Ka({defaultValues:e?{nom:e.nom,adresse:e.adresse,client:e.client,reference:e.reference,dateDebut:e.dateDebut.split("T")[0],dateFin:e.dateFin?e.dateFin.split("T")[0]:"",description:e.description,actif:e.actif}:{actif:!0,dateDebut:new Date().toISOString().split("T")[0]}});return u.jsxs("form",{onSubmit:s(t),className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom du chantier *"}),u.jsx("input",{type:"text",...i("nom",{required:"Nom requis"}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${a.nom?"border-red-500":"border-gray-300"}`}),a.nom&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.nom.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reference *"}),u.jsx("input",{type:"text",...i("reference",{required:"Reference requise"}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${a.reference?"border-red-500":"border-gray-300"}`,placeholder:"CHT-001"}),a.reference&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.reference.message})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client *"}),u.jsx("input",{type:"text",...i("client",{required:"Client requis"}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${a.client?"border-red-500":"border-gray-300"}`}),a.client&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.client.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse *"}),u.jsx("input",{type:"text",...i("adresse",{required:"Adresse requise"}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${a.adresse?"border-red-500":"border-gray-300"}`}),a.adresse&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.adresse.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),u.jsx("textarea",{...i("description",{required:"Description requise"}),rows:3,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${a.description?"border-red-500":"border-gray-300"}`}),a.description&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.description.message})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de debut *"}),u.jsx("input",{type:"date",...i("dateDebut",{required:"Date requise"}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${a.dateDebut?"border-red-500":"border-gray-300"}`}),a.dateDebut&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.dateDebut.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de fin"}),u.jsx("input",{type:"date",...i("dateFin"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),u.jsx("div",{className:"flex items-center",children:u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",...i("actif"),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),u.jsx("span",{className:"text-sm text-gray-700",children:"Chantier actif"})]})}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border rounded-lg hover:bg-gray-50",disabled:n,children:"Annuler"}),u.jsx("button",{type:"submit",disabled:n,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:n?u.jsxs(u.Fragment,{children:[u.jsx(fr,{className:"animate-spin",size:18}),"Enregistrement..."]}):u.jsxs(u.Fragment,{children:[u.jsx(zh,{size:18}),e?"Modifier":"Creer"]})})]})]})},V7=e=>{switch(e){case"VALIDE":return"bg-green-100 text-green-700";case"SOUMIS":return"bg-yellow-100 text-yellow-700";case"REJETE":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},x0=e=>new Date(e).toLocaleDateString("fr-FR"),$7=({chantierId:e,onClose:t})=>{const[r,n]=_e.useState(!0),[i,s]=_e.useState(null),[a,o]=_e.useState(null),[l,d]=_e.useState(null),f=()=>{if(!i)return"";const h=new Date(i.dateDebut),m=i.dateFin?new Date(i.dateFin):new Date,g=Math.ceil((m.getTime()-h.getTime())/(1e3*60*60*24));return g<30?`${g} jour(s)`:g<365?`${Math.floor(g/30)} mois`:`${Math.floor(g/365)} an(s)`};return _e.useEffect(()=>{(async()=>{try{n(!0),d(null);const[m,g]=await Promise.all([Cl.getById(e),Cl.getStats(e)]);s(m),o(g)}catch(m){console.error("Erreur chargement dtail chantier:",m),d("Impossible de charger les informations du chantier")}finally{n(!1)}})()},[e]),r?u.jsx("div",{className:"flex justify-center py-12",children:u.jsx(fr,{className:"animate-spin text-blue-600",size:40})}):l||!i?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("p",{className:"text-red-600",children:l||"Chantier introuvable"}),u.jsx("button",{onClick:t,className:"mt-4 px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Fermer"})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"w-16 h-16 rounded-lg bg-purple-100 flex items-center justify-center",children:u.jsx(zc,{className:"text-purple-600",size:32})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-2xl font-semibold text-gray-900",children:i.nom}),u.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${i.actif?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:i.actif?"En cours":"Termin"})]}),u.jsx("p",{className:"text-gray-500",children:i.reference})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-gray-50 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(zc,{className:"text-gray-400",size:20}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Client"}),u.jsx("p",{className:"font-medium",children:i.client})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Qm,{className:"text-gray-400",size:20}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Adresse"}),u.jsx("p",{className:"font-medium",children:i.adresse})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Km,{className:"text-gray-400",size:20}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Priode"}),u.jsxs("p",{className:"font-medium",children:[x0(i.dateDebut),i.dateFin?` - ${x0(i.dateFin)}`:" - En cours"]})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(uf,{className:"text-gray-400",size:20}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Dure"}),u.jsx("p",{className:"font-medium",children:f()})]})]})]}),i.description&&u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500 mb-2",children:"Description"}),u.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:u.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:i.description})})]}),a&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-3",children:"Statistiques globales"}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-100 flex items-center justify-center mb-2",children:u.jsx(uf,{className:"text-blue-600",size:24})}),u.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[a.heuresTotales,"h"]}),u.jsx("p",{className:"text-xs text-gray-600",children:"Heures totales"})]})}),u.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsx("div",{className:"w-12 h-12 rounded-lg bg-green-100 flex items-center justify-center mb-2",children:u.jsx(Wo,{className:"text-green-600",size:24})}),u.jsx("p",{className:"text-2xl font-bold text-green-600",children:a.nombreFeuilles}),u.jsx("p",{className:"text-xs text-gray-600",children:"Feuilles cres"})]})}),u.jsx("div",{className:"bg-purple-50 p-4 rounded-lg",children:u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsx("div",{className:"w-12 h-12 rounded-lg bg-purple-100 flex items-center justify-center mb-2",children:u.jsx(nb,{className:"text-purple-600",size:24})}),u.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[a.fraisTotaux.toFixed(2)," EUR"]}),u.jsx("p",{className:"text-xs text-gray-600",children:"Frais totaux"})]})}),u.jsx("div",{className:"bg-orange-50 p-4 rounded-lg",children:u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsx("div",{className:"w-12 h-12 rounded-lg bg-orange-100 flex items-center justify-center mb-2",children:u.jsx(ff,{className:"text-orange-600",size:24})}),u.jsx("p",{className:"text-2xl font-bold text-orange-600",children:a.nombreMonteurs}),u.jsx("p",{className:"text-xs text-gray-600",children:"Monteurs"})]})})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-3",children:"Timeline d'activit"}),a.feuillesRecentes.length>0?u.jsx("div",{className:"border rounded-lg overflow-hidden",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left",children:"Date"}),u.jsx("th",{className:"px-4 py-3 text-left",children:"Monteur"}),u.jsx("th",{className:"px-4 py-3 text-left",children:"Heures"}),u.jsx("th",{className:"px-4 py-3 text-left",children:"Statut"})]})}),u.jsx("tbody",{children:a.feuillesRecentes.map(h=>u.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[u.jsx("td",{className:"px-4 py-3",children:x0(h.dateTravail)}),u.jsx("td",{className:"px-4 py-3",children:u.jsxs("div",{children:[u.jsxs("p",{className:"font-medium",children:[h.monteur.prenom," ",h.monteur.nom]}),u.jsx("p",{className:"text-xs text-gray-500",children:h.monteur.numeroIdentification})]})}),u.jsxs("td",{className:"px-4 py-3",children:[h.heuresTotales,"h"]}),u.jsx("td",{className:"px-4 py-3",children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${V7(h.statut)}`,children:h.statut})})]},h.id))})]})}):u.jsxs("div",{className:"text-center py-8 border rounded-lg bg-gray-50",children:[u.jsx(Wo,{className:"mx-auto text-gray-300 mb-2",size:32}),u.jsx("p",{className:"text-gray-500 text-sm",children:"Aucune activit rcente"})]})]})]}),u.jsx("div",{className:"flex justify-end pt-4 border-t",children:u.jsx("button",{onClick:t,className:"px-6 py-2 border rounded-lg hover:bg-gray-50 transition-colors",children:"Fermer"})})]})},H7=()=>{const[e,t]=_e.useState(!0),[r,n]=_e.useState([]),[i,s]=_e.useState({page:1,pageSize:20,total:0,totalPages:0}),[a,o]=_e.useState(""),[l,d]=_e.useState(!1),[f,h]=_e.useState(!1),[m,g]=_e.useState(),[w,_]=_e.useState(!1),[L,x]=_e.useState(!1),[S,F]=_e.useState(null),{showToast:T}=Ul(),V=async(C=1)=>{try{t(!0);const D=await Cl.getAll(l?!0:void 0,C,20);"pagination"in D?(n(D.data),s(D.pagination)):(n(D),s({page:1,pageSize:D.length,total:D.length,totalPages:1}))}catch(D){console.error("Erreur chargement chantiers:",D),T("Erreur lors du chargement","error")}finally{t(!1)}};_e.useEffect(()=>{V(1)},[l]);const U=C=>{V(C),window.scrollTo({top:0,behavior:"smooth"})},$=r.filter(C=>{if(!a)return!0;const D=a.toLowerCase();return C.nom.toLowerCase().includes(D)||C.client.toLowerCase().includes(D)||C.reference.toLowerCase().includes(D)||C.adresse.toLowerCase().includes(D)}),N=C=>new Date(C).toLocaleDateString("fr-FR"),k=C=>{g(C),h(!0)},M=()=>{h(!1),g(void 0)},P=C=>{F(C.id),x(!0)},E=async C=>{try{_(!0),m?(await Cl.update(m.id,C),T("Chantier modifie avec succes","success")):(await Cl.create(C),T("Chantier cree avec succes","success")),M(),await V(i.page)}catch(D){console.error("Erreur sauvegarde chantier:",D),T("Erreur lors de la sauvegarde","error")}finally{_(!1)}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Chantiers"}),u.jsxs("button",{onClick:()=>k(),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[u.jsx(Sf,{size:20}),"Ajouter un chantier"]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow",children:[u.jsxs("div",{className:"p-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Bh,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"text",placeholder:"Rechercher un chantier...",value:a,onChange:C=>o(C.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:l,onChange:C=>d(C.target.checked),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),u.jsx("span",{className:"text-sm text-gray-700",children:"Actifs uniquement"})]})]}),e?u.jsx("div",{className:"flex justify-center py-12",children:u.jsx(fr,{className:"animate-spin text-blue-600",size:40})}):$.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(zc,{className:"mx-auto text-gray-300 mb-4",size:48}),u.jsx("p",{className:"text-gray-500",children:"Aucun chantier trouve"})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:$.map(C=>u.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow bg-white",children:[u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-lg bg-purple-100 flex items-center justify-center shrink-0",children:u.jsx(zc,{className:"text-purple-600",size:24})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:C.nom}),u.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full whitespace-nowrap ${C.actif?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:C.actif?"En cours":"Termin"})]}),u.jsx("p",{className:"text-sm text-gray-500 truncate",children:C.reference})]})]}),u.jsxs("div",{className:"mt-4 space-y-2 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[u.jsx(zc,{size:16,className:"shrink-0"}),u.jsx("span",{className:"truncate",children:C.client})]}),u.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[u.jsx(Qm,{size:16,className:"shrink-0"}),u.jsx("span",{className:"truncate",children:C.adresse})]}),u.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[u.jsx(Km,{size:16,className:"shrink-0"}),u.jsxs("span",{children:[N(C.dateDebut),C.dateFin?` - ${N(C.dateFin)}`:" - En cours"]})]})]}),u.jsxs("div",{className:"mt-4 flex gap-2",children:[u.jsx("button",{onClick:()=>P(C),className:"flex-1 px-3 py-2 text-sm border rounded-lg hover:bg-gray-50",children:"Voir dtails"}),u.jsx("button",{onClick:()=>k(C),className:"flex-1 px-3 py-2 text-sm bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100",children:"Modifier"})]})]},C.id))})]}),!e&&$.length>0&&u.jsx(r2,{currentPage:i.page,totalPages:i.totalPages,onPageChange:U,pageSize:i.pageSize,total:i.total})]}),u.jsx(Gu,{isOpen:f,onClose:M,title:m?"Modifier le chantier":"Nouveau chantier",size:"lg",children:u.jsx(q7,{chantier:m,onSubmit:E,onCancel:M,isLoading:w})}),u.jsx(Gu,{isOpen:L,onClose:()=>x(!1),title:"Dtails du chantier",size:"xl",children:S&&u.jsx($7,{chantierId:S,onClose:()=>x(!1)})})]})},fd={getAll:async()=>(await Rt.get("/users")).data.data,getById:async e=>(await Rt.get(`/users/${e}`)).data.data,create:async e=>(await Rt.post("/users",e)).data.data,update:async(e,t)=>(await Rt.patch(`/users/${e}`,t)).data.data,delete:async e=>(await Rt.delete(`/users/${e}`)).data.data},W7=()=>{const[e,t]=_e.useState(!0),[r,n]=_e.useState([]),[i,s]=_e.useState(""),[a,o]=_e.useState(!1),[l,d]=_e.useState(),[f,h]=_e.useState(!1),{showToast:m}=Ul(),g=async()=>{try{t(!0);const x=await fd.getAll();n(x)}catch(x){console.error("Erreur chargement utilisateurs:",x),m("Erreur lors du chargement des utilisateurs","error")}finally{t(!1)}};_e.useEffect(()=>{g()},[]);const w=r.filter(x=>{if(!i)return!0;const S=i.toLowerCase();return x.email.toLowerCase().includes(S)||x.role.toLowerCase().includes(S)||x.monteur&&`${x.monteur.prenom} ${x.monteur.nom}`.toLowerCase().includes(S)}),_=async x=>{if(confirm(`tes-vous sr de vouloir supprimer l'utilisateur ${x.email} ?`))try{await fd.delete(x.id),m("Utilisateur supprim avec succs","success"),g()}catch{m("Erreur lors de la suppression","error")}},L=x=>{switch(x){case"ADMIN":return"bg-purple-100 text-purple-700";case"SUPERVISEUR":return"bg-blue-100 text-blue-700";case"MONTEUR":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Gestion des Utilisateurs"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Grez les accs et les rles de l'application"})]}),u.jsxs("button",{onClick:()=>{d(void 0),o(!0)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[u.jsx(Sf,{size:20}),"Crer un utilisateur"]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[u.jsx("div",{className:"p-4 border-b",children:u.jsxs("div",{className:"relative max-w-md",children:[u.jsx(Bh,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"text",placeholder:"Rechercher par email, rle ou nom...",value:i,onChange:x=>s(x.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),e?u.jsx("div",{className:"flex justify-center py-12",children:u.jsx(fr,{className:"animate-spin text-blue-600",size:40})}):w.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(y5,{className:"mx-auto text-gray-300 mb-4",size:48}),u.jsx("p",{className:"text-gray-500",children:"Aucun utilisateur trouv"})]}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left border-collapse",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-50 border-b",children:[u.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email"}),u.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Rle"}),u.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Lien Monteur"}),u.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Cr le"}),u.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider text-right",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-200",children:w.map(x=>u.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`p-2 rounded-lg ${x.role==="ADMIN"?"bg-purple-100 text-purple-600":"bg-blue-100 text-blue-600"}`,children:x.role==="ADMIN"?u.jsx(Y8,{size:18}):u.jsx(y5,{size:18})}),u.jsx("span",{className:"font-medium text-gray-900",children:x.email})]})}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium ${L(x.role)}`,children:x.role})}),u.jsx("td",{className:"px-6 py-4",children:x.monteur?u.jsxs("div",{className:"text-sm",children:[u.jsxs("p",{className:"font-medium text-gray-900",children:[x.monteur.prenom," ",x.monteur.nom]}),u.jsx("p",{className:"text-gray-500 text-xs",children:x.monteur.numeroIdentification})]}):u.jsx("span",{className:"text-sm text-gray-400 italic",children:"Aucun lien"})}),u.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(x.createdAt).toLocaleDateString("fr-FR")}),u.jsx("td",{className:"px-6 py-4 text-right",children:u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{title:"Modifier",onClick:()=>{d(x),o(!0)},className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:u.jsx(S1,{size:18})}),u.jsx("button",{title:"Supprimer",onClick:()=>_(x),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:u.jsx(Jm,{size:18})})]})})]},x.id))})]})})]}),u.jsx(Gu,{isOpen:a,onClose:()=>o(!1),title:l?"Modifier l'utilisateur":"Crer un utilisateur",children:u.jsx(K7,{user:l,onSubmit:async x=>{h(!0);try{l?(await fd.update(l.id,x),m("Utilisateur mis  jour","success")):(await fd.create(x),m("Utilisateur cr","success")),o(!1),g()}catch{m("Erreur lors de la sauvegarde","error")}finally{h(!1)}},onCancel:()=>o(!1),isLoading:f})})]})},K7=({user:e,onSubmit:t,onCancel:r,isLoading:n})=>{const[i,s]=_e.useState([]),{register:a,handleSubmit:o,formState:{errors:l}}=Ka({defaultValues:{email:(e==null?void 0:e.email)||"",role:(e==null?void 0:e.role)||"MONTEUR",monteurId:(e==null?void 0:e.monteurId)||"",password:""}});return _e.useEffect(()=>{dh(async()=>{const{monteurService:d}=await Promise.resolve().then(()=>x_);return{monteurService:d}},void 0).then(({monteurService:d})=>{d.getAll(!0).then(f=>{s(f.data||f)})})},[]),u.jsxs("form",{onSubmit:o(t),className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),u.jsx("input",{...a("email",{required:"Email requis"}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"}),l.email&&u.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.email.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rle"}),u.jsxs("select",{...a("role",{required:"Rle requis"}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"ADMIN",children:"ADMIN"}),u.jsx("option",{value:"SUPERVISEUR",children:"SUPERVISEUR"}),u.jsx("option",{value:"MONTEUR",children:"MONTEUR"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Lier  un monteur (Optionnel)"}),u.jsxs("select",{...a("monteurId"),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"",children:"-- Aucun --"}),i.map(d=>u.jsxs("option",{value:d.id,children:[d.prenom," ",d.nom," (",d.numeroIdentification,")"]},d.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e?"Nouveau mot de passe (laisser vide pour ne pas changer)":"Mot de passe"}),u.jsx("input",{type:"password",...a("password",{required:e?!1:"Mot de passe requis"}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"}),l.password&&u.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.password.message})]}),u.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[u.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:"Annuler"}),u.jsxs("button",{type:"submit",disabled:n,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[n&&u.jsx(fr,{className:"animate-spin",size:18}),e?"Enregistrer":"Crer"]})]})]})},G7=()=>{const[e,t]=_e.useState(!1),[r,n]=_e.useState(!1),[i,s]=_e.useState(null),{register:a,handleSubmit:o,formState:{errors:l}}=Ka(),d=async f=>{var h,m;t(!0),s(null);try{await Rt.post("/auth/forgot-password",f),n(!0)}catch(g){s(((m=(h=g.response)==null?void 0:h.data)==null?void 0:m.message)||"Une erreur est survenue")}finally{t(!1)}};return r?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4",children:u.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:u.jsx(Mh,{className:"text-green-600",size:48})})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Email envoy !"}),u.jsx("p",{className:"text-gray-600 mb-8",children:"Si un compte est associ  cette adresse email, vous recevrez prochainement un lien pour rinitialiser votre mot de passe."}),u.jsxs(Dl,{to:"/login",className:"inline-flex items-center gap-2 text-blue-600 font-medium hover:text-blue-800 transition-colors",children:[u.jsx(v5,{size:20}),"Retour  la connexion"]})]})}):u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4",children:u.jsx("div",{className:"max-w-md w-full",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mot de passe oubli"}),u.jsx("p",{className:"text-gray-600 mt-2",children:"Saisissez votre email pour rinitialiser votre mot de passe"})]}),i&&u.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:i}),u.jsxs("form",{onSubmit:o(d),className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{id:"email",type:"email",...a("email",{required:"Email requis",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email invalide"}}),className:`w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.email?"border-red-500":"border-gray-300"}`,placeholder:"votre@email.com"}),u.jsx(Gm,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20})]}),l.email&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.email.message})]}),u.jsx("button",{type:"submit",disabled:e,className:"w-full flex items-center justify-center gap-2 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 focus:ring-4 focus:ring-blue-300 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:e?u.jsxs(u.Fragment,{children:[u.jsx(fr,{className:"animate-spin",size:20}),"Envoi en cours..."]}):"Envoyer le lien"})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsxs(Dl,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-gray-500 hover:text-blue-600 transition-colors",children:[u.jsx(v5,{size:16}),"Retour  la connexion"]})})]})})})},Q7=()=>{const e=ec(),[t]=EN(),r=t.get("token"),[n,i]=_e.useState(!1),[s,a]=_e.useState(!1),[o,l]=_e.useState(null),[d,f]=_e.useState(!1),{register:h,handleSubmit:m,watch:g,formState:{errors:w}}=Ka();_e.useEffect(()=>{r||l("Token de rinitialisation manquant")},[r]);const _=async L=>{var x,S;if(r){i(!0),l(null);try{await Rt.post("/auth/reset-password",{token:r,password:L.password}),a(!0),setTimeout(()=>e("/login"),3e3)}catch(F){l(((S=(x=F.response)==null?void 0:x.data)==null?void 0:S.message)||"Une erreur est survenue")}finally{i(!1)}}};return s?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4",children:u.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:u.jsx(Mh,{className:"text-green-600",size:48})})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Mot de passe rinitialis !"}),u.jsx("p",{className:"text-gray-600 mb-8",children:"Votre mot de passe a t mis  jour avec succs. Vous allez tre redirig vers la page de connexion."}),u.jsx(Dl,{to:"/login",className:"text-blue-600 font-medium hover:underline",children:"Se connecter maintenant"})]})}):o&&!r?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4",children:u.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:u.jsx(Wu,{className:"text-red-600",size:48})})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Lien invalide"}),u.jsx("p",{className:"text-gray-600 mb-8",children:"Ce lien de rinitialisation est invalide ou a expir. Veuillez faire une nouvelle demande."}),u.jsx(Dl,{to:"/forgot-password",className:"bg-blue-600 text-white py-2 px-6 rounded-lg hover:bg-blue-700 transition-colors inline-block",children:"Demander un nouveau lien"})]})}):u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4",children:u.jsx("div",{className:"max-w-md w-full",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Nouveau mot de passe"}),u.jsx("p",{className:"text-gray-600 mt-2",children:"Choisissez votre nouveau mot de passe scuris"})]}),o&&u.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded text-sm",children:o}),u.jsxs("form",{onSubmit:m(_),className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nouveau mot de passe"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{id:"password",type:d?"text":"password",...h("password",{required:"Mot de passe requis",minLength:{value:8,message:"Au moins 8 caractres requis"}}),className:`w-full pl-10 pr-10 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${w.password?"border-red-500":"border-gray-300"}`,placeholder:"********"}),u.jsx(cf,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-404",size:20}),u.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:d?u.jsx(ib,{size:20}):u.jsx(sh,{size:20})})]}),w.password&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.password.message})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmer le mot de passe"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{id:"confirmPassword",type:d?"text":"password",...h("confirmPassword",{required:"Confirmation requise",validate:L=>{if(g("password")!==L)return"Les mots de passe ne correspondent pas"}}),className:`w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${w.confirmPassword?"border-red-500":"border-gray-300"}`,placeholder:"********"}),u.jsx(cf,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20})]}),w.confirmPassword&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.confirmPassword.message})]}),u.jsx("button",{type:"submit",disabled:n||!!o,className:"w-full flex items-center justify-center gap-2 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 focus:ring-4 focus:ring-blue-300 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:n?u.jsxs(u.Fragment,{children:[u.jsx(fr,{className:"animate-spin",size:20}),"Rinitialisation..."]}):"Enregistrer le nouveau mot de passe"})]})]})})})},J7=()=>u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4",children:u.jsxs("div",{className:"text-center",children:[u.jsx(J8,{className:"mx-auto text-red-500 mb-4",size:64}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Acces non autorise"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Vous n'avez pas les permissions necessaires pour acceder a cette page."}),u.jsx(Dl,{to:"/dashboard",className:"inline-block px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Retour au dashboard"})]})});var lw={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((r,n)=>{e.exports=n()})(b0,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i,s=!n.document&&!!n.postMessage,a=n.IS_PAPA_WORKER||!1,o={},l=0,d={};function f(N){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(k){var M=V(k);M.chunkSize=parseInt(M.chunkSize),k.step||k.chunk||(M.chunkSize=null),this._handle=new _(M),(this._handle.streamer=this)._config=M}).call(this,N),this.parseChunk=function(k,M){var P=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<P){let C=this._config.newline;C||(E=this._config.quoteChar||'"',C=this._handle.guessLineEndings(k,E)),k=[...k.split(C).slice(P)].join(C)}this.isFirstChunk&&$(this._config.beforeFirstChunk)&&(E=this._config.beforeFirstChunk(k))!==void 0&&(k=E),this.isFirstChunk=!1,this._halted=!1;var P=this._partialLine+k,E=(this._partialLine="",this._handle.parse(P,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(k=E.meta.cursor,P=(this._finished||(this._partialLine=P.substring(k-this._baseIndex),this._baseIndex=k),E&&E.data&&(this._rowCount+=E.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),a)n.postMessage({results:E,workerId:d.WORKER_ID,finished:P});else if($(this._config.chunk)&&!M){if(this._config.chunk(E,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=E=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(E.data),this._completeResults.errors=this._completeResults.errors.concat(E.errors),this._completeResults.meta=E.meta),this._completed||!P||!$(this._config.complete)||E&&E.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),P||E&&E.meta.paused||this._nextChunk(),E}this._halted=!0},this._sendError=function(k){$(this._config.error)?this._config.error(k):a&&this._config.error&&n.postMessage({workerId:d.WORKER_ID,error:k,finished:!1})}}function h(N){var k;(N=N||{}).chunkSize||(N.chunkSize=d.RemoteChunkSize),f.call(this,N),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(M){this._input=M,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(k=new XMLHttpRequest,this._config.withCredentials&&(k.withCredentials=this._config.withCredentials),s||(k.onload=U(this._chunkLoaded,this),k.onerror=U(this._chunkError,this)),k.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var M,P=this._config.downloadRequestHeaders;for(M in P)k.setRequestHeader(M,P[M])}var E;this._config.chunkSize&&(E=this._start+this._config.chunkSize-1,k.setRequestHeader("Range","bytes="+this._start+"-"+E));try{k.send(this._config.downloadRequestBody)}catch(C){this._chunkError(C.message)}s&&k.status===0&&this._chunkError()}},this._chunkLoaded=function(){k.readyState===4&&(k.status<200||400<=k.status?this._chunkError():(this._start+=this._config.chunkSize||k.responseText.length,this._finished=!this._config.chunkSize||this._start>=(M=>(M=M.getResponseHeader("Content-Range"))!==null?parseInt(M.substring(M.lastIndexOf("/")+1)):-1)(k),this.parseChunk(k.responseText)))},this._chunkError=function(M){M=k.statusText||M,this._sendError(new Error(M))}}function m(N){(N=N||{}).chunkSize||(N.chunkSize=d.LocalChunkSize),f.call(this,N);var k,M,P=typeof FileReader<"u";this.stream=function(E){this._input=E,M=E.slice||E.webkitSlice||E.mozSlice,P?((k=new FileReader).onload=U(this._chunkLoaded,this),k.onerror=U(this._chunkError,this)):k=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var E=this._input,C=(this._config.chunkSize&&(C=Math.min(this._start+this._config.chunkSize,this._input.size),E=M.call(E,this._start,C)),k.readAsText(E,this._config.encoding));P||this._chunkLoaded({target:{result:C}})},this._chunkLoaded=function(E){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(E.target.result)},this._chunkError=function(){this._sendError(k.error)}}function g(N){var k;f.call(this,N=N||{}),this.stream=function(M){return k=M,this._nextChunk()},this._nextChunk=function(){var M,P;if(!this._finished)return M=this._config.chunkSize,k=M?(P=k.substring(0,M),k.substring(M)):(P=k,""),this._finished=!k,this.parseChunk(P)}}function w(N){f.call(this,N=N||{});var k=[],M=!0,P=!1;this.pause=function(){f.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){f.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(E){this._input=E,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){P&&k.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),k.length?this.parseChunk(k.shift()):M=!0},this._streamData=U(function(E){try{k.push(typeof E=="string"?E:E.toString(this._config.encoding)),M&&(M=!1,this._checkIsFinished(),this.parseChunk(k.shift()))}catch(C){this._streamError(C)}},this),this._streamError=U(function(E){this._streamCleanUp(),this._sendError(E)},this),this._streamEnd=U(function(){this._streamCleanUp(),P=!0,this._streamData("")},this),this._streamCleanUp=U(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function _(N){var k,M,P,E,C=Math.pow(2,53),D=-C,re=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,q=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,z=this,Q=0,J=0,ae=!1,be=!1,R=[],K={data:[],errors:[],meta:{}};function Z(ve){return N.skipEmptyLines==="greedy"?ve.join("").trim()==="":ve.length===1&&ve[0].length===0}function ee(){if(K&&P&&(we("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+d.DefaultDelimiter+"'"),P=!1),N.skipEmptyLines&&(K.data=K.data.filter(function(Oe){return!Z(Oe)})),fe()){let Oe=function(Re,Ze){$(N.transformHeader)&&(Re=N.transformHeader(Re,Ze)),R.push(Re)};if(K)if(Array.isArray(K.data[0])){for(var ve=0;fe()&&ve<K.data.length;ve++)K.data[ve].forEach(Oe);K.data.splice(0,1)}else K.data.forEach(Oe)}function se(Oe,Re){for(var Ze=N.header?{}:[],dt=0;dt<Oe.length;dt++){var Ee=dt,le=Oe[dt],le=((xt,Je)=>(We=>(N.dynamicTypingFunction&&N.dynamicTyping[We]===void 0&&(N.dynamicTyping[We]=N.dynamicTypingFunction(We)),(N.dynamicTyping[We]||N.dynamicTyping)===!0))(xt)?Je==="true"||Je==="TRUE"||Je!=="false"&&Je!=="FALSE"&&((We=>{if(re.test(We)&&(We=parseFloat(We),D<We&&We<C))return 1})(Je)?parseFloat(Je):q.test(Je)?new Date(Je):Je===""?null:Je):Je)(Ee=N.header?dt>=R.length?"__parsed_extra":R[dt]:Ee,le=N.transform?N.transform(le,Ee):le);Ee==="__parsed_extra"?(Ze[Ee]=Ze[Ee]||[],Ze[Ee].push(le)):Ze[Ee]=le}return N.header&&(dt>R.length?we("FieldMismatch","TooManyFields","Too many fields: expected "+R.length+" fields but parsed "+dt,J+Re):dt<R.length&&we("FieldMismatch","TooFewFields","Too few fields: expected "+R.length+" fields but parsed "+dt,J+Re)),Ze}var $e;K&&(N.header||N.dynamicTyping||N.transform)&&($e=1,!K.data.length||Array.isArray(K.data[0])?(K.data=K.data.map(se),$e=K.data.length):K.data=se(K.data,0),N.header&&K.meta&&(K.meta.fields=R),J+=$e)}function fe(){return N.header&&R.length===0}function we(ve,se,$e,Oe){ve={type:ve,code:se,message:$e},Oe!==void 0&&(ve.row=Oe),K.errors.push(ve)}$(N.step)&&(E=N.step,N.step=function(ve){K=ve,fe()?ee():(ee(),K.data.length!==0&&(Q+=ve.data.length,N.preview&&Q>N.preview?M.abort():(K.data=K.data[0],E(K,z))))}),this.parse=function(ve,se,$e){var Oe=N.quoteChar||'"',Oe=(N.newline||(N.newline=this.guessLineEndings(ve,Oe)),P=!1,N.delimiter?$(N.delimiter)&&(N.delimiter=N.delimiter(ve),K.meta.delimiter=N.delimiter):((Oe=((Re,Ze,dt,Ee,le)=>{var xt,Je,We,ie;le=le||[",","	","|",";",d.RECORD_SEP,d.UNIT_SEP];for(var de=0;de<le.length;de++){for(var me,Ve=le[de],Me=0,Ue=0,Ye=0,pt=(We=void 0,new x({comments:Ee,delimiter:Ve,newline:Ze,preview:10}).parse(Re)),yt=0;yt<pt.data.length;yt++)dt&&Z(pt.data[yt])?Ye++:(me=pt.data[yt].length,Ue+=me,We===void 0?We=me:0<me&&(Me+=Math.abs(me-We),We=me));0<pt.data.length&&(Ue/=pt.data.length-Ye),(Je===void 0||Me<=Je)&&(ie===void 0||ie<Ue)&&1.99<Ue&&(Je=Me,xt=Ve,ie=Ue)}return{successful:!!(N.delimiter=xt),bestDelimiter:xt}})(ve,N.newline,N.skipEmptyLines,N.comments,N.delimitersToGuess)).successful?N.delimiter=Oe.bestDelimiter:(P=!0,N.delimiter=d.DefaultDelimiter),K.meta.delimiter=N.delimiter),V(N));return N.preview&&N.header&&Oe.preview++,k=ve,M=new x(Oe),K=M.parse(k,se,$e),ee(),ae?{meta:{paused:!0}}:K||{meta:{paused:!1}}},this.paused=function(){return ae},this.pause=function(){ae=!0,M.abort(),k=$(N.chunk)?"":k.substring(M.getCharIndex())},this.resume=function(){z.streamer._halted?(ae=!1,z.streamer.parseChunk(k,!0)):setTimeout(z.resume,3)},this.aborted=function(){return be},this.abort=function(){be=!0,M.abort(),K.meta.aborted=!0,$(N.complete)&&N.complete(K),k=""},this.guessLineEndings=function(Re,Oe){Re=Re.substring(0,1048576);var Oe=new RegExp(L(Oe)+"([^]*?)"+L(Oe),"gm"),$e=(Re=Re.replace(Oe,"")).split("\r"),Oe=Re.split(`
`),Re=1<Oe.length&&Oe[0].length<$e[0].length;if($e.length===1||Re)return`
`;for(var Ze=0,dt=0;dt<$e.length;dt++)$e[dt][0]===`
`&&Ze++;return Ze>=$e.length/2?`\r
`:"\r"}}function L(N){return N.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function x(N){var k=(N=N||{}).delimiter,M=N.newline,P=N.comments,E=N.step,C=N.preview,D=N.fastMode,re=null,q=!1,z=N.quoteChar==null?'"':N.quoteChar,Q=z;if(N.escapeChar!==void 0&&(Q=N.escapeChar),(typeof k!="string"||-1<d.BAD_DELIMITERS.indexOf(k))&&(k=","),P===k)throw new Error("Comment character same as delimiter");P===!0?P="#":(typeof P!="string"||-1<d.BAD_DELIMITERS.indexOf(P))&&(P=!1),M!==`
`&&M!=="\r"&&M!==`\r
`&&(M=`
`);var J=0,ae=!1;this.parse=function(be,R,K){if(typeof be!="string")throw new Error("Input must be a string");var Z=be.length,ee=k.length,fe=M.length,we=P.length,ve=$(E),se=[],$e=[],Oe=[],Re=J=0;if(!be)return Me();if(D||D!==!1&&be.indexOf(z)===-1){for(var Ze=be.split(M),dt=0;dt<Ze.length;dt++){if(Oe=Ze[dt],J+=Oe.length,dt!==Ze.length-1)J+=M.length;else if(K)return Me();if(!P||Oe.substring(0,we)!==P){if(ve){if(se=[],ie(Oe.split(k)),Ue(),ae)return Me()}else ie(Oe.split(k));if(C&&C<=dt)return se=se.slice(0,C),Me(!0)}}return Me()}for(var Ee=be.indexOf(k,J),le=be.indexOf(M,J),xt=new RegExp(L(Q)+L(z),"g"),Je=be.indexOf(z,J);;)if(be[J]===z)for(Je=J,J++;;){if((Je=be.indexOf(z,Je+1))===-1)return K||$e.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:se.length,index:J}),me();if(Je===Z-1)return me(be.substring(J,Je).replace(xt,z));if(z===Q&&be[Je+1]===Q)Je++;else if(z===Q||Je===0||be[Je-1]!==Q){Ee!==-1&&Ee<Je+1&&(Ee=be.indexOf(k,Je+1));var We=de((le=le!==-1&&le<Je+1?be.indexOf(M,Je+1):le)===-1?Ee:Math.min(Ee,le));if(be.substr(Je+1+We,ee)===k){Oe.push(be.substring(J,Je).replace(xt,z)),be[J=Je+1+We+ee]!==z&&(Je=be.indexOf(z,J)),Ee=be.indexOf(k,J),le=be.indexOf(M,J);break}if(We=de(le),be.substring(Je+1+We,Je+1+We+fe)===M){if(Oe.push(be.substring(J,Je).replace(xt,z)),Ve(Je+1+We+fe),Ee=be.indexOf(k,J),Je=be.indexOf(z,J),ve&&(Ue(),ae))return Me();if(C&&se.length>=C)return Me(!0);break}$e.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:se.length,index:J}),Je++}}else if(P&&Oe.length===0&&be.substring(J,J+we)===P){if(le===-1)return Me();J=le+fe,le=be.indexOf(M,J),Ee=be.indexOf(k,J)}else if(Ee!==-1&&(Ee<le||le===-1))Oe.push(be.substring(J,Ee)),J=Ee+ee,Ee=be.indexOf(k,J);else{if(le===-1)break;if(Oe.push(be.substring(J,le)),Ve(le+fe),ve&&(Ue(),ae))return Me();if(C&&se.length>=C)return Me(!0)}return me();function ie(Ye){se.push(Ye),Re=J}function de(Ye){var pt=0;return pt=Ye!==-1&&(Ye=be.substring(Je+1,Ye))&&Ye.trim()===""?Ye.length:pt}function me(Ye){return K||(Ye===void 0&&(Ye=be.substring(J)),Oe.push(Ye),J=Z,ie(Oe),ve&&Ue()),Me()}function Ve(Ye){J=Ye,ie(Oe),Oe=[],le=be.indexOf(M,J)}function Me(Ye){if(N.header&&!R&&se.length&&!q){var pt=se[0],yt=Object.create(null),wt=new Set(pt);let kt=!1;for(let st=0;st<pt.length;st++){let Dt=pt[st];if(yt[Dt=$(N.transformHeader)?N.transformHeader(Dt,st):Dt]){let Pt,ar=yt[Dt];for(;Pt=Dt+"_"+ar,ar++,wt.has(Pt););wt.add(Pt),pt[st]=Pt,yt[Dt]++,kt=!0,(re=re===null?{}:re)[Pt]=Dt}else yt[Dt]=1,pt[st]=Dt;wt.add(Dt)}kt&&console.warn("Duplicate headers found and renamed."),q=!0}return{data:se,errors:$e,meta:{delimiter:k,linebreak:M,aborted:ae,truncated:!!Ye,cursor:Re+(R||0),renamedHeaders:re}}}function Ue(){E(Me()),se=[],$e=[]}},this.abort=function(){ae=!0},this.getCharIndex=function(){return J}}function S(N){var k=N.data,M=o[k.workerId],P=!1;if(k.error)M.userError(k.error,k.file);else if(k.results&&k.results.data){var E={abort:function(){P=!0,F(k.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:T,resume:T};if($(M.userStep)){for(var C=0;C<k.results.data.length&&(M.userStep({data:k.results.data[C],errors:k.results.errors,meta:k.results.meta},E),!P);C++);delete k.results}else $(M.userChunk)&&(M.userChunk(k.results,E,k.file),delete k.results)}k.finished&&!P&&F(k.workerId,k.results)}function F(N,k){var M=o[N];$(M.userComplete)&&M.userComplete(k),M.terminate(),delete o[N]}function T(){throw new Error("Not implemented.")}function V(N){if(typeof N!="object"||N===null)return N;var k,M=Array.isArray(N)?[]:{};for(k in N)M[k]=V(N[k]);return M}function U(N,k){return function(){N.apply(k,arguments)}}function $(N){return typeof N=="function"}return d.parse=function(N,k){var M=(k=k||{}).dynamicTyping||!1;if($(M)&&(k.dynamicTypingFunction=M,M={}),k.dynamicTyping=M,k.transform=!!$(k.transform)&&k.transform,!k.worker||!d.WORKERS_SUPPORTED)return M=null,d.NODE_STREAM_INPUT,typeof N=="string"?(N=(P=>P.charCodeAt(0)!==65279?P:P.slice(1))(N),M=new(k.download?h:g)(k)):N.readable===!0&&$(N.read)&&$(N.on)?M=new w(k):(n.File&&N instanceof File||N instanceof Object)&&(M=new m(k)),M.stream(N);(M=(()=>{var P;return!!d.WORKERS_SUPPORTED&&(P=(()=>{var E=n.URL||n.webkitURL||null,C=r.toString();return d.BLOB_URL||(d.BLOB_URL=E.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",C,")();"],{type:"text/javascript"})))})(),(P=new n.Worker(P)).onmessage=S,P.id=l++,o[P.id]=P)})()).userStep=k.step,M.userChunk=k.chunk,M.userComplete=k.complete,M.userError=k.error,k.step=$(k.step),k.chunk=$(k.chunk),k.complete=$(k.complete),k.error=$(k.error),delete k.worker,M.postMessage({input:N,config:k,workerId:M.id})},d.unparse=function(N,k){var M=!1,P=!0,E=",",C=`\r
`,D='"',re=D+D,q=!1,z=null,Q=!1,J=((()=>{if(typeof k=="object"){if(typeof k.delimiter!="string"||d.BAD_DELIMITERS.filter(function(R){return k.delimiter.indexOf(R)!==-1}).length||(E=k.delimiter),typeof k.quotes!="boolean"&&typeof k.quotes!="function"&&!Array.isArray(k.quotes)||(M=k.quotes),typeof k.skipEmptyLines!="boolean"&&typeof k.skipEmptyLines!="string"||(q=k.skipEmptyLines),typeof k.newline=="string"&&(C=k.newline),typeof k.quoteChar=="string"&&(D=k.quoteChar),typeof k.header=="boolean"&&(P=k.header),Array.isArray(k.columns)){if(k.columns.length===0)throw new Error("Option columns is empty");z=k.columns}k.escapeChar!==void 0&&(re=k.escapeChar+D),k.escapeFormulae instanceof RegExp?Q=k.escapeFormulae:typeof k.escapeFormulae=="boolean"&&k.escapeFormulae&&(Q=/^[=+\-@\t\r].*$/)}})(),new RegExp(L(D),"g"));if(typeof N=="string"&&(N=JSON.parse(N)),Array.isArray(N)){if(!N.length||Array.isArray(N[0]))return ae(null,N,q);if(typeof N[0]=="object")return ae(z||Object.keys(N[0]),N,q)}else if(typeof N=="object")return typeof N.data=="string"&&(N.data=JSON.parse(N.data)),Array.isArray(N.data)&&(N.fields||(N.fields=N.meta&&N.meta.fields||z),N.fields||(N.fields=Array.isArray(N.data[0])?N.fields:typeof N.data[0]=="object"?Object.keys(N.data[0]):[]),Array.isArray(N.data[0])||typeof N.data[0]=="object"||(N.data=[N.data])),ae(N.fields||[],N.data||[],q);throw new Error("Unable to serialize unrecognized input");function ae(R,K,Z){var ee="",fe=(typeof R=="string"&&(R=JSON.parse(R)),typeof K=="string"&&(K=JSON.parse(K)),Array.isArray(R)&&0<R.length),we=!Array.isArray(K[0]);if(fe&&P){for(var ve=0;ve<R.length;ve++)0<ve&&(ee+=E),ee+=be(R[ve],ve);0<K.length&&(ee+=C)}for(var se=0;se<K.length;se++){var $e=(fe?R:K[se]).length,Oe=!1,Re=fe?Object.keys(K[se]).length===0:K[se].length===0;if(Z&&!fe&&(Oe=Z==="greedy"?K[se].join("").trim()==="":K[se].length===1&&K[se][0].length===0),Z==="greedy"&&fe){for(var Ze=[],dt=0;dt<$e;dt++){var Ee=we?R[dt]:dt;Ze.push(K[se][Ee])}Oe=Ze.join("").trim()===""}if(!Oe){for(var le=0;le<$e;le++){0<le&&!Re&&(ee+=E);var xt=fe&&we?R[le]:le;ee+=be(K[se][xt],le)}se<K.length-1&&(!Z||0<$e&&!Re)&&(ee+=C)}}return ee}function be(R,K){var Z,ee;return R==null?"":R.constructor===Date?JSON.stringify(R).slice(1,25):(ee=!1,Q&&typeof R=="string"&&Q.test(R)&&(R="'"+R,ee=!0),Z=R.toString().replace(J,re),(ee=ee||M===!0||typeof M=="function"&&M(R,K)||Array.isArray(M)&&M[K]||((fe,we)=>{for(var ve=0;ve<we.length;ve++)if(-1<fe.indexOf(we[ve]))return!0;return!1})(Z,d.BAD_DELIMITERS)||-1<Z.indexOf(E)||Z.charAt(0)===" "||Z.charAt(Z.length-1)===" ")?D+Z+D:Z)}},d.RECORD_SEP="",d.UNIT_SEP="",d.BYTE_ORDER_MARK="\uFEFF",d.BAD_DELIMITERS=["\r",`
`,'"',d.BYTE_ORDER_MARK],d.WORKERS_SUPPORTED=!s&&!!n.Worker,d.NODE_STREAM_INPUT=1,d.LocalChunkSize=10485760,d.RemoteChunkSize=5242880,d.DefaultDelimiter=",",d.Parser=x,d.ParserHandle=_,d.NetworkStreamer=h,d.FileStreamer=m,d.StringStreamer=g,d.ReadableStreamStreamer=w,n.jQuery&&((i=n.jQuery).fn.parse=function(N){var k=N.config||{},M=[];return this.each(function(C){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var D=0;D<this.files.length;D++)M.push({file:this.files[D],inputElem:this,instanceConfig:i.extend({},k)})}),P(),this;function P(){if(M.length===0)$(N.complete)&&N.complete();else{var C,D,re,q,z=M[0];if($(N.before)){var Q=N.before(z.file,z.inputElem);if(typeof Q=="object"){if(Q.action==="abort")return C="AbortError",D=z.file,re=z.inputElem,q=Q.reason,void($(N.error)&&N.error({name:C},D,re,q));if(Q.action==="skip")return void E();typeof Q.config=="object"&&(z.instanceConfig=i.extend(z.instanceConfig,Q.config))}else if(Q==="skip")return void E()}var J=z.instanceConfig.complete;z.instanceConfig.complete=function(ae){$(J)&&J(ae,z.file,z.inputElem),E()},d.parse(z.file,z.instanceConfig)}}function E(){M.splice(0,1),P()}}),a&&(n.onmessage=function(N){N=N.data,d.WORKER_ID===void 0&&N&&(d.WORKER_ID=N.workerId),typeof N.input=="string"?n.postMessage({workerId:d.WORKER_ID,results:d.parse(N.input,N.config),finished:!0}):(n.File&&N.input instanceof File||N.input instanceof Object)&&(N=d.parse(N.input,N.config))&&n.postMessage({workerId:d.WORKER_ID,results:N,finished:!0})}),(h.prototype=Object.create(f.prototype)).constructor=h,(m.prototype=Object.create(f.prototype)).constructor=m,(g.prototype=Object.create(g.prototype)).constructor=g,(w.prototype=Object.create(f.prototype)).constructor=w,d})})(lw);var Y7=lw.exports;const uw=hf(Y7),X7=()=>{const[e,t]=_e.useState(1),[r,n]=_e.useState(!1),[i,s]=_e.useState(!0),[a,o]=_e.useState(""),[l,d]=_e.useState(""),[,f]=_e.useState({name:"",siret:"",address:"",email:"",phone:""}),[h,m]=_e.useState(null),[g,w]=_e.useState(null),[_,L]=_e.useState([]),[x,S]=_e.useState([]),[F,T]=_e.useState({monteurs:0,chantiers:0}),[V,U]=_e.useState(!1),$=ec(),{showToast:N}=Ul(),{login:k,isAuthenticated:M,logout:P,checkSetup:E}=hs(),{register:C,handleSubmit:D,formState:{errors:re},watch:q,setValue:z}=Ka(),Q=[{id:1,name:"Authentification",icon:cf},{id:2,name:"Identit",icon:lf},{id:3,name:"Branding",icon:Ll},{id:4,name:"Import",icon:El},{id:5,name:"Terminer",icon:Nc}];_e.useEffect(()=>{(M||e===1)&&(async()=>{var $e,Oe;n(!0);try{console.log("Fetching setup status...");const Re=await ji.getStatus();if(!Re||!Re.success)throw console.error("Setup status response unsuccessful:",Re),new Error((Re==null?void 0:Re.message)||"Erreur lors de la rcupration du statut");console.log("Setup status data:",Re.data),T(Re.data.counts||{monteurs:0,chantiers:0}),s(Re.data.hasAdmin),Re.data.isSetupComplete?$("/dashboard"):M&&e===1?(t(2),Re.data.company&&(f(Re.data.company),z("name",Re.data.company.name||""),z("siret",Re.data.company.siret||""),z("address",Re.data.company.address||""),z("email",Re.data.company.email||""),z("phone",Re.data.company.phone||""))):M||t(1)}catch(Re){console.error("Erreur fetchSetupStatus detail:",Re);const Ze=((Oe=($e=Re.response)==null?void 0:$e.data)==null?void 0:Oe.message)||Re.message||"Erreur de connexion au serveur";N(`Erreur configuration: ${Ze}`,"error")}finally{n(!1)}})()},[$,N,M,e,z]);const J=async se=>{var $e,Oe;se.preventDefault(),n(!0);try{if(!i)console.log("Creating initial admin..."),await ji.createAdmin({email:a,password:l}),N("Administrateur cr, connexion en cours...","info"),await k(a,l)&&(N("Initialisation russie","success"),t(2));else if(await k(a,l)){const Ze=hs.getState().user;if((Ze==null?void 0:Ze.role)!=="ADMIN"){N("Seul un administrateur peut configurer l'application","error"),await P(),o(""),d("");return}N("Connexion russie","success"),t(2)}else N("Identifiants invalides","error")}catch(Re){console.error("Login/Creation error:",Re),N(((Oe=($e=Re.response)==null?void 0:$e.data)==null?void 0:Oe.message)||"Une erreur est survenue lors de l'authentification","error")}finally{n(!1)}},ae=()=>t(se=>Math.min(se+1,Q.length)),be=()=>t(se=>Math.max(se-1,1)),R=async se=>{n(!0);try{await ji.updateCompany(se),f(se),N("Informations enregistres","success"),ae()}catch{N("Erreur lors de l'enregistrement","error")}finally{n(!1)}},K=async()=>{if(!h&&!g){ae();return}n(!0);try{await ji.uploadLogos(h||void 0,g||void 0),N("Logos mis  jour","success"),ae()}catch{N("Erreur lors de l'upload des logos","error")}finally{n(!1)}},Z=(se,$e)=>{uw.parse($e,{header:!0,skipEmptyLines:!0,complete:Oe=>{se==="monteurs"?L(Oe.data):S(Oe.data),N(`${Oe.data.length} ${se} dtects`,"info")},error:()=>{N("Erreur de lecture du fichier CSV","error")}})},ee=async()=>{if(_.length===0&&x.length===0){ae();return}n(!0);try{const se=await ji.importData({monteurs:_,chantiers:x}),{importedMonteurs:$e,importedChantiers:Oe}=se.data;N(`${$e} monteurs et ${Oe} chantiers imports`,"success");const Re=await ji.getStatus();T(Re.data.counts),L([]),S([]),ae()}catch{N("Erreur lors de l'importation","error")}finally{n(!1)}},fe=async()=>{await P(),t(1),o(""),d(""),N("Dconnexion russie","info")},we=async()=>{U(!0);try{await ji.finalize(),N("Configuration termine avec succs !","success"),await E(),$("/dashboard")}catch{N("Erreur lors de la finalisation","error")}finally{U(!1),n(!1)}},ve=()=>u.jsx("div",{className:"flex items-center justify-between mb-8",children:Q.map((se,$e)=>u.jsxs(Zt.Fragment,{children:[u.jsxs("div",{className:"flex flex-col items-center flex-1 relative",children:[u.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 transition-all duration-300 ${e>=se.id?"bg-indigo-600 border-indigo-600 text-white shadow-lg shadow-indigo-200":"bg-white border-gray-200 text-gray-400"}`,children:e>se.id?u.jsx(Nc,{size:20}):u.jsx(se.icon,{size:20})}),u.jsx("span",{className:`text-xs mt-2 font-medium text-center ${e>=se.id?"text-indigo-600":"text-gray-400"}`,children:se.name})]}),$e<Q.length-1&&u.jsx("div",{className:`h-1 flex-1 mx-2 -mt-6 transition-all duration-500 ${e>se.id?"bg-indigo-600":"bg-gray-100"}`})]},se.id))});return u.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-6",children:u.jsxs("div",{className:"max-w-4xl w-full bg-white rounded-3xl shadow-2xl overflow-hidden flex flex-col md:flex-row min-h-[600px]",children:[u.jsxs("div",{className:"w-full md:w-1/3 bg-indigo-700 p-8 text-white flex flex-col justify-between",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[u.jsx("div",{className:"w-8 h-8 bg-white rounded-lg flex items-center justify-center",children:u.jsx(lf,{className:"text-indigo-700",size:20})}),u.jsx("span",{className:"font-bold text-xl tracking-tight",children:"Setup Wizard"})]}),u.jsx("h1",{className:"text-3xl font-extrabold leading-tight mb-4",children:"Initialisez votre plateforme"}),u.jsx("p",{className:"text-indigo-100/80 text-sm leading-relaxed",children:"Configurez l'identit visuelle et importez vos donnes pour dmarrer rapidement la gestion de vos feuilles de travail."})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"hidden md:block",children:u.jsxs("div",{className:"space-y-4 opacity-50",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Nc,{size:16})," ",u.jsx("span",{className:"text-xs uppercase tracking-wider font-semibold",children:"100% Scuris"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Nc,{size:16})," ",u.jsx("span",{className:"text-xs uppercase tracking-wider font-semibold",children:"Donnes Isoles"})]})]})}),M&&u.jsxs("button",{onClick:fe,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-semibold transition-all",children:[u.jsx(ab,{size:16})," Dconnexion"]})]})]}),u.jsxs("div",{className:"flex-1 p-8 md:p-12",children:[ve(),u.jsxs("div",{className:"mt-8",children:[e===1&&u.jsxs("div",{className:"max-w-md mx-auto space-y-8 py-8",children:[u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx("div",{className:"w-16 h-16 bg-indigo-100 text-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:u.jsx(cf,{size:32})}),u.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:i?"Accs Administrateur":"Initialisation Globale"}),u.jsx("p",{className:"text-slate-500 text-sm",children:i?"Veuillez vous connecter pour configurer votre instance.":"Crez le compte administrateur principal pour dmarrer."})]}),u.jsxs("form",{onSubmit:J,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Email"}),u.jsx("input",{type:"email",value:a,onChange:se=>o(se.target.value),placeholder:"admin@example.com",className:"w-full p-3 rounded-xl border border-slate-200 focus:border-indigo-500 bg-slate-50 transition-all outline-none",required:!0})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Mot de passe"}),u.jsx("input",{type:"password",value:l,onChange:se=>d(se.target.value),placeholder:"",className:"w-full p-3 rounded-xl border border-slate-200 focus:border-indigo-500 bg-slate-50 transition-all outline-none",required:!0})]}),u.jsxs("button",{type:"submit",disabled:r,className:"w-full py-4 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100 flex items-center justify-center gap-2 disabled:opacity-50",children:[r?u.jsx(fr,{className:"animate-spin",size:20}):u.jsx(sb,{size:20}),i?"Se connecter et continuer":"Crer mon compte et continuer"]})]}),i&&u.jsxs("div",{className:"bg-amber-50 rounded-xl p-4 border border-amber-100 flex gap-3",children:[u.jsx(Wu,{className:"text-amber-500 shrink-0",size:20}),u.jsxs("p",{className:"text-xs text-amber-800",children:["Identifiants par dfaut : ",u.jsx("strong",{children:"admin@maintenance.com"})," / ",u.jsx("strong",{children:"Admin123!"})]})]})]}),e===2&&u.jsxs("form",{onSubmit:D(R),className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Identit de l'Entreprise"}),u.jsx("p",{className:"text-slate-500 text-sm",children:"Ces informations apparatront sur les exports PDF et factures."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Nom commercial *"}),u.jsx("input",{...C("name",{required:"Le nom est requis"}),className:`w-full p-3 rounded-xl border ${re.name?"border-red-500 bg-red-50":"border-slate-200 focus:border-indigo-500"} bg-slate-50 transition-all outline-none`,placeholder:"Maintenance Express"}),re.name&&u.jsx("p",{className:"text-red-500 text-xs mt-1",children:re.name.message})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"SIRET"}),u.jsx("input",{...C("siret"),className:"w-full p-3 rounded-xl border border-slate-200 focus:border-indigo-500 bg-slate-50 transition-all outline-none",placeholder:"123 456 789 00010"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Email de contact"}),u.jsx("input",{...C("email"),className:"w-full p-3 rounded-xl border border-slate-200 focus:border-indigo-500 bg-slate-50 transition-all outline-none",placeholder:"contact@entreprise.com"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Tlphone"}),u.jsx("input",{...C("phone"),className:"w-full p-3 rounded-xl border border-slate-200 focus:border-indigo-500 bg-slate-50 transition-all outline-none",placeholder:"01 23 45 67 89"})]}),u.jsxs("div",{className:"md:col-span-2 space-y-1",children:[u.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Adresse complte"}),u.jsx("textarea",{...C("address"),rows:2,className:"w-full p-3 rounded-xl border border-slate-200 focus:border-indigo-500 bg-slate-50 transition-all outline-none resize-none",placeholder:"123 Rue de la Maintenance, 75000 Paris"})]})]}),u.jsx("div",{className:"flex justify-end pt-4",children:u.jsxs("button",{type:"submit",disabled:r,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-3 rounded-xl font-bold flex items-center gap-2 transition-all hover:scale-105 active:scale-95 disabled:opacity-50",children:[r?u.jsx(fr,{className:"animate-spin",size:20}):"Continuer",u.jsx(kd,{size:20})]})})]}),e===3&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Branding & Logos"}),u.jsx("p",{className:"text-slate-500 text-sm",children:"Personnalisez l'apparence de votre plateforme."})]}),u.jsx("div",{className:"space-y-8",children:u.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[u.jsxs("div",{className:"flex-1 space-y-3",children:[u.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Logo de l'application"}),u.jsx("div",{className:"relative group",children:u.jsxs("div",{className:`w-full h-40 rounded-2xl border-2 border-dashed flex flex-col items-center justify-center transition-all ${h?"bg-indigo-50 border-indigo-400":"bg-slate-50 border-slate-200 hover:border-indigo-300"}`,children:[h?u.jsxs("div",{className:"relative w-full h-full p-4 flex items-center justify-center",children:[u.jsx("img",{src:URL.createObjectURL(h),className:"max-h-full rounded-lg",alt:"Preview"}),u.jsx("button",{onClick:()=>m(null),className:"absolute top-2 right-2 p-1 bg-white shadow-md rounded-full text-slate-400 hover:text-red-500",children:u.jsx(Ma,{size:16})})]}):u.jsxs(u.Fragment,{children:[u.jsx(Ll,{className:"text-slate-300 mb-2",size:40}),u.jsx("p",{className:"text-xs text-slate-400",children:"Glissez-dposez ou cliquez"})]}),u.jsx("input",{type:"file",accept:"image/*",className:"absolute inset-0 opacity-0 cursor-pointer",onChange:se=>se.target.files&&m(se.target.files[0])})]})}),u.jsx("p",{className:"text-[10px] text-slate-400 italic",children:"Utilis pour la barre latrale et les documents."})]}),u.jsxs("div",{className:"flex-1 space-y-3",children:[u.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Logo de connexion"}),u.jsx("div",{className:"relative group",children:u.jsxs("div",{className:`w-full h-40 rounded-2xl border-2 border-dashed flex flex-col items-center justify-center transition-all ${g?"bg-indigo-50 border-indigo-400":"bg-slate-50 border-slate-200 hover:border-indigo-300"}`,children:[g?u.jsxs("div",{className:"relative w-full h-full p-4 flex items-center justify-center",children:[u.jsx("img",{src:URL.createObjectURL(g),className:"max-h-full rounded-lg",alt:"Preview"}),u.jsx("button",{onClick:()=>w(null),className:"absolute top-2 right-2 p-1 bg-white shadow-md rounded-full text-slate-400 hover:text-red-500",children:u.jsx(Ma,{size:16})})]}):u.jsxs(u.Fragment,{children:[u.jsx(Ll,{className:"text-slate-300 mb-2",size:40}),u.jsx("p",{className:"text-xs text-slate-400",children:"Glissez-dposez ou cliquez"})]}),u.jsx("input",{type:"file",accept:"image/*",className:"absolute inset-0 opacity-0 cursor-pointer",onChange:se=>se.target.files&&w(se.target.files[0])})]})}),u.jsx("p",{className:"text-[10px] text-slate-400 italic",children:"Affich en grand sur la page d'accueil."})]})]})}),u.jsxs("div",{className:"flex justify-between pt-4",children:[u.jsxs("button",{onClick:be,className:"text-slate-500 hover:text-slate-800 flex items-center gap-1 transition-all",children:[u.jsx(N1,{size:20})," Retour"]}),u.jsxs("button",{onClick:K,disabled:r,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-3 rounded-xl font-bold flex items-center gap-2 transition-all hover:scale-105 active:scale-95 disabled:opacity-50",children:[r?u.jsx(fr,{className:"animate-spin",size:20}):"Continuer",u.jsx(kd,{size:20})]})]})]}),e===4&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Importation de Donnes"}),u.jsx("p",{className:"text-slate-500 text-sm",children:"Gagnez du temps en important vos listes existantes (CSV)."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:`p-6 rounded-2xl border-2 transition-all ${_.length>0?"bg-indigo-50 border-indigo-200":"bg-white border-slate-100"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600",children:u.jsx(lb,{size:20})}),u.jsx("h3",{className:"font-bold text-slate-800",children:"Monteurs"})]}),F.monteurs>0&&u.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs font-bold rounded-lg",children:[F.monteurs," existants"]})]}),_.length>0?u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("p",{className:"text-sm font-medium text-indigo-700",children:[_.length," lignes prtes"]}),u.jsx("button",{onClick:()=>L([]),className:"text-slate-400 hover:text-red-500",children:u.jsx(Ma,{size:16})})]}):u.jsx("div",{className:"relative",children:u.jsxs("label",{className:"flex items-center gap-2 p-3 bg-slate-50 border border-slate-200 rounded-xl cursor-pointer hover:bg-slate-100 transition-all text-slate-600 text-sm",children:[u.jsx(El,{size:16})," Slectionner un CSV",u.jsx("input",{type:"file",accept:".csv",className:"hidden",onChange:se=>se.target.files&&Z("monteurs",se.target.files[0])})]})})]}),u.jsxs("div",{className:`p-6 rounded-2xl border-2 transition-all ${x.length>0?"bg-indigo-50 border-indigo-200":"bg-white border-slate-100"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600",children:u.jsx(rb,{size:20})}),u.jsx("h3",{className:"font-bold text-slate-800",children:"Chantiers"})]}),F.chantiers>0&&u.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs font-bold rounded-lg",children:[F.chantiers," existants"]})]}),x.length>0?u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("p",{className:"text-sm font-medium text-indigo-700",children:[x.length," lignes prtes"]}),u.jsx("button",{onClick:()=>S([]),className:"text-slate-400 hover:text-red-500",children:u.jsx(Ma,{size:16})})]}):u.jsx("div",{className:"relative",children:u.jsxs("label",{className:"flex items-center gap-2 p-3 bg-slate-50 border border-slate-200 rounded-xl cursor-pointer hover:bg-slate-100 transition-all text-slate-600 text-sm",children:[u.jsx(El,{size:16})," Slectionner un CSV",u.jsx("input",{type:"file",accept:".csv",className:"hidden",onChange:se=>se.target.files&&Z("chantiers",se.target.files[0])})]})})]})]}),u.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-100 flex gap-3 text-blue-800 text-xs",children:[u.jsx(Wu,{size:16,className:"shrink-0"}),u.jsx("p",{children:"L'importation dtecte automatiquement les colonnes correspondantes. Les doublons ventuels seront ignors lors du traitement final."})]}),u.jsxs("div",{className:"flex justify-between pt-4",children:[u.jsxs("button",{onClick:be,className:"text-slate-500 hover:text-slate-800 flex items-center gap-1 transition-all",children:[u.jsx(N1,{size:20})," Retour"]}),u.jsxs("button",{onClick:ee,disabled:r,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-3 rounded-xl font-bold flex items-center gap-2 transition-all hover:scale-105 active:scale-95 disabled:opacity-50",children:[r?u.jsx(fr,{className:"animate-spin",size:20}):_.length>0||x.length>0?"Importer":"Passer cette tape",u.jsx(kd,{size:20})]})]})]}),e===5&&u.jsxs("div",{className:"space-y-6 text-center",children:[u.jsx("div",{className:"w-24 h-24 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-6",children:u.jsx(Nc,{size:48})}),u.jsx("h2",{className:"text-3xl font-extrabold text-slate-800",children:"C'est prt !"}),u.jsx("div",{className:"max-w-md mx-auto space-y-4",children:u.jsx("p",{className:"text-slate-600 leading-relaxed",children:"Toutes les informations ncessaires ont t collectes. En cliquant sur le bouton ci-dessous, vous finaliserez la configuration de votre plateforme."})}),u.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl text-left border border-slate-100 space-y-4 max-w-lg mx-auto mt-8",children:[u.jsx("p",{className:"text-xs uppercase font-bold text-slate-400 tracking-widest",children:"Rcapitulatif"}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-slate-500",children:"Entreprise"}),u.jsx("span",{className:"font-bold text-slate-800",children:q("name")})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-slate-500",children:"Logos"}),u.jsx("span",{className:"font-bold text-slate-800",children:h||g?"Configurs":"Par dfaut"})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-slate-500",children:"Donnes"}),u.jsxs("span",{className:"font-bold text-slate-800",children:[_.length," monteurs, ",x.length," chantiers"]})]})]}),u.jsx("div",{className:"flex justify-center pt-8",children:u.jsx("button",{onClick:we,disabled:V,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-12 py-4 rounded-2xl font-black text-lg flex items-center gap-3 transition-all hover:scale-105 active:scale-95 shadow-xl shadow-indigo-200 disabled:opacity-50",children:V?u.jsx(fr,{className:"animate-spin",size:24}):"FINALISER LA CONFIGURATION"})})]})]})]})]})})},Z7=()=>{const[e,t]=_e.useState(!1),[r,n]=_e.useState({monteurs:0,chantiers:0}),[i,s]=_e.useState(null),[a,o]=_e.useState(null),[l,d]=_e.useState(""),[f,h]=_e.useState(""),[m,g]=_e.useState([]),[w,_]=_e.useState([]),{showToast:L}=Ul(),{register:x,handleSubmit:S,formState:{errors:F},reset:T}=Ka();_e.useEffect(()=>{(async()=>{t(!0);try{const M=await ji.getStatus();n(M.data.counts||{monteurs:0,chantiers:0}),M.data.company&&(T({name:M.data.company.name,siret:M.data.company.siret||"",address:M.data.company.address||"",email:M.data.company.email||"",phone:M.data.company.phone||""}),d(M.data.company.companyLogoUrl||""),h(M.data.company.loginLogoUrl||""))}catch{L("Erreur lors du chargement des paramtres","error")}finally{t(!1)}})()},[T,L]);const V=async k=>{t(!0);try{await ji.updateCompany(k),L("Informations de l'entreprise mises  jour","success")}catch{L("Erreur lors de la mise  jour","error")}finally{t(!1)}},U=async()=>{if(!(!i&&!a)){t(!0);try{await ji.uploadLogos(i||void 0,a||void 0),L("Logos mis  jour avec succs","success");const k=await ji.getStatus();d(k.data.company.companyLogoUrl||""),h(k.data.company.loginLogoUrl||""),s(null),o(null)}catch{L("Erreur lors de l'upload des logos","error")}finally{t(!1)}}},$=(k,M)=>{uw.parse(M,{header:!0,skipEmptyLines:!0,complete:P=>{k==="monteurs"?g(P.data):_(P.data),L(`${P.data.length} ${k} dtects`,"info")},error:()=>{L("Erreur de lecture du fichier CSV","error")}})},N=async()=>{if(!(m.length===0&&w.length===0)){t(!0);try{const k=await ji.importData({monteurs:m,chantiers:w}),{importedMonteurs:M,importedChantiers:P}=k.data;L(`${M} monteurs et ${P} chantiers imports`,"success");const E=await ji.getStatus();n(E.data.counts),g([]),_([])}catch{L("Erreur lors de l'importation","error")}finally{t(!1)}}};return e&&!l?u.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:u.jsx(fr,{className:"animate-spin text-indigo-600",size:40})}):u.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[u.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[u.jsxs("div",{className:"p-6 border-b border-slate-50 flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-indigo-50 text-indigo-600 rounded-lg",children:u.jsx(lf,{size:24})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Identit de l'Entreprise"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Grez les informations lgales et de contact."})]})]}),u.jsx("div",{className:"p-6",children:u.jsxs("form",{onSubmit:S(V),className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Nom commercial *"}),u.jsx("input",{...x("name",{required:"Le nom est requis"}),className:"w-full p-3 rounded-xl border border-slate-200 focus:border-indigo-500 bg-slate-50 transition-all outline-none"}),F.name&&u.jsx("p",{className:"text-red-500 text-xs mt-1",children:F.name.message})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"SIRET"}),u.jsx("input",{...x("siret"),className:"w-full p-3 rounded-xl border border-slate-200 focus:border-indigo-500 bg-slate-50 transition-all outline-none"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Email de contact"}),u.jsx("input",{...x("email"),className:"w-full p-3 rounded-xl border border-slate-200 focus:border-indigo-500 bg-slate-50 transition-all outline-none"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Tlphone"}),u.jsx("input",{...x("phone"),className:"w-full p-3 rounded-xl border border-slate-200 focus:border-indigo-500 bg-slate-50 transition-all outline-none"})]}),u.jsxs("div",{className:"md:col-span-2 space-y-1",children:[u.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Adresse complte"}),u.jsx("textarea",{...x("address"),rows:2,className:"w-full p-3 rounded-xl border border-slate-200 focus:border-indigo-500 bg-slate-50 transition-all outline-none resize-none"})]})]}),u.jsx("div",{className:"flex justify-end",children:u.jsxs("button",{type:"submit",disabled:e,className:"flex items-center gap-2 px-6 py-2.5 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition-all disabled:opacity-50",children:[e?u.jsx(fr,{className:"animate-spin",size:20}):u.jsx(zh,{size:20}),"Enregistrer les modifications"]})})]})})]}),u.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[u.jsxs("div",{className:"p-6 border-b border-slate-50 flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-indigo-50 text-indigo-600 rounded-lg",children:u.jsx(Ll,{size:24})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Branding & Logos"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Personnalisez l'apparence visuelle."})]})]}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Logo de l'application"}),u.jsxs("div",{className:"relative h-48 rounded-2xl border-2 border-dashed border-slate-200 flex items-center justify-center bg-slate-50 overflow-hidden",children:[i?u.jsx("img",{src:URL.createObjectURL(i),className:"max-h-full",alt:"New logo"}):l?u.jsx("img",{src:`http://localhost:5000${l}`,className:"max-h-full",alt:"Current logo"}):u.jsx(Ll,{className:"text-slate-300",size:48}),u.jsx("input",{type:"file",accept:"image/*",className:"absolute inset-0 opacity-0 cursor-pointer",onChange:k=>k.target.files&&s(k.target.files[0])})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Logo de connexion"}),u.jsxs("div",{className:"relative h-48 rounded-2xl border-2 border-dashed border-slate-200 flex items-center justify-center bg-slate-50 overflow-hidden",children:[a?u.jsx("img",{src:URL.createObjectURL(a),className:"max-h-full",alt:"New logo"}):f?u.jsx("img",{src:`http://localhost:5000${f}`,className:"max-h-full",alt:"Current logo"}):u.jsx(Ll,{className:"text-slate-300",size:48}),u.jsx("input",{type:"file",accept:"image/*",className:"absolute inset-0 opacity-0 cursor-pointer",onChange:k=>k.target.files&&o(k.target.files[0])})]})]})]}),(i||a)&&u.jsx("div",{className:"mt-8 flex justify-end",children:u.jsxs("button",{onClick:U,disabled:e,className:"flex items-center gap-2 px-6 py-2.5 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition-all disabled:opacity-50",children:[e&&u.jsx(fr,{className:"animate-spin",size:20}),"Mettre  jour les logos"]})})]})]}),u.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[u.jsxs("div",{className:"p-6 border-b border-slate-50 flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-indigo-50 text-indigo-600 rounded-lg",children:u.jsx(El,{size:24})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Importation Additionnelle"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Ajoutez des monteurs ou des chantiers en masse via CSV."})]})]}),u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:`p-6 rounded-2xl border-2 transition-all ${m.length>0?"bg-indigo-50 border-indigo-200":"bg-white border-slate-100"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600",children:u.jsx(lb,{size:20})}),u.jsx("h3",{className:"font-bold text-slate-800",children:"Monteurs"})]}),u.jsxs("span",{className:"px-2 py-1 bg-slate-100 text-slate-600 text-xs font-bold rounded-lg",children:[r.monteurs," au total"]})]}),m.length>0?u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("p",{className:"text-sm font-medium text-indigo-700",children:[m.length," lignes prtes"]}),u.jsx("button",{onClick:()=>g([]),className:"text-slate-400 hover:text-red-500",children:u.jsx(Ma,{size:16})})]}):u.jsx("div",{className:"relative",children:u.jsxs("label",{className:"flex items-center gap-2 p-3 bg-slate-50 border border-slate-200 rounded-xl cursor-pointer hover:bg-slate-100 transition-all text-slate-600 text-sm",children:[u.jsx(El,{size:16})," Slectionner un CSV",u.jsx("input",{type:"file",accept:".csv",className:"hidden",onChange:k=>k.target.files&&$("monteurs",k.target.files[0])})]})})]}),u.jsxs("div",{className:`p-6 rounded-2xl border-2 transition-all ${w.length>0?"bg-indigo-50 border-indigo-200":"bg-white border-slate-100"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600",children:u.jsx(rb,{size:20})}),u.jsx("h3",{className:"font-bold text-slate-800",children:"Chantiers"})]}),u.jsxs("span",{className:"px-2 py-1 bg-slate-100 text-slate-600 text-xs font-bold rounded-lg",children:[r.chantiers," au total"]})]}),w.length>0?u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("p",{className:"text-sm font-medium text-indigo-700",children:[w.length," lignes prtes"]}),u.jsx("button",{onClick:()=>_([]),className:"text-slate-400 hover:text-red-500",children:u.jsx(Ma,{size:16})})]}):u.jsx("div",{className:"relative",children:u.jsxs("label",{className:"flex items-center gap-2 p-3 bg-slate-50 border border-slate-200 rounded-xl cursor-pointer hover:bg-slate-100 transition-all text-slate-600 text-sm",children:[u.jsx(El,{size:16})," Slectionner un CSV",u.jsx("input",{type:"file",accept:".csv",className:"hidden",onChange:k=>k.target.files&&$("chantiers",k.target.files[0])})]})})]})]}),(m.length>0||w.length>0)&&u.jsx("div",{className:"flex justify-end",children:u.jsxs("button",{onClick:N,disabled:e,className:"flex items-center gap-2 px-6 py-2.5 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition-all disabled:opacity-50",children:[e&&u.jsx(fr,{className:"animate-spin",size:20}),"Lancer l'importation"]})})]})]})]})};function eA(){const e=hs(i=>i.checkAuth),t=hs(i=>i.initialCheck),r=hs(i=>i.isAuthenticated),n=hs(i=>i.isSetupComplete);return _e.useEffect(()=>{Hm().catch(i=>{console.error("Erreur lors de l'initialisation du token CSRF:",i)}),t(),e()},[e,t]),u.jsx(fj,{children:u.jsx(_N,{children:u.jsxs(vN,{children:[u.jsx(Ni,{path:"/login",element:n?r?u.jsx(wu,{to:"/",replace:!0}):u.jsx(Tj,{}):u.jsx(wu,{to:"/",replace:!0})}),u.jsx(Ni,{path:"/forgot-password",element:u.jsx(G7,{})}),u.jsx(Ni,{path:"/reset-password",element:u.jsx(Q7,{})}),u.jsx(Ni,{path:"/unauthorized",element:u.jsx(J7,{})}),u.jsxs(Ni,{path:"/",element:n?u.jsx(wc,{children:u.jsx(cj,{})}):u.jsx(X7,{}),children:[u.jsx(Ni,{index:!0,element:u.jsx(wu,{to:"/dashboard",replace:!0})}),u.jsx(Ni,{path:"dashboard",element:u.jsx(N_,{})}),u.jsx(Ni,{path:"feuilles",element:u.jsx(T7,{})}),u.jsx(Ni,{path:"monteurs",element:u.jsx(wc,{allowedRoles:["ADMIN","SUPERVISEUR"],children:u.jsx(U7,{})})}),u.jsx(Ni,{path:"chantiers",element:u.jsx(wc,{allowedRoles:["ADMIN","SUPERVISEUR"],children:u.jsx(H7,{})})}),u.jsx(Ni,{path:"users",element:u.jsx(wc,{allowedRoles:["ADMIN"],children:u.jsx(W7,{})})}),u.jsx(Ni,{path:"settings",element:u.jsx(wc,{allowedRoles:["ADMIN"],children:u.jsx(Z7,{})})})]}),u.jsx(Ni,{path:"*",element:u.jsx(wu,{to:"/dashboard",replace:!0})})]})})})}w0.createRoot(document.getElementById("root")).render(u.jsx(Zt.StrictMode,{children:u.jsx(eA,{})}));export{gr as _,b0 as c,hf as g};
